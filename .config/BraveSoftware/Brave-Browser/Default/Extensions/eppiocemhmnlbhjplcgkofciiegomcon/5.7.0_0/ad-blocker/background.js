(()=>{var x={4696:(x,$,v)=>{"use strict";const C=v(9327);$.A=C.default},683:function(x,$){"use strict";var v=this&&this.__awaiter||function(x,$,v,C){return new(v||(v=Promise))((function(D,V){function p(x){try{Z(C.next(x))}catch(x){V(x)}}function K(x){try{Z(C.throw(x))}catch(x){V(x)}}function Z(x){var $;x.done?D(x.value):($=x.value,$ instanceof v?$:new v((function(x){x($)}))).then(p,K)}Z((C=C.apply(x,$||[])).next())}))};Object.defineProperty($,"__esModule",{value:!0}),$.LocalStorage=void 0;$.LocalStorage=class{static getItem(x){return v(this,void 0,void 0,(function*(){return yield chrome.storage.local.get(x).then(($=>$[x]))}))}static setItem(x,$){chrome.storage.local.set({[x]:$})}static hasItem(x){return v(this,void 0,void 0,(function*(){return yield this.getItem(x).then(Boolean)}))}static removeItem(x){return v(this,void 0,void 0,(function*(){yield chrome.storage.local.remove(x)}))}}},6019:function(x,$,v){"use strict";var C=this&&this.__awaiter||function(x,$,v,C){return new(v||(v=Promise))((function(D,V){function p(x){try{Z(C.next(x))}catch(x){V(x)}}function K(x){try{Z(C.throw(x))}catch(x){V(x)}}function Z(x){var $;x.done?D(x.value):($=x.value,$ instanceof v?$:new v((function(x){x($)}))).then(p,K)}Z((C=C.apply(x,$||[])).next())}))};Object.defineProperty($,"__esModule",{value:!0}),$.Migration_4_0_4=void 0;const D=v(683);class V{static handle(x){return C(this,void 0,void 0,(function*(){(yield D.LocalStorage.hasItem(this.migrationKey))||(yield D.LocalStorage.removeItem(x),D.LocalStorage.setItem(this.migrationKey,!0))}))}}$.Migration_4_0_4=V,V.migrationKey="PANELIST_MIGRATION_4_0_4"},9327:function(x,$,v){"use strict";var C=this&&this.__awaiter||function(x,$,v,C){return new(v||(v=Promise))((function(D,V){function p(x){try{Z(C.next(x))}catch(x){V(x)}}function K(x){try{Z(C.throw(x))}catch(x){V(x)}}function Z(x){var $;x.done?D(x.value):($=x.value,$ instanceof v?$:new v((function(x){x($)}))).then(p,K)}Z((C=C.apply(x,$||[])).next())}))},D=this&&this.__rest||function(x,$){var v={};for(var C in x)Object.prototype.hasOwnProperty.call(x,C)&&$.indexOf(C)<0&&(v[C]=x[C]);if(null!=x&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(C=Object.getOwnPropertySymbols(x);D<C.length;D++)$.indexOf(C[D])<0&&Object.prototype.propertyIsEnumerable.call(x,C[D])&&(v[C[D]]=x[C[D]])}return v};Object.defineProperty($,"__esModule",{value:!0});const V=v(683),p=v(6019),K=(x,$=5e3,v=()=>null)=>C(void 0,void 0,void 0,(function*(){const{url:C}=x,V=D(x,["url"]),p=new AbortController,K=setTimeout((()=>{p.abort(),v()}),$),Z=yield fetch(C,Object.assign(Object.assign({},V),{signal:p.signal}));return clearTimeout(K),Z}));$.default=class{constructor(x={}){if("string"!=typeof x.host)throw new Error("PanalyticsUtility: Server host is undefined");this.config=x}synchronize(){return C(this,void 0,void 0,(function*(){const x=yield this.loadKey();yield this.globalSetter(x)}))}getKey(x){this.getKeyAsync().then(x)}getKeyAsync(){return C(this,void 0,void 0,(function*(){const x=yield this.loadKey();if(x)return yield this.provideKeyToStorage(x),x;const $=yield this.getLocalKey();return yield this.setKey($),$}))}get localGeneratedKey(){return Symbol.for(`__${this.storageSyncKey}__`)}get storageSyncKey(){var x;return null!==(x=this.config.storageKey)&&void 0!==x?x:"panalyticsid"}get cacheResourceUrl(){return`${this.config.host}/api/identity/cache`}get cookieResourceUrl(){return`${this.config.host}/api/identity/cookie`}loadKey(){return C(this,void 0,void 0,(function*(){return yield p.Migration_4_0_4.handle(this.storageSyncKey),yield new Promise((x=>C(this,void 0,void 0,(function*(){const $=[this.localStorageGetter.bind(this),this.cacheGetter.bind(this),this.cookieGetter.bind(this)];for(const v of $){const $=yield v();if($)return void x($)}x()}))))}))}getLocalKey(){return C(this,void 0,void 0,(function*(){return globalThis[this.localGeneratedKey]||(globalThis[this.localGeneratedKey]=new Promise((x=>{x(this.generateKey())}))),yield globalThis[this.localGeneratedKey]}))}generateKey(){let x="";const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let v=0;v<22;v++)x+=$.charAt(Math.floor(62*Math.random()));return this.log(`key generated locally: ${x}`),x}setKey(x){return C(this,void 0,void 0,(function*(){yield this.globalSetter(x)}))}localStorageGetter(){return C(this,void 0,void 0,(function*(){this.log(`localStorageGetter: try to get "${this.storageSyncKey}" from localStorage.`);const x=yield V.LocalStorage.getItem(this.storageSyncKey);return x?this.log(`localStorageGetter: "${this.storageSyncKey}" has been found in localStorage. Value: "${x}"`):this.log(`localStorageGetter: "${this.storageSyncKey}" has not been found in localStorage.`),x}))}localStorageSetter(x){this.log(`localStorageSetter: "${this.storageSyncKey}" is going to be stored in localStorage.`),V.LocalStorage.setItem(this.storageSyncKey,x)}provideKeyToStorage(x){return C(this,void 0,void 0,(function*(){(yield V.LocalStorage.hasItem(this.storageSyncKey))||this.localStorageSetter(x)}))}cacheGetter(){return C(this,void 0,void 0,(function*(){this.log(`CacheGetter: try to get "${this.storageSyncKey}" from cache.`);const x=this;return yield new Promise(($=>{K({url:this.cacheResourceUrl,method:"GET"},1e3,(()=>{x.log("CacheGetter: Caching request is timed out."),$()})).then((v=>{200===v.status?v.json().then((v=>{const C=v.userKey;C?(x.log(`CacheGetter: "${x.storageSyncKey}" has been found in cache. Value: "${C}"`),$(C)):$()})).catch((()=>{x.log(`CacheGetter: Error occurred while retrieving "${x.storageSyncKey}" from cache.`),$()})):(x.log("CacheGetter: Caching request has been failed."),$())})).catch((()=>{$()}))}))}))}cacheSetter(x){return C(this,void 0,void 0,(function*(){this.log(`CacheSetter: "${this.storageSyncKey}" is going to be stored in cache.`);const $="X-PANEL-USER-KEY",v=this;return yield new Promise((C=>{fetch(this.cacheResourceUrl,{headers:{[$]:x,"Cache-Control":"no-cache"},method:"GET"}).then(($=>{200===$.status?(v.log("CacheSetter: Caching request to server has been succeeded."),C(x)):(v.log("CacheSetter: Caching request has been failed."),C())})).catch((()=>{C()}))}))}))}cookieGetter(){return C(this,void 0,void 0,(function*(){this.log(`CookieGetter: try to get "${this.storageSyncKey}" from cookie.`);const x=this;return yield new Promise(($=>{K({credentials:"include",method:"GET",url:this.cookieResourceUrl},5e3,(()=>{x.log("CookieGetter: Request is timed out."),$()})).then((v=>{200===v.status?v.json().then((v=>{v.userKey?(x.log(`CookieGetter: "${x.storageSyncKey}" has been found in cookie. Value: "${v.userKey}"`),$(v.userKey)):(x.log(`CookieGetter: "${x.storageSyncKey}" has not been found in cookie. `),$())})).catch((()=>{x.log(`CookieGetter: Error occurred while retrieving "${x.storageSyncKey}" from cookie.`),$()})):(x.log("CookieGetter: Cookie request has been failed."),$())})).catch((()=>{$()}))}))}))}cookieSetter(x){return C(this,void 0,void 0,(function*(){this.log(`CookieSetter: "${this.storageSyncKey}" is going to be stored in cookie.`);const $=this;return yield new Promise((v=>{const C=`${this.cookieResourceUrl}?userKey=${x}`;fetch(C,{credentials:"include",method:"POST"}).then((C=>{200===C.status?($.log("CookieSetter: cookie request has been succeeded."),v(x)):($.log("CookieSetter: cookie request has been failed."),v())})).catch((()=>{v()}))}))}))}cookieClear(){return C(this,void 0,void 0,(function*(){this.log(`CookieClearer: "${this.storageSyncKey}" is going to be deleted.`);const x=this;yield new Promise(($=>{fetch(this.cookieResourceUrl,{credentials:"include",method:"DELETE"}).then((v=>{200===v.status?(x.log("CookieClearer: cookie request has been succeeded."),$()):(x.log("CookieClearer: cookie request has been failed."),$())})).catch((()=>{$()}))}))}))}globalSetter(x){return C(this,void 0,void 0,(function*(){x?(this.localStorageSetter(x),yield this.cacheSetter(x),yield this.cookieClear(),yield this.cookieSetter(x)):this.log("Value provided to global setter is invalid.")}))}log(x){this.config.logging}}},7452:x=>{var $=function(x){"use strict";var $,v=Object.prototype,C=v.hasOwnProperty,D="function"==typeof Symbol?Symbol:{},V=D.iterator||"@@iterator",p=D.asyncIterator||"@@asyncIterator",K=D.toStringTag||"@@toStringTag";function Z(x,$,v){return Object.defineProperty(x,$,{value:v,enumerable:!0,configurable:!0,writable:!0}),x[$]}try{Z({},"")}catch(x){Z=function(x,$,v){return x[$]=v}}function O(x,$,v,C){var D=$&&$.prototype instanceof u?$:u,V=Object.create(D.prototype),p=new L(C||[]);return V._invoke=function(x,$,v){var C=G;return function(D,V){if(C===M)throw new Error("Generator is already running");if(C===_){if("throw"===D)throw V;return i()}for(v.method=D,v.arg=V;;){var p=v.delegate;if(p){var K=I(p,v);if(K){if(K===e)continue;return K}}if("next"===v.method)v.sent=v._sent=v.arg;else if("throw"===v.method){if(C===G)throw C=_,v.arg;v.dispatchException(v.arg)}else"return"===v.method&&v.abrupt("return",v.arg);C=M;var Z=U(x,$,v);if("normal"===Z.type){if(C=v.done?_:w,Z.arg===e)continue;return{value:Z.arg,done:v.done}}"throw"===Z.type&&(C=_,v.method="throw",v.arg=Z.arg)}}}(x,v,p),V}function U(x,$,v){try{return{type:"normal",arg:x.call($,v)}}catch(x){return{type:"throw",arg:x}}}x.wrap=O;var G="suspendedStart",w="suspendedYield",M="executing",_="completed",e={};function u(){}function z(){}function b(){}var a={};Z(a,V,(function(){return this}));var F=Object.getPrototypeOf,k=F&&F(F(N([])));k&&k!==v&&C.call(k,V)&&(a=k);var A=b.prototype=u.prototype=Object.create(a);function m(x){["next","throw","return"].forEach((function($){Z(x,$,(function(x){return this._invoke($,x)}))}))}function X(x,$){function v(D,V,p,K){var Z=U(x[D],x,V);if("throw"!==Z.type){var O=Z.arg,G=O.value;return G&&"object"==typeof G&&C.call(G,"__await")?$.resolve(G.__await).then((function(x){v("next",x,p,K)}),(function(x){v("throw",x,p,K)})):$.resolve(G).then((function(x){O.value=x,p(O)}),(function(x){return v("throw",x,p,K)}))}K(Z.arg)}var D;this._invoke=function(x,C){function V(){return new $((function($,D){v(x,C,$,D)}))}return D=D?D.then(V,V):V()}}function I(x,v){var C=x.iterator[v.method];if(C===$){if(v.delegate=null,"throw"===v.method){if(x.iterator.return&&(v.method="return",v.arg=$,I(x,v),"throw"===v.method))return e;v.method="throw",v.arg=new TypeError("The iterator does not provide a 'throw' method")}return e}var D=U(C,x.iterator,v.arg);if("throw"===D.type)return v.method="throw",v.arg=D.arg,v.delegate=null,e;var V=D.arg;return V?V.done?(v[x.resultName]=V.value,v.next=x.nextLoc,"return"!==v.method&&(v.method="next",v.arg=$),v.delegate=null,e):V:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,e)}function n(x){var $={tryLoc:x[0]};1 in x&&($.catchLoc=x[1]),2 in x&&($.finallyLoc=x[2],$.afterLoc=x[3]),this.tryEntries.push($)}function l(x){var $=x.completion||{};$.type="normal",delete $.arg,x.completion=$}function L(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(n,this),this.reset(!0)}function N(x){if(x){var v=x[V];if(v)return v.call(x);if("function"==typeof x.next)return x;if(!isNaN(x.length)){var D=-1,p=function v(){for(;++D<x.length;)if(C.call(x,D))return v.value=x[D],v.done=!1,v;return v.value=$,v.done=!0,v};return p.next=p}}return{next:i}}function i(){return{value:$,done:!0}}return z.prototype=b,Z(A,"constructor",b),Z(b,"constructor",z),z.displayName=Z(b,K,"GeneratorFunction"),x.isGeneratorFunction=function(x){var $="function"==typeof x&&x.constructor;return!!$&&($===z||"GeneratorFunction"===($.displayName||$.name))},x.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,b):(x.__proto__=b,Z(x,K,"GeneratorFunction")),x.prototype=Object.create(A),x},x.awrap=function(x){return{__await:x}},m(X.prototype),Z(X.prototype,p,(function(){return this})),x.AsyncIterator=X,x.async=function($,v,C,D,V){void 0===V&&(V=Promise);var p=new X(O($,v,C,D),V);return x.isGeneratorFunction(v)?p:p.next().then((function(x){return x.done?x.value:p.next()}))},m(A),Z(A,K,"Generator"),Z(A,V,(function(){return this})),Z(A,"toString",(function(){return"[object Generator]"})),x.keys=function(x){var $=[];for(var v in x)$.push(v);return $.reverse(),function v(){for(;$.length;){var C=$.pop();if(C in x)return v.value=C,v.done=!1,v}return v.done=!0,v}},x.values=N,L.prototype={constructor:L,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(l),!x)for(var v in this)"t"===v.charAt(0)&&C.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=$)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if("throw"===x.type)throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var v=this;function D(C,D){return K.type="throw",K.arg=x,v.next=C,D&&(v.method="next",v.arg=$),!!D}for(var V=this.tryEntries.length-1;V>=0;--V){var p=this.tryEntries[V],K=p.completion;if("root"===p.tryLoc)return D("end");if(p.tryLoc<=this.prev){var Z=C.call(p,"catchLoc"),O=C.call(p,"finallyLoc");if(Z&&O){if(this.prev<p.catchLoc)return D(p.catchLoc,!0);if(this.prev<p.finallyLoc)return D(p.finallyLoc)}else if(Z){if(this.prev<p.catchLoc)return D(p.catchLoc,!0)}else{if(!O)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return D(p.finallyLoc)}}}},abrupt:function(x,$){for(var v=this.tryEntries.length-1;v>=0;--v){var D=this.tryEntries[v];if(D.tryLoc<=this.prev&&C.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var V=D;break}}V&&("break"===x||"continue"===x)&&V.tryLoc<=$&&$<=V.finallyLoc&&(V=null);var p=V?V.completion:{};return p.type=x,p.arg=$,V?(this.method="next",this.next=V.finallyLoc,e):this.complete(p)},complete:function(x,$){if("throw"===x.type)throw x.arg;return"break"===x.type||"continue"===x.type?this.next=x.arg:"return"===x.type?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):"normal"===x.type&&$&&(this.next=$),e},finish:function(x){for(var $=this.tryEntries.length-1;$>=0;--$){var v=this.tryEntries[$];if(v.finallyLoc===x)return this.complete(v.completion,v.afterLoc),l(v),e}},catch:function(x){for(var $=this.tryEntries.length-1;$>=0;--$){var v=this.tryEntries[$];if(v.tryLoc===x){var C=v.completion;if("throw"===C.type){var D=C.arg;l(v)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(x,v,C){return this.delegate={iterator:N(x),resultName:v,nextLoc:C},"next"===this.method&&(this.arg=$),e}},x}(x.exports);try{regeneratorRuntime=$}catch(x){"object"==typeof globalThis?globalThis.regeneratorRuntime=$:Function("r","regeneratorRuntime = r")($)}},9196:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(6882),p=v(1568),K=v(9358);x.exports=class{constructor(x){this.id=x,this.init=!1,this.tabsCounters=[],this.totalCounter=0,this.ConfigManager=null,this.TabsManager=null,this.status=D.GetDefaultAdblockerStatus(),this.GetStatusFromStorage()}Init(x,$){return!this.init&&C.$&&x&&$&&(this.ConfigManager=x,this.TabsManager=$,this.init=!0),this.init}GetStatusFromStorage(){if(C.$){D.getDataFromStorageLocal("posdAdBlockerStatus").then((x=>{if(x&&"string"==typeof x)if(x===p.ADBLOCKER_STATUS_ENABLED||x===p.ADBLOCKER_STATUS_DISABLED)this.status[p.ADBLOCKER_FOR_DISPLAY]=x,this.SetStatusToStorage();else try{let v=JSON.parse(K.decode(x));for(var $ in v)!this.status.hasOwnProperty($)||v[$]!==p.ADBLOCKER_STATUS_ENABLED&&v[$]!==p.ADBLOCKER_STATUS_DISABLED||(this.status[$]=v[$])}catch(x){}this.SendUpdatedStatusToAgents()}))}}SetStatusToStorage(){let x=K.encode(JSON.stringify(this.status));chrome.storage.local.set({posdAdBlockerStatus:x})}UpdateAdblockerStatus(x,$){if(this.init){let v=!1;x.forEach((x=>{this.status.hasOwnProperty(x)&&this.status[x]!==$&&(this.status[x]=$,v=!0)})),v&&(this.SendUpdatedStatusToAgents(),this.SetStatusToStorage())}}Enable(x){return this.UpdateAdblockerStatus(x,p.ADBLOCKER_STATUS_ENABLED),this.status}Disable(x){return this.UpdateAdblockerStatus(x,p.ADBLOCKER_STATUS_DISABLED),this.IsAnyAdBlockerEnabled()||(this.totalCounter=0,this.tabsCounters=[]),this.status}SetHiddenCandidatesAmount(x,$){let v=D.GetTabIdKey(x);void 0===this.tabsCounters[v]&&(this.tabsCounters[v]=0),this.tabsCounters[v]=this.tabsCounters[v]+$,this.totalCounter=this.totalCounter+$}onTabUpdated(x){let $=D.GetTabIdKey(x);void 0!==this.tabsCounters[$]&&(this.tabsCounters[$]=0)}GetCounters(x){let $={currentPageTotal:0,currentSessionTotal:this.totalCounter},v=D.GetTabIdKey(x);return void 0!==this.tabsCounters[v]&&($.currentPageTotal=this.tabsCounters[v]),$}GetStatus(){return this.status}SendUpdatedStatusToAgents(){this.init&&this.TabsManager.GetAllTabs((x=>{x&&x.length&&x.forEach((x=>{if(x&&x.id){let $=V.EmptyMessage;$.type=p.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED,$.to=D.GetMainPageId(x.id),$.content=this.status,D.IsOnChromeRuntime()&&chrome.tabs.sendMessage(x.id,$).catch((()=>{}))}}))}))}IsAnyAdBlockerEnabled(){let x=!1;for(let $ in this.status)this.status[$]===p.ADBLOCKER_STATUS_ENABLED&&(x=!0);return x}IsAdBlockerEnabled(){return this.init&&C.$&&this.IsAnyAdBlockerEnabled()}}},2442:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this.id=x,this.init=!1,this.hasActiveAdblock=!1,this.InspectorConfig=null,this.needsActiveAgentStatusLastRequestTime=C.GetCurrentTimestamp()-300}get HasActiveAdblock(){return this.hasActiveAdblock}Init(x){return this.InspectorConfig=x,!this.init&&this.InspectorConfig?(this.init=!0,this.init):this.init}IsNeedActivateAgentForTab(x){let $=C.GetCurrentTimestamp();return!!(this.IsActive()&&$-this.needsActiveAgentStatusLastRequestTime>this.GetActivationStatusUpdateInterval())&&(this.needsActiveAgentStatusLastRequestTime=$,!0)}onGotMessageFromAdBlockInspectorAgent(x){this.IsActive()&&x&&(this.hasActiveAdblock=x.hasActiveAdblock)}IsInit(){return this.init}IsActive(){return this.init&&this.InspectorConfig&&this.InspectorConfig.active}GetActivationStatusUpdateInterval(){return this.init&&this.InspectorConfig&&this.InspectorConfig.needsActiveAgentIntervalSec}}},4083:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(3742);x.exports=class{constructor(x){this.id=x,this.init=!1,this.panalyticsId="",this.installEventTriggered=!1,this.sentInstallEvent=!1,this.BackendIOManager=new V}Init(){return!(this.init||!D.IsOnChromeRuntime()||!C.v)&&(chrome.runtime.onInstalled.addListener(this.onExtensionInstalled.bind(this)),this.init=!0,!0)}onExtensionInstalled(x){chrome.runtime.lastError,this.installEventTriggered=!0,this.panalyticsId.length&&!this.sentInstallEvent&&"install"===x.reason&&this.SendInstallEventToBackend()}SetPanalyticsId(x){this.panalyticsId=x,this.panalyticsId.length&&this.installEventTriggered&&!this.sentInstallEvent&&this.SendInstallEventToBackend()}SendInstallEventToBackend(){if(C.v){this.sentInstallEvent=!0;let x=C.C+C.D;this.BackendIOManager.SendInstallEvent(this.panalyticsId,x,this.onSentInstallEvent.bind(this),this.onErrorSentInstallEvent.bind(this))}}onSentInstallEvent(){}onErrorSentInstallEvent(x){}}},3742:(x,$,v)=>{const C=v(8384),D=v(9358),V=v(5978);class p{constructor(){this.init=!1,this.dataCollectionManager=new V}static GetBasicAuthorizationHeaderValue(x){return"Basic "+D.encode(`pnldsk:${C.V}-${C.p}-${C.K}-${x}`)}async SendSingleOutTicketToBackend(x,$,v,D){await this.dataCollectionManager.IsDisabled()?v():$&&$.data&&$.ticketId&&$.ticketId.length&&x&&x.length&&this.SendDataToEndpoint(x,$.data,C.C+C.Z+"/"+$.ticketId,v,D)}async SendMultiOutTicketToBackend(x,$,v,D){await this.dataCollectionManager.IsDisabled()?v():$&&$.data&&x&&x.length&&this.SendDataToEndpoint(x,$.data,C.C+C.Z,v,D)}SendDataToEndpoint(x,$,v,D,V){return!(!$||!v)&&(fetch(v,{method:"POST",cache:"no-cache",body:$,headers:{Authorization:p.GetBasicAuthorizationHeaderValue(x),"Content-type":C.O?"application/octet-stream":"application/json"}}).then((x=>{200===x.status?D():V()})).catch((()=>{V()})),!0)}SendInstallEvent(x,$,v,C){return!!$&&(fetch($,{method:"POST",cache:"no-cache",body:"",headers:{Authorization:p.GetBasicAuthorizationHeaderValue(x)}}).then((x=>{200===x.status?v():C(x)})).catch((x=>{C(x)})),!0)}static GetConfig(x,$,v,C){return $?(fetch($,{method:"GET",cache:"no-cache",headers:{Authorization:p.GetBasicAuthorizationHeaderValue(x)}}).then((x=>{if(200===x.status)return x.text();C()})).then((x=>{v(x)})).catch((()=>{C()})),!0):(C(),!1)}}x.exports=p},3432:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(4128),p=v(6522),K=v(7616),Z=v(1807),O=v(4083),U=v(2442),G=v(9196),w=v(568),M=v(7319),_=v(8758),e=v(247),u=v(9820),z=v(859),b=v(5978),a=v(6502),F=v(7214),k=v(6433),A=(v(1568),v(5)),m=v(3332);x.exports=class extends a{constructor(){super(),this.activeStatus=C.U,this.VideoRequestNumber=0,this.ConfigManager=new w(this.id),this.TabsManager=new F(this.id),this.TicketBuilder=new p(this.id),this.TicketSender=new V(this.id),this.panalyticsId=new K(this.id),this.ContentStorage=new Z(this.id),this.AnalyticManager=new O(this.id),this.AdBlockInspector=new U(this.id),this.AdBlocker=new G(this.id),this.FacebookLoader=new M(this.id),this.TwitterLoader=new _(this.id),this.InstagramLoader=new k(this.id),this.PinterestLoader=new e(this.id),this.LinkedinLoader=new A(this.id),this.TwitchLoader=new m(this.id),this.DataCollectionManager=new b,this.slaveTabs=[],this.excludeList={domains:new u,pages:new z}}async Init(){try{await this.RestoreCurrentActiveStatus(),this.AnalyticManager.Init(),this.panalyticsId.GetId(this.onGetPanalyticsId.bind(this)),D.IsOnChromeRuntime()&&this.InitListeners.call(this),this.TicketSender.Init(),this.TicketBuilder.Init(this.ContentStorage,this.TicketSender,this.AdBlockInspector,this.TabsManager,this.ConfigManager),C.G&&this.AdBlockInspector.Init(this.ConfigManager.GetAdBlockInspectorConfig()),C.$&&this.AdBlocker.Init(this.ConfigManager,this.TabsManager),this.FacebookLoader.init(this.ConfigManager,this.ContentStorage),this.TwitterLoader.init(this.ConfigManager,this.ContentStorage),this.PinterestLoader.init(this.ConfigManager,this.ContentStorage),this.InstagramLoader.init(this.ConfigManager,this.ContentStorage),this.LinkedinLoader.init(this.ConfigManager,this.ContentStorage),this.TwitchLoader.init(this.ConfigManager,this.ContentStorage)}catch(x){}}onGetPanalyticsId(x){this.TicketSender.SetPanalyticsId(x),this.AnalyticManager.SetPanalyticsId(x),this.ConfigManager.SetPanalyticsId(x),this.TicketBuilder.SetPanalyticsId(x)}async RestoreCurrentActiveStatus(){let x=(await chrome.storage.local.get("posdActiveStatus")).posdActiveStatus;"on"===x||"off"===x?this.activeStatus="on"===x:(this.activeStatus=C.U,this.UpdateActiveStatus(this.activeStatus))}UpdateActiveStatus(x){this.activeStatus=x,this.activeStatus?chrome.storage.local.set({posdActiveStatus:"on"}).then((()=>{})):chrome.storage.local.set({posdActiveStatus:"off"}).then((()=>{}))}UpdateConfig(){this.ConfigManager&&this.ConfigManager.UpdateConfig(3e3)}GetAdBlockerStatus(x,$){C.$&&this.AdBlocker&&x?x(this.AdBlocker.GetStatus()):$&&$("error: adblocker is not available")}GetAdBlockerCounters(x,$,v){C.$&&this.AdBlocker&&x?x(this.AdBlocker.GetCounters(v)):$&&$("error: adblocker is not available")}EnableAdBlocker(x,$,v){C.$&&this.AdBlocker&&x?x(this.AdBlocker.Enable(v)):$&&$("error: adblocker is not available")}DisableAdBlocker(x,$,v){C.$&&this.AdBlocker&&x?x(this.AdBlocker.Disable(v)):$&&$("error: adblocker is not available")}UpdateSlaveTabs(x,$){if($){if(this.slaveTabs.includes(x)){let $=this.slaveTabs.indexOf(x);-1!==$&&this.slaveTabs.splice($,1)}}else this.slaveTabs.includes(x)||this.slaveTabs.push(x)}isTabMaster(x){return!this.slaveTabs.includes(x)}GetExcludeList(x,$,v){try{this._validateExcludeListType(v),this.excludeList[v].GetList().then(($=>{x($)}))}catch(x){$(x)}}AddIntoExcludeList(x,$,v,C){this.excludeList[v]||$();try{x(this.excludeList[v].AddItem(C))}catch(x){$(x)}}RemoveFromExcludeList(x,$,v,C){try{this._validateExcludeListType(v),x(this.excludeList[v].RemoveItem(C))}catch(x){$(x)}}HasItemInExcludeList(x,$,v,C){try{this._validateExcludeListType(v),this.excludeList[v].HasItem(C).then(($=>{x($)}))}catch(x){$(x)}}AddCurrentDomainIntoExcludeList(x,$){this.GetCurrentDomain((v=>{try{this.excludeList.domains.AddItem(v),x(v)}catch(x){$(x)}}),(x=>$(x)))}AddCurrentPageIntoExcludeList(x,$){this.GetCurrentPageUrl((v=>{try{this.excludeList.pages.AddItem(v),x(v)}catch(x){$(x)}}),(x=>$(x)))}GetCurrentDomain(x,$){this.GetCurrentPageUrl((v=>{try{let $=new URL(v);x(`${$.protocol}//${$.hostname}`)}catch(x){$(x)}}),(x=>$(x)))}GetCurrentPageUrl(x,$){chrome.tabs.query({active:!0,currentWindow:!0}).then((v=>{v&&v[0]&&v[0].id?x(v[0].url):$(new Error("No Active Tab"))})).catch((()=>{}))}UseLocalConfig(x,$,v){this.ConfigManager.LoadConfig(x),$(x)}GetStatusOfLocalConfig(){}_validateExcludeListType(x){if(!this.excludeList[x])throw new Error(`List type "${x}" is not available`)}EnableDataCollection(x,$){try{this.DataCollectionManager.Enable(),x()}catch(x){$()}}DisableDataCollection(x,$){try{this.DataCollectionManager.Disable(),x()}catch(x){$()}}async GetDataCollectionStatus(x,$){try{x(await this.DataCollectionManager.IsEnabled())}catch(x){$()}}}},568:(x,$,v)=>{const C=v(8384),D=v(9358),V=v(3742),p=v(6827);x.exports=class{constructor(x){this.id=x,this.configEncoded=p,this.config=JSON.parse(D.decode(this.configEncoded)),this.panalyticsId="",this.isLocalConfigUse=!0}SetPanalyticsId(x){this.panalyticsId!==x&&(this.panalyticsId=x,this.LoadConfig(),setInterval(this.LoadConfig.bind(this),36e5))}LoadConfig(x=!1){let $=!x&&C.C+C.M;this.isLocalConfigUse=x,V.GetConfig(this.panalyticsId,$,this.onGetConfigData.bind(this),this.onGetConfigDataError.bind(this))}UpdateConfig(x){setTimeout(this.LoadConfig.bind(this),x)}onGetConfigDataError(){this.isLocalConfigUse&&this.setDefaultConfigForUse()}setDefaultConfigForUse(){this.configEncoded=p,this.config=JSON.parse(D.decode(this.configEncoded))}get statusLocalConfigInUse(){return this.isLocalConfigUse}onGetConfigData(x){try{let $=JSON.parse(D.decode(x));$&&$.hasOwnProperty("filterLists")&&$.hasOwnProperty("videoValidatorsForHTML")&&$.hasOwnProperty("videoValidatorsForJS")&&$.hasOwnProperty("videoValidatorsForXHR")&&$.hasOwnProperty("loadManagement")&&$.hasOwnProperty("facebookConfig")&&$.hasOwnProperty("twitterConfig")&&$.hasOwnProperty("adBlockInspectorConfig")&&(this.configEncoded=x,this.config=$)}catch(x){}}get GetConfigFull(){return this.config}GetLoadManagementSettings(){return this.config.loadManagement}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get InstagramConfig(){return this.config.instagramConfig}get LinkedinConfig(){return this.config.linkedinConfig}get twitchConfig(){return this.config.twitchConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}GetBannerAdsConfig(){return this.config.bannerAdsConfig}GetHtml5AdsConfig(){return this.config.HTML5AdsConfig}get _(){return this.config.aiMessagesConfig||{}}get u(){return this._.CLAUDE}get F(){return this._.CHATGPT}get k(){return this._.COPILOT}get m(){return this._.PERPLEXITY}get X(){return this._.META_AI}get I(){return this._.DEEPSEEK}get l(){return this._.GEMINI}IsUseSensitiveDataFilter(){return!!this.config.hasOwnProperty("useSensitiveDataFilter")&&this.config.useSensitiveDataFilter}GetConfigEncoded(){return this.configEncoded}}},1807:(x,$,v)=>{v(1568);x.exports=class{constructor(x){this.id=x,this.init=!1,this.CandidatesDataSkinAds=[],this.CandidatesDataBanners=[],this.CandidatesDataFacebook=[],this.CandidatesFacebookVideoData=[],this.CandidatesDataTwitter=[],this.CandidatesTwitterVideoData=[],this.CandidatesTwitterCarouselData=[],this.TwitterCandidatePlacements=[],this.maxAmountTwitterCandidates=3,this.maxAmountTwitterVideoDatas=40,this.CandidatesDataReddit=[],this.CandidatesRedditVideoData=[],this.CandidatesRedditRightColumnData=[],this.RedditCandidatePlacements=[],this.Html5CandidatePlacements=[],this.InstagramCandidatePlacements=[],this.CandidatesDataInstagram=[],this.CandidatesInstagramVideoData=[],this.CandidatesInstagramFullTextData=[],this.CandidatesInstagramStoryData=[],this.CandidatesInstagramCarouselSlidesSources=[],this.CandidatesInstagramUnqiueIdsSent=[],this.TiktokCandidatePlacements=[],this.CandidatesTiktokVideoData=[],this.LimitForStorages=100,this.FacebookCandidatePlacements=[],this.FacebookAboutSectionContent=[],this.PinterestCandidatePlacements=[],this.CandidatesDataPinterest=[],this.CandidatesPinterestVideoData=[],this.PinterestUniqueContentIdSent=[],this.LinkedinCandidatePlacements=[],this.CandidatesDataLinkedin=[],this.CandidatesLinkedinVideoData=[],this.CandidatesLinkedinSlidesData=[],this.LinkedinFramesContent=[],this.CandidatesAIMessagesData=[],this.ChainSegmentContent=[],this.ChainSegmentContentFromBlockedIFrame=[],this.InvalidChainCompletedContent=[],this.FramesWithInputs=[],this.FramesWithRedirects=[],this.VideoHars=[],this.FramesDataContent=[],this.FramesHeaderInfoDataContent=[],this.sniffedVideoTrafficElementsCount=[]}GetMpKey(x){return"mp_"+x}AddFrameDataContent(x,$){let v=this.GetMpKey(x);this.FramesDataContent[v]||(this.FramesDataContent[v]=[]),this.FramesDataContent[v].push($)}AddSniffedVideoTrafficElementsCount(x,$){let v=this.GetMpKey(x);this.sniffedVideoTrafficElementsCount[v]||(this.sniffedVideoTrafficElementsCount[v]=0),this.sniffedVideoTrafficElementsCount[v]=this.sniffedVideoTrafficElementsCount[v]+$}GetSniffedVideoTrafficElementsCount(x){let $=this.GetMpKey(x);return this.sniffedVideoTrafficElementsCount[$]?this.sniffedVideoTrafficElementsCount[$]:0}ClearSniffedVideoTrafficElementsCount(x){let $=this.GetMpKey(x);this.sniffedVideoTrafficElementsCount[$]&&(this.sniffedVideoTrafficElementsCount[$]=0)}AddHeaderInfoFrame(x,$){let v=this.GetMpKey(x);this.FramesHeaderInfoDataContent[v]||(this.FramesHeaderInfoDataContent[v]=[]),this.FramesHeaderInfoDataContent[v].push($)}AddLinkedinFrameContent(x,$){let v=this.GetMpKey(x);this.LinkedinFramesContent[v]||(this.LinkedinFramesContent[v]=[]),this.LinkedinFramesContent[v].push($)}AddCandidatesDataSkinAds(x,$){let v=this.GetMpKey(x);this.CandidatesDataSkinAds[v]||(this.CandidatesDataSkinAds[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataSkinAds[v].push($[x])}AddCandidatesDataBanners(x,$){let v=this.GetMpKey(x);this.CandidatesDataBanners[v]||(this.CandidatesDataBanners[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataBanners[v].push($[x])}AddOneCandidateDataFacebook(x,$){let v=this.GetMpKey(x);this.CandidatesDataFacebook[v]||(this.CandidatesDataFacebook[v]=[]),this.CandidatesDataFacebook[v].push($)}AddCandidatesFacebookVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesFacebookVideoData[v]||(this.CandidatesFacebookVideoData[v]=[]),this.CandidatesFacebookVideoData[v].push($)}AddCandidatesTwitterVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesTwitterVideoData[v]||(this.CandidatesTwitterVideoData[v]=[]),this.CandidatesTwitterVideoData[v].push($)}AddCandidatesTwitterCarouselData(x,$){let v=this.GetMpKey(x);this.CandidatesTwitterCarouselData[v]||(this.CandidatesTwitterCarouselData[v]=[]),this.CandidatesTwitterCarouselData[v].push($)}AddCandidatesRedditVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesRedditVideoData[v]||(this.CandidatesRedditVideoData[v]=[]),this.CandidatesRedditVideoData[v].push($)}AddCandidatesRedditRightColumnData(x,$){let v=this.GetMpKey(x);this.CandidatesRedditRightColumnData[v]||(this.CandidatesRedditRightColumnData[v]=[]),this.CandidatesRedditRightColumnData[v].push($)}AddCandidatesPinterestVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesPinterestVideoData[v]||(this.CandidatesPinterestVideoData[v]=[]),this.CandidatesPinterestVideoData[v].push($)}AddCandidatesInstagramVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesInstagramVideoData[v]||(this.CandidatesInstagramVideoData[v]=[]),this.CandidatesInstagramVideoData[v].push($)}AddCandidatesLinkedinVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesLinkedinVideoData[v]||(this.CandidatesLinkedinVideoData[v]=[]),this.CandidatesLinkedinVideoData[v].push($)}AddCandidatesLinkedinSlidesData(x,$){let v=this.GetMpKey(x);this.CandidatesLinkedinSlidesData[v]||(this.CandidatesLinkedinSlidesData[v]=[]),this.CandidatesLinkedinSlidesData[v].push($)}AddCandidatesInstagramCarouselSlidesData(x,$){let v=this.GetMpKey(x);this.CandidatesInstagramCarouselSlidesSources[v]||(this.CandidatesInstagramCarouselSlidesSources[v]=[]),this.CandidatesInstagramCarouselSlidesSources[v].push($)}AddCandidatesInstagramFullTextData(x,$){let v=this.GetMpKey(x);this.CandidatesInstagramFullTextData[v]||(this.CandidatesInstagramFullTextData[v]=[]),this.CandidatesInstagramFullTextData[v].push($)}AddCandidatesInstagramStoryData(x,$,v){let C=this.GetMpKey(x);if(this.CandidatesInstagramStoryData[C]||(this.CandidatesInstagramStoryData[C]=[]),this.CandidatesInstagramStoryData[C].push($),v){$[0].advertiserName,$[0].advertiserName;this.AddCandidatePlacementsInstagram(x,1)}}AddCandidatesInstagramUniqueIdsSent(x,$){let v=this.GetMpKey(x);this.CandidatesInstagramUnqiueIdsSent[v]||(this.CandidatesInstagramUnqiueIdsSent[v]=[]),this.CandidatesInstagramUnqiueIdsSent[v].includes($)||this.CandidatesInstagramUnqiueIdsSent[v].push($)}AddCandidatesTiktokVideoData(x,$){let v=this.GetMpKey(x);this.CandidatesTiktokVideoData[v]||(this.CandidatesTiktokVideoData[v]=[]),this.CandidatesTiktokVideoData[v].push($)}AddCandidatesDataFacebook(x,$){let v=this.GetMpKey(x);this.CandidatesDataFacebook[v]||(this.CandidatesDataFacebook[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataFacebook[v].push($[x])}AddCandidatesDataTwitter(x,$){let v=this.GetMpKey(x);this.CandidatesDataTwitter[v]||(this.CandidatesDataTwitter[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataTwitter[v].push($[x])}AddCandidatesDataReddit(x,$){let v=this.GetMpKey(x);this.CandidatesDataReddit[v]||(this.CandidatesDataReddit[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataReddit[v].push($[x])}AddCandidatesDataLinkedin(x,$){let v=this.GetMpKey(x);this.CandidatesDataLinkedin[v]||(this.CandidatesDataLinkedin[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataLinkedin[v].push($[x])}AddCandidatesDataInstagram(x,$){let v=this.GetMpKey(x);this.CandidatesDataInstagram[v]||(this.CandidatesDataInstagram[v]=[]);for(let x=0;x<$.length;x++)this.CandidatesDataInstagram[v].push($[x])}AddFacebookAboutSectionContent(x,$){let v=this.GetMpKey(x);this.FacebookAboutSectionContent[v]||(this.FacebookAboutSectionContent[v]=[]);for(let x=0;x<$.length;x++)this.FacebookAboutSectionContent[v].push($[x])}AddCandidatesDataPinterest(x,$){let v=this.GetMpKey(x);this.CandidatesDataPinterest[v]||(this.CandidatesDataPinterest[v]=[]),this.PinterestUniqueContentIdSent[v]||(this.PinterestUniqueContentIdSent[v]=[]);for(let C=0;C<$.length;C++){let D=$[C].uniqueContentId;D&&this.PinterestUniqueContentIdSent[v]&&!this.PinterestUniqueContentIdSent[v].includes(D)&&(this.AddUniqueContentIdPinterest(x,D),this.CandidatesDataPinterest[v].push($[C]),this.AddCandidatePlacementsPinterest(x,1))}}AddCandidatesAIMessageData(x,$){let v=this.GetMpKey(x);this.CandidatesAIMessagesData[v]||(this.CandidatesAIMessagesData[v]=[]),this.CandidatesAIMessagesData[v].push($)}AddCandidatePlacementsFacebook(x,$){let v=this.GetMpKey(x);this.FacebookCandidatePlacements[v]||(this.FacebookCandidatePlacements[v]=0),this.FacebookCandidatePlacements[v]=this.FacebookCandidatePlacements[v]+$}AddCandidatePlacementsTwitter(x,$){let v=this.GetMpKey(x);this.TwitterCandidatePlacements[v]||(this.TwitterCandidatePlacements[v]=0),this.TwitterCandidatePlacements[v]=this.TwitterCandidatePlacements[v]+$}AddCandidatePlacementsReddit(x,$){let v=this.GetMpKey(x);this.RedditCandidatePlacements[v]||(this.RedditCandidatePlacements[v]=0),this.RedditCandidatePlacements[v]=this.RedditCandidatePlacements[v]+$}AddCandidatePlacementsHtml5(x,$){let v=this.GetMpKey(x);this.Html5CandidatePlacements[v]||(this.Html5CandidatePlacements[v]=0),this.Html5CandidatePlacements[v]=this.Html5CandidatePlacements[v]+$}AddCandidatePlacementsInstagram(x,$){let v=this.GetMpKey(x);this.InstagramCandidatePlacements[v]||(this.InstagramCandidatePlacements[v]=0),this.InstagramCandidatePlacements[v]=this.InstagramCandidatePlacements[v]+$}AddCandidatePlacementsTiktok(x,$){let v=this.GetMpKey(x);this.TiktokCandidatePlacements[v]||(this.TiktokCandidatePlacements[v]=0),this.TiktokCandidatePlacements[v]=this.TiktokCandidatePlacements[v]+$}AddCandidatePlacementsPinterest(x,$){let v=this.GetMpKey(x);this.PinterestCandidatePlacements[v]||(this.PinterestCandidatePlacements[v]=0),this.PinterestCandidatePlacements[v]=this.PinterestCandidatePlacements[v]+$}AddCandidatePlacementsLinkedin(x,$){let v=this.GetMpKey(x);this.LinkedinCandidatePlacements[v]||(this.LinkedinCandidatePlacements[v]=0),this.LinkedinCandidatePlacements[v]=this.LinkedinCandidatePlacements[v]+$}AddInvalidChainCompletedContent(x,$){let v=this.GetMpKey(x);this.InvalidChainCompletedContent[v]||(this.InvalidChainCompletedContent[v]=[]),this.InvalidChainCompletedContent[v].push($)}AddChainSegmentContent(x,$){if($&&$.headerInfo){let v=this.GetMpKey(x);this.ChainSegmentContent[v]||(this.ChainSegmentContent[v]=[]),this.ChainSegmentContent[v].push($)}}AddChainSegmentContentFromBlockedIFrame(x,$){if($){let v=this.GetMpKey(x);this.ChainSegmentContentFromBlockedIFrame[v]||(this.ChainSegmentContentFromBlockedIFrame[v]=[]),this.ChainSegmentContentFromBlockedIFrame[v].push($)}}AddFrameWithInputs(x,$){let v=this.GetMpKey(x);this.FramesWithInputs[v]||(this.FramesWithInputs[v]=[]),this.FramesWithInputs[v].push($)}AddFrameWithRedirects(x,$){let v=this.GetMpKey(x);this.FramesWithRedirects[v]||(this.FramesWithRedirects[v]=[]),this.FramesWithRedirects[v].push($)}AddVideoHar(x,$){let v=this.GetMpKey(x);this.VideoHars[v]||(this.VideoHars[v]=[]),this.VideoHars[v].push($),this.AddSniffedVideoTrafficElementsCount(x,1)}AddUniqueContentIdPinterest(x,$){let v=this.GetMpKey(x);try{if(!this.CandidatesDataPinterest[v])return;$&&$.length&&!this.PinterestUniqueContentIdSent[v].includes($)&&this.PinterestUniqueContentIdSent[v].push($)}catch(x){}}GetCandidatePlacementsHtml5(x){let $=this.GetMpKey(x);return this.Html5CandidatePlacements[$]?this.Html5CandidatePlacements[$]:0}GetCandidatePlacementsInstagram(x){let $=this.GetMpKey(x);return this.InstagramCandidatePlacements[$]?this.InstagramCandidatePlacements[$]:0}GetCandidatePlacementsTiktok(x){let $=this.GetMpKey(x);return this.TiktokCandidatePlacements[$]?this.TiktokCandidatePlacements[$]:0}GetCandidatePlacementsLinkedin(x){let $=this.GetMpKey(x);return this.LinkedinCandidatePlacements[$]?this.LinkedinCandidatePlacements[$]:0}GetCandidatePlacementsFacebook(x){let $=this.GetMpKey(x);return this.FacebookCandidatePlacements[$]?this.FacebookCandidatePlacements[$]:0}GetCandidatePlacementsTwitter(x){let $=this.GetMpKey(x);return this.TwitterCandidatePlacements[$]?this.TwitterCandidatePlacements[$]>this.maxAmountTwitterCandidates?this.maxAmountTwitterCandidates:this.TwitterCandidatePlacements[$]:0}GetCandidatePlacementsReddit(x){let $=this.GetMpKey(x);return this.RedditCandidatePlacements[$]?this.RedditCandidatePlacements[$]:0}GetCandidatePlacementsPinterest(x){let $=this.GetMpKey(x);return this.PinterestCandidatePlacements[$]?this.PinterestCandidatePlacements[$]:0}GetVideoHars(x){let $=this.GetMpKey(x);return this.VideoHars[$]?this.VideoHars[$]:[]}GetInvalidChainCompletedContent(x){let $=this.GetMpKey(x);return this.InvalidChainCompletedContent[$]?this.InvalidChainCompletedContent[$]:[]}GetCandidatesDataBanners(x){let $=this.GetMpKey(x);return this.CandidatesDataBanners[$]?this.CandidatesDataBanners[$]:[]}GetCandidatesDataFacebook(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesDataFacebook[v]&&($=this.CandidatesDataFacebook[v])}catch(x){}return $}GetCandidatesDataTwitter(x,$){let v=[];try{let C=this.GetMpKey(x);this.CandidatesDataTwitter[C]&&(v=this.CandidatesDataTwitter[C].length<=this.maxAmountTwitterCandidates||$?this.CandidatesDataTwitter[C]:this.CandidatesDataTwitter[C].slice(0,this.maxAmountTwitterCandidates))}catch(x){}return v}GetCandidatesDataReddit(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesDataReddit[v]&&($=this.CandidatesDataReddit[v])}catch(x){}return $}GetCandidatesDataLinkedin(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesDataLinkedin[v]&&($=this.CandidatesDataLinkedin[v])}catch(x){}return $}GetCandidatesDataPinterest(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesDataPinterest[v]&&($=this.CandidatesDataPinterest[v])}catch(x){}return $}GetCandidatesDataInstagram(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesDataInstagram[v]&&($=this.CandidatesDataInstagram[v])}catch(x){}return $}GetCandidatesFacebookVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesFacebookVideoData[v]&&($=this.CandidatesFacebookVideoData[v])}catch(x){}return $}GetCandidatesTwitterVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesTwitterVideoData[v]&&($=this.CandidatesTwitterVideoData[v])}catch(x){}return $}GetCandidatesTwitterCarouselData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesTwitterCarouselData[v]&&($=this.CandidatesTwitterCarouselData[v])}catch(x){}return $}GetCandidatesRedditVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesRedditVideoData[v]&&($=this.CandidatesRedditVideoData[v])}catch(x){}return $}GetCandidatesPinterestVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesPinterestVideoData[v]&&($=this.CandidatesPinterestVideoData[v])}catch(x){}return $}GetCandidatesInstagramVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesInstagramVideoData[v]&&($=this.CandidatesInstagramVideoData[v])}catch(x){}return $}GetCandidatesLinkedinVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesLinkedinVideoData[v]&&($=this.CandidatesLinkedinVideoData[v])}catch(x){}return $}GetCandidatesLinkedinSlidesData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesLinkedinSlidesData[v]&&($=this.CandidatesLinkedinSlidesData[v])}catch(x){}return $}GetCandidatesInstagramCarouselSlidesData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesInstagramCarouselSlidesSources[v]&&($=this.CandidatesInstagramCarouselSlidesSources[v])}catch(x){}return $}GetCandidatesInstagramFullTextData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesInstagramFullTextData[v]&&($=this.CandidatesInstagramFullTextData[v])}catch(x){}return $}GetCandidatesInstagramStoryData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesInstagramStoryData[v]&&($=this.CandidatesInstagramStoryData[v])}catch(x){}return $}GetCandidatesInstagramUniqueIdsSent(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesInstagramUnqiueIdsSent[v]&&($=this.CandidatesInstagramUnqiueIdsSent[v])}catch(x){}return $}GetCandidatesTiktokVideoData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesTiktokVideoData[v]&&($=this.CandidatesTiktokVideoData[v])}catch(x){}return $}GetCandidatesRedditRightColumnData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesRedditRightColumnData[v]&&($=this.CandidatesRedditRightColumnData[v])}catch(x){}return $}GetCandidatesAIMessageData(x){let $=[];try{let v=this.GetMpKey(x);this.CandidatesAIMessagesData[v]&&($=this.CandidatesAIMessagesData[v])}catch(x){}return $}GetFacebookAboutSectionContent(x){let $=this.GetMpKey(x);return this.FacebookAboutSectionContent[$]?this.FacebookAboutSectionContent[$]:[]}GetLinkedinFramesContent(x){let $=[];try{let v=this.GetMpKey(x);this.LinkedinFramesContent[v]&&($=this.LinkedinFramesContent[v])}catch(x){}return $}RemovePinterestSentVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesPinterestVideoData[v]&&this.CandidatesPinterestVideoData[v].includes($)){let x=this.CandidatesPinterestVideoData[v].indexOf($);this.CandidatesPinterestVideoData[v].splice(x,1)}}catch(x){}}RemoveTwitterSentCarouselData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesTwitterCarouselData[v]&&this.CandidatesTwitterCarouselData[v].includes($)){let x=this.CandidatesTwitterCarouselData[v].indexOf($);this.CandidatesTwitterCarouselData[v].splice(x,1)}}catch(x){}}RemoveInstagramSentVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesInstagramVideoData[v]&&this.CandidatesInstagramVideoData[v].includes($)){let x=this.CandidatesInstagramVideoData[v].indexOf($);this.CandidatesInstagramVideoData[v].splice(x,1)}}catch(x){}}RemoveLinkedinSentVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesLinkedinVideoData[v]&&this.CandidatesLinkedinVideoData[v].includes($)){let x=this.CandidatesLinkedinVideoData[v].indexOf($);this.CandidatesLinkedinVideoData[v].splice(x,1)}}catch(x){}}RemoveLinkedinSentSlidesData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesLinkedinSlidesData[v]&&this.CandidatesLinkedinSlidesData[v].includes($)){let x=this.CandidatesLinkedinSlidesData[v].indexOf($);this.CandidatesLinkedinSlidesData[v].splice(x,1)}}catch(x){}}RemoveInstagramSentFullTextData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesInstagramFullTextData[v]&&this.CandidatesInstagramFullTextData[v].includes($)){let x=this.CandidatesInstagramFullTextData[v].indexOf($);this.CandidatesInstagramFullTextData[v].splice(x,1)}}catch(x){}}RemoveInstagramSentCarouselSlidesData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesInstagramCarouselSlidesSources[v]&&this.CandidatesInstagramCarouselSlidesSources[v].includes($)){let x=this.CandidatesInstagramCarouselSlidesSources[v].indexOf($);this.CandidatesInstagramCarouselSlidesSources[v].splice(x,1)}}catch(x){}}RemoveInstagramSentStoryData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesInstagramStoryData[v]&&this.CandidatesInstagramStoryData[v].includes($)){let x=this.CandidatesInstagramStoryData[v].indexOf($);this.CandidatesInstagramStoryData[v].splice(x,1)}}catch(x){}}RemoveTiktokSentVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesTiktokVideoData[v]?.includes($)){let x=this.CandidatesTiktokVideoData[v].indexOf($);this.CandidatesTiktokVideoData[v].splice(x,1)}}catch(x){}}GetCandidatesDataSkinAds(x){let $=this.GetMpKey(x);return this.CandidatesDataSkinAds[$]?this.CandidatesDataSkinAds[$]:[]}IsChainFramesHaveInputs(x,$){let v=!1,C=this.GetMpKey(x);if(this.FramesWithInputs[C]&&this.FramesWithInputs[C].length&&$&&$.length)for(let x=0;x<$.length&&!v;x++)this.FramesWithInputs[C].includes($[x])&&(v=!0);return v}IsChainFramesHaveRedirects(x,$){let v=!1,C=this.GetMpKey(x);if(this.FramesWithRedirects[C]&&this.FramesWithRedirects[C].length&&$&&$.length)for(let x=0;x<$.length&&!v;x++)this.FramesWithRedirects[C].includes($[x])&&(v=!0);return v}GetChainBuildingInitInfo(x){let $=this.GetMpKey(x),v=[],C=0;if(this.ChainSegmentContent&&this.ChainSegmentContent[$]&&this.ChainSegmentContent[$].length)for(let x=0;x<this.ChainSegmentContent[$].length;x++){let D=`chainId_${this.ChainSegmentContent[$][x].headerInfo.chainId}`;"object"!=typeof v[D]&&(C+=1,v[D]={chainId:this.ChainSegmentContent[$][x].headerInfo.chainId,validSegmentsAmount:0,validSegmentsId:[],invalidSegmentsAmount:0}),this.ChainSegmentContent[$][x].isValid?(v[D].validSegmentsAmount=v[D].validSegmentsAmount+1,v[D].validSegmentsId.push(this.ChainSegmentContent[$][x].browserFrameId)):v[D].invalidSegmentsAmount=v[D].invalidSegmentsAmount+1}return{buildingInit:v,chainsAmount:C}}GetAllSegmentsForChain(x,$){let v=[];try{let C=this.GetMpKey(x);if(!this.ChainSegmentContent[C])return v;for(let x=0;x<this.ChainSegmentContent[C].length;x++)this.ChainSegmentContent[C][x].headerInfo.chainId===$&&v.push(this.ChainSegmentContent[C][x])}catch(x){}return v}async GetHeaderInfoByFrameId(x,$){let v=this.GetMpKey(x);if(!this.FramesHeaderInfoDataContent[v])return null;try{let C=await chrome.webNavigation.getFrame({tabId:x,frameId:$});for(let[x,$]of Object.entries(this.FramesHeaderInfoDataContent[v])){let D=$.frameId,V=$.headerInfo.src;if(D===C.parentFrameId&&V===C.url)return this.FramesHeaderInfoDataContent[v].splice(x,1),$}return null}catch(x){}}GetAllHeaderInfoFrames(x){let $=this.GetMpKey(x);return this.FramesHeaderInfoDataContent[$]?this.FramesHeaderInfoDataContent[$]:null}HaveDataForTab(x){let $=this.GetMpKey(x);return!!(this.CandidatesDataSkinAds[$]&&this.CandidatesDataSkinAds[$].length||this.CandidatesDataBanners[$]&&this.CandidatesDataBanners[$].length||this.CandidatesDataFacebook[$]&&this.CandidatesDataFacebook[$].length||this.CandidatesDataTwitter[$]&&this.CandidatesDataTwitter[$].length||this.CandidatesDataReddit[$]&&this.CandidatesDataReddit[$].length||this.CandidatesDataPinterest[$]&&this.CandidatesDataPinterest[$].length||this.CandidatesDataInstagram[$]&&this.CandidatesDataInstagram[$].length||this.CandidatesDataLinkedin[$]&&this.CandidatesDataLinkedin[$].length||this.VideoHars[$]&&this.VideoHars[$].length||this.InvalidChainCompletedContent[$]&&this.InvalidChainCompletedContent[$].length||this.ChainSegmentContent[$]&&this.ChainSegmentContent[$].length||this.Html5CandidatePlacements[$]&&this.Html5CandidatePlacements[$]>0||this.FacebookCandidatePlacements[$]&&this.FacebookCandidatePlacements[$]>0||this.TwitterCandidatePlacements[$]&&this.TwitterCandidatePlacements[$]>0||this.RedditCandidatePlacements[$]&&this.RedditCandidatePlacements[$]>0||this.CandidatesTiktokVideoData[$]?.length||this.PinterestCandidatePlacements[$]&&this.PinterestCandidatePlacements[$]>0||this.InstagramCandidatePlacements[$]&&this.InstagramCandidatePlacements[$]>0||this.LinkedinCandidatePlacements[$]&&this.LinkedinCandidatePlacements[$]>0||this.CandidatesFacebookVideoData[$]&&this.CandidatesFacebookVideoData[$].length||this.CandidatesTwitterVideoData[$]&&this.CandidatesTwitterVideoData[$].length||this.CandidatesInstagramVideoData[$]&&this.CandidatesInstagramVideoData[$].length||this.CandidatesInstagramStoryData[$]&&this.CandidatesInstagramStoryData[$].length||this.CandidatesPinterestVideoData[$]&&this.CandidatesPinterestVideoData[$].length||this.CandidatesLinkedinVideoData[$]&&this.CandidatesLinkedinVideoData[$].length||this.CandidatesAIMessagesData[$]?.length)}RemoveOldFacebookVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesFacebookVideoData[v]&&this.CandidatesFacebookVideoData[v].length){let x=Date.now()/1e3|0,C=[];for(let D=0;D<this.CandidatesFacebookVideoData[v].length;D++)$.includes(this.CandidatesFacebookVideoData[v][D].videoId)||x-this.CandidatesFacebookVideoData[v][D].detectionTime>=300||C.push(this.CandidatesFacebookVideoData[v][D]);this.CandidatesFacebookVideoData[v]=C}}catch(x){}}RemoveOldTwitterVideoData(x,$){try{let v=this.GetMpKey(x);if(this.CandidatesTwitterVideoData[v]&&this.CandidatesTwitterVideoData[v].length){let x=Date.now()/1e3|0,C=[];for(let D=0;D<this.CandidatesTwitterVideoData[v].length;D++)$.includes(this.CandidatesTwitterVideoData[v][D].tweets.id)||x-this.CandidatesTwitterVideoData[v][D].detectionTime>=300||C.push(this.CandidatesTwitterVideoData[v][D]);this.CandidatesTwitterVideoData[v]=C}}catch(x){}}RemoveIframeContentFromTabId(x,$){let v=this.GetMpKey(x);this.CandidatesDataSkinAds[v]&&(this.CandidatesDataSkinAds[v]=null),this.CandidatesDataBanners[v]&&(this.CandidatesDataBanners[v]=null),this.CandidatesDataFacebook[v]&&(this.CandidatesDataFacebook[v]=null),this.CandidatesDataTwitter[v]&&(this.CandidatesDataTwitter[v].length>this.maxAmountTwitterCandidates&&!$?this.CandidatesDataTwitter[v]=this.CandidatesDataTwitter[v].slice(this.maxAmountTwitterCandidates,this.CandidatesDataTwitter[v].length):this.CandidatesDataTwitter[v]=null),this.CandidatesDataReddit[v]&&(this.CandidatesDataReddit[v]=null),this.CandidatesDataLinkedin[v]&&(this.CandidatesDataLinkedin[v]=null),this.LinkedinCandidatePlacements[v]&&(this.LinkedinCandidatePlacements[v]=0),this.Html5CandidatePlacements[v]&&(this.Html5CandidatePlacements[v]=0),this.FacebookCandidatePlacements[v]&&(this.FacebookCandidatePlacements[v]=0),this.CandidatesDataPinterest[v]&&(this.CandidatesDataPinterest[v]=null),this.PinterestCandidatePlacements[v]&&(this.PinterestCandidatePlacements[v]=0),this.CandidatesDataInstagram[v]&&(this.CandidatesDataInstagram[v]=null),this.InstagramCandidatePlacements[v]&&(this.InstagramCandidatePlacements[v]=0),this.TiktokCandidatePlacements[v]&&(this.TiktokCandidatePlacements[v]=0),this.TwitterCandidatePlacements[v]&&(this.CandidatesDataTwitter[v]&&this.CandidatesDataTwitter[v].length>this.maxAmountTwitterCandidates?this.TwitterCandidatePlacements[v]=this.TwitterCandidatePlacements[v]-this.maxAmountTwitterCandidates:this.TwitterCandidatePlacements[v]=0),this.RedditCandidatePlacements[v]&&(this.RedditCandidatePlacements[v]=0),this.FacebookAboutSectionContent[v]&&(this.FacebookAboutSectionContent[v]=null),this.CandidatesAIMessagesData[v]&&(this.CandidatesAIMessagesData[v]=null),this.ChainSegmentContent[v]&&(this.ChainSegmentContent[v]=null),this.InvalidChainCompletedContent[v]&&(this.InvalidChainCompletedContent[v]=null),this.FramesWithInputs[v]&&(this.FramesWithInputs[v]=null),this.FramesWithRedirects[v]&&(this.FramesWithRedirects[v]=null),this.VideoHars[v]&&(this.VideoHars[v]=null),this.CandidatesFacebookVideoData[v]&&($?this.CandidatesFacebookVideoData[v]=null:this.RemoveOldFacebookVideoData(x,[])),this.CandidatesTwitterVideoData[v]&&($&&this.CandidatesTwitterVideoData[v].length>this.maxAmountTwitterVideoDatas||this.CandidatesTwitterVideoData[v].length>this.maxAmountTwitterVideoDatas)&&(this.CandidatesTwitterVideoData[v]=null),this.CandidatesTwitterCarouselData[v]&&$&&(this.CandidatesTwitterCarouselData[v]=null),this.FramesHeaderInfoDataContent[v]&&(this.FramesHeaderInfoDataContent[v]=null)}SetMaxAmountTwitterCandidates(x){this.maxAmountTwitterCandidates=x.MAX_CANDIDATES_TO_SEND}SetMaxAmountTwitterVideoDatas(x){this.maxAmountTwitterVideoDatas=x.MAX_VIDEO_DATA_KEEP_IN_STORAGE}ClearStoragedDatas(x,$){let v=this.GetMpKey(x);if($)return this.CandidatesInstagramUnqiueIdsSent[v]=null,this.CandidatesInstagramCarouselSlidesSources[v]=null,this.CandidatesInstagramFullTextData[v]=null,this.CandidatesTiktokVideoData[v]=null,this.CandidatesLinkedinVideoData[v]=null,this.CandidatesLinkedinSlidesData[v]=null,this.LinkedinFramesContent[v]=null,void(this.sniffedVideoTrafficElementsCount[v]=0);this.CandidatesInstagramUnqiueIdsSent[v]?.length>this.LimitForStorages&&(this.CandidatesInstagramUnqiueIdsSent[v]=this.CandidatesInstagramUnqiueIdsSent[v].slice(Math.round(this.CandidatesInstagramUnqiueIdsSent[v].length/2),this.CandidatesInstagramUnqiueIdsSent[v].length)),this.CandidatesInstagramCarouselSlidesSources[v]?.length>this.LimitForStorages&&(this.CandidatesInstagramCarouselSlidesSources[v]=this.CandidatesInstagramCarouselSlidesSources[v].slice(Math.round(this.CandidatesInstagramCarouselSlidesSources[v].length/2),this.CandidatesInstagramCarouselSlidesSources[v].length)),this.CandidatesInstagramFullTextData[v]?.length>this.LimitForStorages&&(this.CandidatesInstagramFullTextData[v]=this.CandidatesInstagramFullTextData[v].slice(Math.round(this.CandidatesInstagramFullTextData[v].length/2),this.CandidatesInstagramFullTextData[v].length)),this.CandidatesTiktokVideoData[v]?.length>this.LimitForStorages&&(this.CandidatesTiktokVideoData[v]=this.CandidatesTiktokVideoData[v].slice(Math.round(this.CandidatesTiktokVideoData[v].length/2),this.CandidatesTiktokVideoData[v].length)),this.CandidatesLinkedinVideoData[v]?.length>this.LimitForStorages&&(this.CandidatesLinkedinVideoData[v]=this.CandidatesLinkedinVideoData[v].slice(Math.round(this.CandidatesLinkedinVideoData[v].length/2),this.CandidatesLinkedinVideoData[v].length)),this.CandidatesLinkedinSlidesData[v]?.length>this.LimitForStorages&&(this.CandidatesLinkedinSlidesData[v]=this.CandidatesLinkedinSlidesData[v].slice(Math.round(this.CandidatesLinkedinSlidesData[v].length/2),this.CandidatesLinkedinSlidesData[v].length)),this.LinkedinFramesContent[v]?.length>this.LimitForStorages&&(this.LinkedinFramesContent[v]=this.LinkedinFramesContent[v].slice(Math.round(this.LinkedinFramesContent[v].length/2),this.LinkedinFramesContent[v].length))}}},5978:(x,$,v)=>{const C=v(8384),D=v(2880);x.exports=class{constructor(){this.IsDisabled().then((x=>{!1===x&&C.L?this.Enable():C.L||this.Disable()}))}Enable(){return chrome.storage.local.set({posdDataCollection:"on"}).then((()=>{})),!0}Disable(){return chrome.storage.local.set({posdDataCollection:"off"}).then((()=>{})),!1}async IsEnabled(){return"on"===await this._get("posdDataCollection")}async IsDisabled(){return"off"===await this._get("posdDataCollection")}_has(x){return D.getDataFromStorageLocal(x).then((x=>!!x))}_get(x){return D.getDataFromStorageLocal(x).then((x=>x))}}},9820:(x,$,v)=>{const C=v(4780),D=v(1568);x.exports=class extends C{constructor(){super(D.EXCLUDE_DOMAINS_LIST())}AddItem(x){if(!/^https?:\/\/(?=.{1,254}(?::|$))(?:(?!\d|-)(?![a-z0-9\-]{1,62}-(?:\.|:|$))[a-z0-9\-]{1,63}\b(?!\.$)\.?)+(:\d+)?$/i.test(x))throw new Error("Domain is not valid");return super.AddItem(x)}}},9759:(x,$,v)=>{const C=v(8384),D=v(6882),V=v(1568);class p{constructor(x,$,v,C,D,K,Z){this.id=x,this.tabId=$,this.chainInfo=v,this.fullIdStr=`tabId:${$}-chainId:${v.chainId}`,this.init=!1,this.ContentStorage=C,this.onChainBuilt=Z,this.html5Candidate={},this.targetUrls=[],this.buildingTimeoutId=null,this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_NONE,this.extractionStatus=p.GetEmptyExtractionStatus(),this.chainInfo&&this.ContentStorage&&(this.init=!0,this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_INITED,setTimeout(this.ActivateBuilding.bind(this),D),this.buildingTimeoutId=setTimeout(this.FinishBuilding.bind(this),K))}ActivateBuilding(){this.init&&this.BuildChain()}BuildChain(){this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_STARTED,this.html5Candidate={chainId:this.chainInfo.chainId,topFrameHeader:"",frames:[],targetUrl:[]};let x=this.ContentStorage.GetAllSegmentsForChain(this.tabId,this.chainInfo.chainId);if(x.length)for(let $=0;$<x.length;$++)0===x[$].headerInfo.depth&&x[$].headerInfo.topHeaderContent&&(this.html5Candidate.topFrameHeader=x[$].headerInfo.topHeaderContent),this.html5Candidate.frames.push({contentFinal:x[$].contentFinal,depth:x[$].headerInfo.depth,bisId:x[$].headerInfo.bisId,childsBisId:[],parentBisId:"",id:x[$].headerInfo.frameId,src:x[$].headerInfo.src,size:x[$].headerInfo.size}),this.targetUrls=this.targetUrls.concat(x[$].targetUrl),x[$].browserFrameId&&Number.isInteger(x[$].browserFrameId)&&!this.chainInfo.chainFramesList.includes(x[$].browserFrameId)&&this.chainInfo.chainFramesList.push(x[$].browserFrameId);if(this.ContentStorage.IsChainFramesHaveInputs(this.tabId,this.chainInfo.chainFramesList))this.extractionStatus.filteredOut=!0,this.FinishBuilding(!1);else if(this.targetUrls.length&&(this.extractionStatus.targetUrlExtracted=!0),x.length>=this.chainInfo.chainFramesList.length&&(this.extractionStatus.fullContentExtracted=!0),this.extractionStatus.targetUrlExtracted)this.FinishBuilding(!1);else{let x=!0;C.N&&this.html5Candidate.frames.length&&this.chainInfo.chainFramesList.length&&(this.ContentStorage.IsChainFramesHaveRedirects(this.tabId,this.chainInfo.chainFramesList)||(x=!1,this.ActivateTargetUrlByClickDetection())),x&&this.FinishBuilding(!1)}}ActivateTargetUrlByClickDetection(){this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED;let x=[];for(let $=0;$<this.html5Candidate.frames.length;$++)x.push(this.html5Candidate.frames[$].bisId);let $=D.EmptyMessage;$.type=V.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK,$.multiTo=x,$.content={chainId:this.html5Candidate.chainId},chrome.tabs.sendMessage(this.tabId,$).catch((()=>{}))}AddDetectedTargetUrlByClick(x,$){this.status===V.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED&&$&&$.length&&(this.targetUrls=this.targetUrls.concat($),this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED,this.FinishBuilding(!1))}FinishBuilding(x){this.status!==V.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED&&(this.status=V.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED,this.buildingTimeoutId&&(clearTimeout(this.buildingTimeoutId),this.buildingTimeoutId=null),this.html5Candidate.targetUrl=p.GetSortedTargetUrls(this.targetUrls),this.html5Candidate.targetUrl.length&&(this.extractionStatus.targetUrlExtracted=!0),!x&&this.onChainBuilt&&this.onChainBuilt(this.chainInfo.chainId))}TerminateBuilding(){this.status!==V.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED&&this.FinishBuilding(!0)}GetExtractionStatus(){return{chainId:this.chainInfo.chainId,extractionStatus:this.extractionStatus}}GetChainId(){return this.chainInfo.chainId}GetStatus(){return this.status}GetHTML5Candidate(){return this.html5Candidate}ClearChain(){this.initInfo=null,this.html5Candidate=null}static GetEmptyExtractionStatus(){return{filteredOut:!1,fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1}}static GetSortedTargetUrls(x){let $=[];try{if(x&&x.length){x.sort(((x,$)=>$.square-x.square));for(var v=0;v<x.length;v++)$.includes(x[v].href)||$.push(decodeURIComponent(x[v].href))}}catch(x){}return $}static GetHtml5CandidateFromComletedInvalidChain(x){return{chainId:x.headerInfo.chainId,topFrameHeader:x.headerInfo.topHeaderContent,frames:[{contentFinal:x.contentFinal,depth:x.headerInfo.depth,bisId:x.headerInfo.bisId,childsBisId:[],parentBisId:"",id:x.headerInfo.frameId,src:x.headerInfo.src,size:x.headerInfo.size}],targetUrl:p.GetSortedTargetUrls(x.targetUrl)}}}x.exports=p},6502:(x,$,v)=>{var C=v(8458);const D=v(1568),V=v(6882),p=v(8384),K=v(2880);x.exports=class{constructor(){this.id="bg_"+K.GenerateQuickId()}InitListeners(){if(C&&C.hasOwnProperty("PopupListener")){let{PopupListener:x}=C;x.call(this)}chrome.runtime.onMessage.addListener(this.messageListenerContent.bind(this))}messageListenerContent(x,$,v){const C=x.type||"";V.IsValid(x)&&$.tab&&V.IsStrictValid(x)&&this.contentSideListener(C,x,$,v)}async contentSideListener(x,$,v,C){const Z=v.tab.id;switch(x){case D.MESSAGE_TYPE_TAB_INITIALIZATION:this.TabsManager.SetInitedTab(Z,$.content),p.$&&this.AdBlocker.IsAdBlockerEnabled()&&this.AdBlocker.onTabUpdated(Z),C({status:"ok",config:{activeStatus:this.activeStatus,activeAdBlockInspectorAgent:this.AdBlockInspector.IsNeedActivateAgentForTab(v.tab.url),adBlockerStatus:this.AdBlocker.GetStatus(),panalyticsId:this.panalyticsId.ID,tabId:Z,excludeList:Object.keys(this.excludeList).reduce(((x,$)=>(x[$]=this.excludeList[$].listData,x)),{domains:[],pages:[]}),configuration:this.ConfigManager.GetConfigEncoded()}});break;case D.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION:this.TabsManager.SetInitedTab(Z,$.content),p.$&&this.AdBlocker.IsAdBlockerEnabled()&&this.AdBlocker.onTabUpdated(Z),C({status:"ok"});break;case D.MESSAGE_TYPE_PANEL_REGULATOR_RESULT:this.UpdateSlaveTabs(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_IFRAME_INITIALIZATION:$.content.contentForSave.frameId=v.frameId;let x=V.EmptyMessage;x.type=D.MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE,x.from=this.id,x.content={isMaster:this.isTabMaster(Z),activeStatus:this.activeStatus,frameId:v.frameId,location:$.content.location,configuration:this.ConfigManager.GetConfigEncoded()},C({status:"ok",mes:x});break;case D.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET:this.TicketBuilder.AddTicketToTabInfo(Z,this.TicketBuilder.PrebuildTicket($.content)),C({status:"ok"});break;case D.MESSAGE_TYPE_OUT_TICKET:this.TicketBuilder.AddTicketForBuilding(Z,this.TicketBuilder.PrebuildTicket($.content))?C({status:"ok"}):C({status:"error"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5:this.ContentStorage.AddCandidatePlacementsHtml5(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK:this.ContentStorage.AddCandidatePlacementsFacebook(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER:this.ContentStorage.AddCandidatePlacementsTwitter(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT:this.ContentStorage.AddCandidatePlacementsReddit(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST:this.ContentStorage.AddCandidatePlacementsPinterest(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM:this.ContentStorage.AddCandidatePlacementsInstagram(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN:this.ContentStorage.AddCandidatePlacementsLinkedin(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS:this.ContentStorage.AddCandidatesDataSkinAds(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS:this.ContentStorage.AddCandidatesDataBanners(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH:$.content&&$.content.urlToGetInstreamData?.length&&($.content.requestId=this.VideoRequestNumber++,$.content.frameId=0,$.content.framesChain=[{frameId:"0",url:"https://www.twitch.tv/eslcs",parentFrameId:-1}],this.TwitchLoader.AddCandidateForLoading(Z,$.content)),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK:if($.content?.length)for(let x=0;x<$.content.length;x++)this.FacebookLoader.IsLoadAboutPageActivated()&&$.content[x].aboutPageLink&&$.content[x].aboutPageLink.length?this.FacebookLoader.AddOneCandidateForLoading(Z,$.content[x],$.type):this.ContentStorage.AddOneCandidateDataFacebook(Z,$.content[x]);C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER:this.TwitterLoader.IsLoadUserDataActivated()&&($.content[0].hasOwnProperty("videoData")&&$.content[0].videoData||!$.content[0].hasOwnProperty("videoData"))?(this.TwitterLoader.AddCandidatesForLoading(v,$.content),C({status:"ok"})):($.content[0].hasOwnProperty("videoData")&&$.content[0].videoData||!$.content[0].hasOwnProperty("videoData"))&&(this.ContentStorage.AddCandidatesDataTwitter(Z,$.content),C({status:"ok"}));break;case D.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT:this.ContentStorage.AddCandidatesDataReddit(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN:this.LinkedinLoader.AddCandidateForLoading(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM:$.content[0].aboutPageUrl?this.InstagramLoader.AddCandidatesForLoading(Z,$.content):this.ContentStorage.AddCandidatesDataInstagram(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:this.ContentStorage.AddCandidatesTiktokVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST:let O=$.content;this.PinterestLoader.AddCandidateForLoading(Z,O),C({status:"ok"});break;case D.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesFacebookVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesPinterestVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesInstagramVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesLinkedinVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:$.content&&this.ContentStorage.AddCandidatesLinkedinSlidesData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:$.content&&this.ContentStorage.AddCandidatesInstagramCarouselSlidesData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:$.content&&this.ContentStorage.AddCandidatesInstagramFullTextData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:if($.content){let x="enabled"===this.AdBlocker.GetStatus().INSTAGRAM;this.ContentStorage.AddCandidatesInstagramStoryData(Z,$.content,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:if($.content){let x=$.content;x.requestId=this.VideoRequestNumber++,$.content.encodedText.bisLinks&&$.content.encodedText.bisLinks.aboutPageLink?this.FacebookLoader.AddOneCandidateForLoading(Z,$.content,$.type):this.ContentStorage.AddVideoHar(Z,x),C({status:"ok"})}C({status:"ok"});break;case D.MESSAGE_TYPE_TWITTER_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesTwitterVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:$.content&&this.ContentStorage.AddCandidatesTwitterCarouselData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_REDDIT_VIDEO_DATA:$.content&&this.ContentStorage.AddCandidatesRedditVideoData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:$.content&&this.ContentStorage.AddCandidatesRedditRightColumnData(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_CLAUDE_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_CHATGPT_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_GEMINI_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_COPILOT_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_PERPLEXITY_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_META_AI_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_DEEPSEEK_DATA:if($.content){const x={...$.content,creationTime:K.GetCurrentDataTimeStr(),messageId:K.GenerateUUID()};this.ContentStorage.AddCandidatesAIMessageData(Z,x)}C({status:"ok"});break;case D.MESSAGE_TYPE_IFRAME_CONTENT:$.content.browserFrameId=v.frameId,this.ContentStorage.AddChainSegmentContent(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME:let U=await this.ContentStorage.GetHeaderInfoByFrameId(Z,v.frameId);U&&chrome.tabs.sendMessage(Z,{parentInfo:U,status:"ok",type:D.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE},{frameId:v.frameId}),C({status:"processing"});break;case D.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE:this.ContentStorage.AddHeaderInfoFrame(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT:$.content.isChainCompleted?this.ContentStorage.AddInvalidChainCompletedContent(Z,$.content):this.ContentStorage.AddChainSegmentContent(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND:this.TicketBuilder.IsInit()&&this.TicketBuilder.onGotTicketClickTargetUrlInfo(Z,$.from,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS:this.ContentStorage.AddFrameWithInputs(Z,v.frameId),C({status:"ok"});break;case D.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS:this.ContentStorage.AddFrameWithRedirects(Z,v.frameId),C({status:"ok"});break;case D.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT:p.$&&this.AdBlocker.SetHiddenCandidatesAmount(Z,$.content),C({status:"ok"});break;case D.MESSAGE_TYPE_VIDEO_HAR:let G=$.content;G.requestId=this.VideoRequestNumber++,G.frameId=v.frameId,G.framesChain=[],this.ContentStorage.AddVideoHar(Z,G),C({status:"ok"});break;case D.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT:this.AdBlockInspector&&this.AdBlockInspector.onGotMessageFromAdBlockInspectorAgent&&this.AdBlockInspector.onGotMessageFromAdBlockInspectorAgent($.content),C({status:"ok"});break;case D.MESSAGE_TYPE_TEST:C({status:"ok"});break;case D.MESSAGE_TYPE_INIT_REQUEST_LISTENER:$.content&&this.listenerWithCallback($.content),C({status:"ok"});break;case D.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE:this.ContentStorage.AddLinkedinFrameContent(Z,$.content),C({status:"ok"});break;default:C({status:"error"})}}}},859:(x,$,v)=>{const C=v(4780),D=v(1568);x.exports=class extends C{constructor(){super(D.EXCLUDE_PAGES_LIST())}AddItem(x){if(!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(x))throw new Error("Url is not valid");return super.AddItem(x)}}},7616:(x,$,v)=>{const C=v(8384),D=(v(1568),v(4696).A);x.exports=class{constructor(x){this.id=x,this.panalyticsId="",this.onGotId=null,this.PanalyticsUtility=new D({host:C.i,logging:C.S})}get ID(){return this.panalyticsId}GetId(x){this.onGotId=x,this.PanalyticsUtility.getKey((x=>{x.length&&(this.panalyticsId=x,this.onGotId&&this.onGotId(this.panalyticsId))}),!0)}}},4780:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this._key=x,this.statusHasList=!1,this.listData=[],this.HasList()}GetList(){return chrome.storage.local.get([this._key]).then((x=>(this.listData=Object.keys(x).length?JSON.parse(x[this._key]):[],this.listData)))}RemoveList(){chrome.storage.local.remove([this._key])}HasList(){C.getDataFromStorageLocal(this._key).then((x=>{this.statusHasList=!!Object.keys(x).length,this.listData=Object.keys(x).length?JSON.parse(x):[]}))}SetItems(x){var $={};$[this._key]=JSON.stringify(x),chrome.storage.local.set($)}AddItem(x){if(""===x.trim())throw new Error("Item's name is empty");this.GetList().then(($=>{if(-1!==$.indexOf(x))throw new Error(`Item "${x}" is already exist`);$.push(x),this.SetItems($)}))}RemoveItem(x){this.GetList().then(($=>{const v=$.indexOf(x);-1!==v&&($.splice(v,1),this.SetItems($))}))}HasItem(x){return this.GetList().then(($=>-1!==$.indexOf(x)))}}},7214:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(6882);x.exports=class{constructor(x){this.id=x,this.initedTabs=[],this.onActivatedHandlers=[],this.onRemovedHandlers=[],this.onUpdatedHandlers=[],this.onUpdated(this.PageUrlChangeWatcher.bind(this)),this.onRemovedInstance=chrome.tabs.onRemoved,this.onActivatedInstance=chrome.tabs.onActivated,this.onUpdatedInstance=chrome.tabs.onUpdated,this.StartListeners()}StartListeners(){this.AddListenerOnActivated(),this.AddListenerOnRemoved(),this.AddListenerOnUpdated()}AddListenerOnActivated(){let x=(x=>{for(let $ of this.onActivatedHandlers)$(x)}).bind(this);this.onActivatedInstance.addListener(x)}AddListenerOnRemoved(){let x=((x,$)=>{for(let v of this.onRemovedHandlers)v(x,$)}).bind(this);this.onRemovedInstance.addListener(x)}AddListenerOnUpdated(){let x=((x,$,v)=>{for(let C of this.onUpdatedHandlers)C(x,$,v)}).bind(this);this.onUpdatedInstance.addListener(x)}onActivated(x){this.onActivatedHandlers.push(x)}onRemoved(x){this.onRemovedHandlers.push(x)}onUpdated(x){this.doesExistAlready(this.onUpdatedHandlers,x)||this.onUpdatedHandlers.push(x)}doesExistAlready(x,$){const v=x.map((x=>x.name)),C=$.name;return v.includes(C)}SetInitedTab(x,$){$.tabId=x,this.initedTabs[C.GetTabIdKey(x)]=$}PageUrlChangeWatcher(x,$,v){if($&&$.url){let v=C.GetTabIdKey(x);if(void 0!==this.initedTabs[v]&&this.initedTabs[v].url&&this.initedTabs[v].url!==$.url){let p=V.EmptyMessage;p.type=D.MESSAGE_TYPE_TAB_URL_CHANGED,p.to=C.GetMainPageId(x),p.content={newUrl:$.url,initedTicketId:this.initedTabs[v].ticketId},chrome.tabs.sendMessage(x,p).catch((()=>{}))}}}GetAllTabs(x){chrome.tabs.query({currentWindow:!0,discarded:!0}).then(($=>{x&&x($)}))}}},7713:(x,$,v)=>{"use strict";const C=v(2880),D=v(9358),V=v(8384),p=v(1568),K=v(6882),Z=v(9759),O=v(3876);x.exports=class{constructor(x,$,v,C,D,V,K){this.id=x,this.panalyticsId=$,this.tabId=v,this.lastTicketDataSendTimestamp=D,this.ConfigManager=K,this.ContentStorage=V,this.rawTicket=JSON.parse(C),this.html5AdsPrebuildInfo=[],this.webNavigationIframes=[],this.webNavigationChainsList=[],this.fullIframesList=[],this.onTicketBuiltCallback=null,this.timeoutMaxBuilding=null,this.timeoutDeepTargetUrlDetection=null,this.status=p.TICKET_BUILDING_STATUS_INIT,this.chainBuildingInitInfo=[],this.chains=[],this.successfullyBuidChainIds=[],this.chainsWithoutTargetUrl=[],this.finalOutTicket={ticketId:"",data:""},this.GetHtml5AdsPrebuildInfo(),this.textStorage=[],this.isFacebookTicketReady=!1,this.isTwitterTicketReady=!1,this.isRedditTicketReady=!1,this.ContentStorage.SetMaxAmountTwitterVideoDatas(this.ConfigManager.TwitterConfig),this.ContentStorage.SetMaxAmountTwitterCandidates(this.ConfigManager.TwitterConfig)}GetHtml5AdsPrebuildInfo(){if(this.rawTicket&&this.rawTicket.adCandidatesHtml5&&this.rawTicket.adCandidatesHtml5.length){for(let x=0;x<this.rawTicket.adCandidatesHtml5.length;x++)this.html5AdsPrebuildInfo.push(this.rawTicket.adCandidatesHtml5[x]);this.rawTicket.adCandidatesHtml5=[]}}IsValid(){let x=!1;try{this.rawTicket&&this.rawTicket.ticketId&&this.rawTicket.ticketId.length&&this.rawTicket.url&&this.rawTicket.url.length&&(x=!0)}catch(x){}return x}get TabId(){return this.tabId}ActivateBuilding(x){this.onTicketBuiltCallback=x,this.finalOutTicket.ticketId=this.rawTicket.ticketId,this.ActivateHTML5CandidatesBuilding()?(this.status=p.TICKET_BUILDING_STATUS_STARTED,this.timeoutMaxBuilding=setTimeout(this.onMaxBuildingTimeout.bind(this),7e3)):this.GetWebNavigationIframes(this.TicketBuildingFinished.bind(this,!1))}ActivateHTML5CandidatesBuilding(){let x=this.ContentStorage.GetChainBuildingInitInfo(this.tabId);return this.chainBuildingInitInfo=x.buildingInit,!!x.chainsAmount&&(this.GetWebNavigationIframes(this.ActivateIframeChainsBuilding.bind(this)),!0)}GetWebNavigationIframes(x){this.status=p.TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES,chrome.webNavigation.getAllFrames({tabId:this.tabId}).then(($=>{$&&(this.webNavigationIframes=$,this.webNavigationChainsList=O.GetWebNavigationChainsList(this.webNavigationIframes),this.status=p.TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES),x&&x()}))}ActivateIframeChainsBuilding(){this.successfullyBuidChainIds=[];for(let x in this.chainBuildingInitInfo){let $=this.chainBuildingInitInfo[x];$.chainFramesList=this.FindChainFramesListForSegment($.validSegmentsId),this.chains.push(new Z(this.id,this.tabId,$,this.ContentStorage,this.GetChainStartBuildingTimeout($.chainId),6e3,this.onIframeChainBuilt.bind(this)))}}GetChainStartBuildingTimeout(x){let $=C.GetRandomIntInRange(500,1e3),v=!1;if(this.html5AdsPrebuildInfo)for(let C=0;C<this.html5AdsPrebuildInfo.length&&!v;C++)this.html5AdsPrebuildInfo[C].chainId===x&&(this.html5AdsPrebuildInfo[C].timeAfterProcessingStart<3e3&&($=3e3-this.html5AdsPrebuildInfo[C].timeAfterProcessingStart),v=!0);return $}onIframeChainBuilt(x){this.successfullyBuidChainIds.includes(x)||(this.successfullyBuidChainIds.push(x),this.successfullyBuidChainIds.length===this.chains.length&&this.TicketBuildingFinished(!1))}FindChainFramesListForSegment(x){let $=[];if(x&&x.length&&this.webNavigationChainsList&&this.webNavigationChainsList.length){let v=!1;for(let C=0;C<this.webNavigationChainsList.length&&!v;C++)this.webNavigationChainsList[C].includes(x[0])&&($=this.webNavigationChainsList[C],v=!0)}return x&&0===$.length&&x.length>0&&($=x),$}GetVideoHars(x,$){let v=-1,C=!1,D=this.ContentStorage.GetVideoHars(this.tabId);if(D.length&&this.webNavigationIframes&&this.webNavigationIframes.length){for(let $=0;$<D.length;$++)D[$].frameId&&(D[$].framesChain=O.GetVideoHarFramesChainFullInfo(D[$].frameId,this.webNavigationIframes)),x&&(D[$].mediaType&&D[$].mediaType===p.VIDEO_TRAFFIC_MEDIA_TYPE_HTML&&(v=$),D[$].alias&&D[$].alias===p.VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE&&(C=!0));x&&C&&-1!==v&&D.splice(v,1)}return $&&(this.rawTicket.sniffedVideoTrafficElements=this.ContentStorage.GetSniffedVideoTrafficElementsCount(this.tabId),this.ContentStorage.ClearSniffedVideoTrafficElementsCount(this.tabId)),D}onGotTicketClickTargetUrl(x,$,v){if(this.chains&&this.chains.length){let C=!1;for(let D=0;D<this.chains.length&&!C;D++)this.chains[D].GetChainId()===$&&(C=!0,this.chains[D].AddDetectedTargetUrlByClick(x,v))}}onMaxBuildingTimeout(){if(this.chains.length)for(let x=0;x<this.chains.length;x++)this.chains[x].TerminateBuilding();this.TicketBuildingFinished(!1)}FindPareVideoOrCarouselDataForTwitterCandidate(x,$){let v={};try{const C=this.ConfigManager.TwitterConfig.MIN_AMOUNT_OF_WORDS_FOR_MATCHING,D=this.ConfigManager.TwitterConfig.MIN_MATCHING_WORD_LENGTH;if(x&&x.length&&$&&$.length){let V=!1;for(let p=0;p<x.length&&!V;p++){const K=x[p].tweets.full_text;this.textStorage.includes(K)||this.textStorage.push(K);let Z=K.replace(/[\n\r]/g," ").split(/\s/).filter((function(x){return x.length>=D&&!x.startsWith("http")&&!x.startsWith("#")&&!x.startsWith("@")&&!(/\p{Extended_Pictographic}/gu.test(x)||/\p{Emoji}/gu.test(x))})),O=0,U=0;if(Z.length){for(let x of Z)O++,$.includes(x)&&U++;O>=C&&U==O&&(V=!0,v=x[p])}else!Z.length&&this.textStorage.includes(K)}}}catch(x){}return v}GetVideoDataForRedditVideoAd(x,$){let v={};try{if(x&&x.length&&$&&$.length){let C=!1;for(let D=0;D<x.length&&!C;D++){const V=x[D];$.includes(V.videoId)&&(C=!0,v=V)}}}catch(x){}return v}GetRightColumnDataForReddit(x,$){let v="";try{if($&&$.length){let C=!1;for(let D=0;D<x.length&&!C;D++){const V=x[D];if(V.length)for(let x of V){let D=x.elementId.replace(/&/g,"&amp;");if($.includes(D))return v=x.targetUrl,C=!0,v}}}}catch(x){}return v}async TicketBuildingFinished(x){this.setCreationTime();let $=!1;0===this.rawTicket[p.TICKET_ALIAS_PANALYTICSID].length&&(this.rawTicket[p.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId);let v=C.IsYouTubeUrl(this.rawTicket.url);this.rawTicket.videoTraffics=this.GetVideoHars(v,x),await this.LookingForFacebookAds(),this.LookingForTwitterAds(x),this.LookingForRedditAds(),this.LookingForPinterestAds(),this.LookingForSkinAds(),this.LookingForInstagramAds(),this.LookingForLinkedinAds(),this.LookingForTiktokAds(),this.LookingForBannerAds(),this.lookingForAIMessages();let D=this.extractionChainsStatuses();this.rawTicket.adCandidatePlacements.skinAd=this.rawTicket.adCandidatesSkinAd.length,this.rawTicket.adCandidatePlacements.banner=this.rawTicket.adCandidatesBanner.length,this.rawTicket.adCandidatePlacements.html5=this.ContentStorage.GetCandidatePlacementsHtml5(this.tabId),this.rawTicket.adCandidatePlacements.facebook=this.ContentStorage.GetCandidatePlacementsFacebook(this.tabId),this.rawTicket.adCandidatePlacements.twitter=this.ContentStorage.GetCandidatePlacementsTwitter(this.tabId),this.rawTicket.adCandidatePlacements.reddit=this.ContentStorage.GetCandidatePlacementsReddit(this.tabId),this.rawTicket.adCandidatePlacements.pinterest=this.ContentStorage.GetCandidatePlacementsPinterest(this.tabId),this.rawTicket.adCandidatePlacements.tiktok=this.ContentStorage.GetCandidatePlacementsTiktok(this.tabId),this.rawTicket.adCandidatePlacements.instagram=this.ContentStorage.GetCandidatePlacementsInstagram(this.tabId),this.rawTicket.adCandidatePlacements.linkedin=this.ContentStorage.GetCandidatePlacementsLinkedin(this.tabId);let Z=this.ConfigManager.GetLoadManagementSettings();if(Z){if(this.rawTicket.adCandidatesSkinAd.length&&!Z.sendCandidatesSkinAd&&(this.rawTicket.adCandidatesSkinAd=[]),this.rawTicket.adCandidatesBanner.length&&!Z.sendCandidatesBanner&&(this.rawTicket.adCandidatesBanner=[]),this.rawTicket.adCandidatesHtml5.length&&!Z.sendCandidatesHtml5&&(this.rawTicket.adCandidatesHtml5=[]),this.rawTicket.videoTraffics.length){let x=C.IsFacebookUrl(this.rawTicket.url);v&&!Z.sendYoutubeVideoTraffics||x&&!Z.sendFacebookVideoTraffics?this.rawTicket.videoTraffics=[]:x||v||Z.sendNonYoutubeVideoTraffics||(this.rawTicket.videoTraffics=[])}if(this.rawTicket.adsFacebook.length&&!Z.sendFacebookAds&&(this.rawTicket.adsFacebook=[]),this.rawTicket.adsTwitter.length&&!Z.sendTwitterAds&&(this.rawTicket.adsTwitter=[]),this.rawTicket.adsReddit.length&&!Z.sendRedditAds&&(this.rawTicket.adsReddit=[]),this.rawTicket.adsPinterest.length&&!Z.sendPinterestAds&&(this.rawTicket.adsPinterest=[]),this.rawTicket.adsInstagram.length&&!Z.sendInstagramAds&&(this.rawTicket.adsInstagram=[]),this.rawTicket.adsLinkedin.length&&!Z.sendLinkedinAds&&(this.rawTicket.adsLinkedin=[]),this.rawTicket.adsTiktok.length&&!Z.sendTiktokAds&&(this.rawTicket.adsTiktok=[]),this.rawTicket.aiMessages.length){switch(this.rawTicket.aiMessages[0].chatbotName){case this.ConfigManager.u?.CHATBOT_NAME:Z.sendClaudeMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.F?.CHATBOT_NAME:Z.sendChatgptMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.k?.CHATBOT_NAME:Z.sendMicrosoftCopilotMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.m?.CHATBOT_NAME:Z.sendPerplexityMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.X?.CHATBOT_NAME:Z.sendMetaAiMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.I?.CHATBOT_NAME:Z.sendDeepseekMessages||(this.rawTicket.aiMessages=[]);break;case this.ConfigManager.l?.CHATBOT_NAME:Z.sendGeminiMessages||(this.rawTicket.aiMessages=[])}}}if(C.IsPublisherInBlacklist(this.rawTicket.url,this.ConfigManager.BlacklistPublishers)&&(this.rawTicket.adCandidatesSkinAd=[],this.rawTicket.adCandidatesBanner=[],this.rawTicket.adCandidatesHtml5=[],this.rawTicket.videoTraffics=[],this.rawTicket.adsFacebook=[],this.rawTicket.adsTwitter=[],this.rawTicket.adsReddit=[],this.rawTicket.adsPinterest=[],this.rawTicket.adsInstagram=[],this.rawTicket.adsLinkedin=[],this.rawTicket.adsTiktok=[],this.rawTicket.aiMessages=[]),(this.rawTicket.adCandidatesSkinAd.length||this.rawTicket.adCandidatesBanner.length||this.rawTicket.adCandidatesHtml5.length||this.rawTicket.videoTraffics.length||this.rawTicket.adsFacebook.length||this.rawTicket.adsTwitter.length||this.rawTicket.adsLinkedin.length||this.rawTicket.adsReddit.length||this.rawTicket.adsPinterest.length||this.rawTicket.adsInstagram.length||this.rawTicket.firstVisit||this.rawTicket.adsTiktok.length||this.rawTicket.aiMessages.length)&&($=!0),this.rawTicket.timeOnPage=C.GetCurrentTimestamp()-this.lastTicketDataSendTimestamp,this.finalOutTicket.type=p.OUT_TICKET_TYPE_SINGLE,this.finalOutTicket.data=JSON.stringify(this.rawTicket),this.status=p.TICKET_BUILDING_STATUS_DONE,this.chains.length)for(let x=0;x<this.chains.length;x++)this.chains[x].ClearChain();if(this.chains=[],this.timeoutMaxBuilding&&(clearTimeout(this.timeoutMaxBuilding),this.timeoutMaxBuilding=null),this.timeoutDeepTargetUrlDetection&&(clearTimeout(this.timeoutDeepTargetUrlDetection),this.timeoutDeepTargetUrlDetection=null),($||x)&&(this.ContentStorage.RemoveIframeContentFromTabId(this.tabId,x),this.ContentStorage.ClearStoragedDatas(this.tabId,x)),!x){if(D.length&&V.t&&V.W){let x=K.EmptyMessage;x.type=p.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES,x.to="mp_"+this.tabId,x.content=D,chrome.tabs.sendMessage(this.tabId,x).catch((()=>{}))}this.onTicketBuiltCallback&&this.tabId&&this.onTicketBuiltCallback(this.tabId,this.finalOutTicket,$),this.ClearTicket()}}get isReadyToClearTicket(){let x=!1;return this.isFacebookTicketReady&&this.isTwitterTicketReady&&this.isRedditTicketReady&&(x=!0),x}LookingForInstagramAds(){if(!this.ContentStorage)return;this.rawTicket.adsInstagram=this.ContentStorage.GetCandidatesDataInstagram(this.tabId);let x=this.ContentStorage.GetCandidatesInstagramVideoData(this.tabId),$=this.ContentStorage.GetCandidatesInstagramFullTextData(this.tabId),v=this.ContentStorage.GetCandidatesInstagramStoryData(this.tabId),C=this.ContentStorage.GetCandidatesInstagramCarouselSlidesData(this.tabId),V=this.ContentStorage.GetCandidatesInstagramUniqueIdsSent(this.tabId);if(this.rawTicket.adsInstagram&&this.rawTicket.adsInstagram.length){for(let p of this.rawTicket.adsInstagram){if(!p)continue;const K=this.rawTicket.adsInstagram.indexOf(p);let Z=(10*Math.floor(p.size.y/10)).toString();const O=p.targetUrl+Z;if(V.includes(O))delete this.rawTicket.adsInstagram[K];else{if(this.ContentStorage.AddCandidatesInstagramUniqueIdsSent(this.tabId,O),x&&x.length&&p.videoData&&"feed"===p.adPlacementType){const $=D.decode(p.content);let v=this.GetVideoDataForInstagramVideoAd(x,$);v&&(delete v.carouselSlidesSources,p.videoData=v,p.fullText=v.fullText,this.ContentStorage.RemoveInstagramSentVideoData(this.tabId,v))}else"feed"===p.adPlacementType&&p.carouselSlidesSources&&(this.AddFullTextField(p,$),this.AddCarouselSlideSources(p,C));if("story"===p.adPlacementType)if(p.isHolder);else{const x=D.decode(p.content);let $=this.GetStorySlidesData(v,x);p.storySlidesData=null,$&&(p.storySlidesData=$,this.ContentStorage.RemoveInstagramSentStoryData(this.tabId,$))}}}this.rawTicket.adsInstagram=this.rawTicket.adsInstagram.filter((x=>null!=x))}}LookingForTiktokAds(){if(this.ContentStorage&&(this.rawTicket.adsTiktok=this.ContentStorage.GetCandidatesTiktokVideoData(this.tabId),this.rawTicket.adsTiktok?.length)){for(let x of this.rawTicket.adsTiktok){if(!x)continue;const $=this.rawTicket.adsTiktok.indexOf(x);if(!x.videoId){this.rawTicket.adsTiktok[$]=null;continue}const{videoId:v,videoUrl:C,coverImage:D,pageName:V,pageLink:p,targetUrl:K,advertiser:Z,campaignText:O,ctaButtonText:U,ctaButtonLink:G,pageSecId:w}=x;this.rawTicket.adsTiktok[$]={adPlacementType:"feed",videoData:{videoId:v,videoUrl:C,coverImage:D},pageName:V,pageLink:p,targetUrl:K,advertiser:Z,campaignText:O,ctaButtonText:U,ctaButtonLink:G,pageSecId:w},this.ContentStorage.AddCandidatePlacementsTiktok(this.tabId,1),this.ContentStorage.RemoveTiktokSentVideoData(this.tabId,x)}this.rawTicket.adsTiktok=this.rawTicket.adsTiktok.filter((x=>null!=x))}}lookingForAIMessages(){this.ContentStorage&&(this.rawTicket.aiMessages=this.ContentStorage.GetCandidatesAIMessageData(this.tabId),this.rawTicket.aiMessages?.length&&(this.rawTicket.aiMessages=this.rawTicket.aiMessages.filter((x=>x&&x.messageText?.length&&x.sessionId?.length))))}AddFullTextField(x,$){let v=0,C=$.length,D=!1;for(;v<C&&!D;){let C=$[v];x.screenName===C.advertiserName&&(x.fullText=C.fullText,this.ContentStorage.RemoveInstagramSentFullTextData(this.tabId,C),D=!0),v++}}AddCarouselSlideSources(x,$){for(let v of $)if(v.advertiserName===x.screenName)return x.carouselSlidesSources=v.carouselSlidesSources,x.fullText=v.fullText,void this.ContentStorage.RemoveInstagramSentCarouselSlidesData(this.tabId,v)}GetStorySlidesData(x,$){for(let v of x){const x=v[0].advertiserName;if(this.MatchVideDataByAdvertiserName($,x))return v}}GetVideoDataForInstagramVideoAd(x,$){for(let v of x){const x=v.fullText,C=v.advertiserName;let D=null;if(x&&$.indexOf(x)>=0)return v;if(x){if(D=this.MatchVideoDataByContentInstagram($,x),D)return v;if(D=this.MatchVideDataByAdvertiserName($,C),D)return v}}return null}MatchVideoDataByContentInstagram(x,$){let v=$.split(/\n\n|\n/)[0].replace(/[\n\r]/g," ").split(/\s/).filter((function(x){return x.length>=3&&!x.startsWith("http")&&!x.startsWith("#")&&!x.startsWith("@")&&!(/\p{Extended_Pictographic}/gu.test(x)||/\p{Emoji}/gu.test(x))})),C=v.length,D=0;if(v.length){for(let $ of v)x.includes($)&&D++;if(D===C)return!0}return!1}GetVideoDataForTiktokVideoAd(x,$){for(let v of x){const{videoId:x}=v;if(x===$)return v}return null}MatchVideDataByAdvertiserName(x,$){return x.indexOf($)>=0}LookingForBannerAds(){if(this.ContentStorage&&(this.rawTicket.adCandidatesBanner=this.ContentStorage.GetCandidatesDataBanners(this.tabId),this.rawTicket.adCandidatesBanner.length&&V.t&&V.W)){let x=[];for(let $=0;$<this.rawTicket.adCandidatesBanner.length;$++)x.push({bannerId:this.rawTicket.adCandidatesBanner[$].bisId,extractionStatus:{sentToBackend:!0,fullContentExtracted:!0,targetUrlExtracted:!0}});let $=K.EmptyMessage;$.type=p.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES,$.to="mp_"+this.tabId,$.content=x,chrome.tabs.get(this.tabId).then((()=>{chrome.tabs.sendMessage(this.tabId,$)})).catch((()=>{}))}}LookingForSkinAds(){if(this.ContentStorage&&(this.rawTicket.adCandidatesSkinAd=this.ContentStorage.GetCandidatesDataSkinAds(this.tabId),this.rawTicket.adCandidatesSkinAd.length&&V.t&&V.W)){let x=[];for(let $=0;$<this.rawTicket.adCandidatesSkinAd.length;$++)x.push({query:'*[bis_skin_element="1"]',extractionStatus:{sentToBackend:!0,fullContentExtracted:!0,targetUrlExtracted:!0}});let $=K.EmptyMessage;$.type=p.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES,$.to="mp_"+this.tabId,$.content=x,chrome.tabs.sendMessage(this.tabId,$).catch((()=>{}))}}LookingForTwitterAds(x){if(!this.ContentStorage)return;this.rawTicket.adsTwitter=this.ContentStorage.GetCandidatesDataTwitter(this.tabId,x);let $=this.ContentStorage.GetCandidatesTwitterVideoData(this.tabId),v=this.ContentStorage.GetCandidatesTwitterCarouselData(this.tabId);if($&&$.length||v&&v.length)if(this.rawTicket.adsTwitter&&this.rawTicket.adsTwitter.length){for(let x of this.rawTicket.adsTwitter)this.ConnectAdditionalDataWithCandidate($,x),this.ConnectAdditionalDataWithCandidate(v,x);this.isTwitterTicketReady=!0}else this.isTwitterTicketReady=!0;else this.isTwitterTicketReady=!0}ConnectAdditionalDataWithCandidate(x,$){if(!x||!x.length)return!1;if($.adPlacementType!==p.TWITTER_AD_PLACEMENT_TYPE_FEED)return!1;if($.hasOwnProperty("videoData")&&!$.videoData.tweets){let v=this.FindPareVideoOrCarouselDataForTwitterCandidate(x,D.decode($.content));v&&v.tweets&&v.tweets.id&&($.videoData=v)}if($.hasOwnProperty("carouselData")&&!$.carouselData.tweets){let v=this.FindPareVideoOrCarouselDataForTwitterCandidate(x,D.decode($.content));v&&v.tweets&&v.tweets.id&&($.carouselData=v,this.ContentStorage.RemoveTwitterSentCarouselData(this.tabId,v))}}LookingForRedditAds(){if(!this.ContentStorage)return;this.rawTicket.adsReddit=this.ContentStorage.GetCandidatesDataReddit(this.tabId);let x=this.ContentStorage.GetCandidatesRedditVideoData(this.tabId),$=this.ContentStorage.GetCandidatesRedditRightColumnData(this.tabId);if(this.rawTicket.adsReddit&&this.rawTicket.adsReddit.length)for(let v of this.rawTicket.adsReddit){if(x&&x.length&&v.adPlacementType===p.REDDIT_AD_PLACEMENT_TYPE_FEED&&v.hasOwnProperty("videoData")){let $=this.GetVideoDataForRedditVideoAd(x,D.decode(v.content));!v.videoData.videoId&&$&&$.videoId&&(v.videoData=$)}if($&&$.length&&v.adPlacementType===p.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN){let x=this.GetRightColumnDataForReddit($,D.decode(v.content));x&&x.length&&(v.targetUrl=x)}}this.isRedditTicketReady=!0}LookingForPinterestAds(){if(!this.ContentStorage)return;this.rawTicket.adsPinterest=this.ContentStorage.GetCandidatesDataPinterest(this.tabId);let x=this.ContentStorage.GetCandidatesPinterestVideoData(this.tabId);if(this.rawTicket.adsPinterest&&this.rawTicket.adsPinterest.length)for(let $ of this.rawTicket.adsPinterest){if(x&&x.length&&$.videoData){let v=this.GetVideoDataForPinterestVideoAd(x,D.decode($.content));v&&v.videoId&&($.videoData=v)}$.hasOwnProperty("uniqueContentId")&&delete $.uniqueContentId}}GetVideoDataForPinterestVideoAd(x,$){for(let v of x){const x=v.title,C=v.promoter;if(x&&$.indexOf(x)>=0||C&&$.indexOf(C)>=0)return delete v.title,delete v.detectionTime,delete v.promoter,this.ContentStorage.RemovePinterestSentVideoData(this.tabId,v),v}}async LookingForFacebookAds(){if(this.rawTicket.adsFacebook=this.ContentStorage.GetCandidatesDataFacebook(this.tabId),!this.rawTicket?.adsFacebook?.length)return;this.rawTicket.facebookDesignVersion=p.FACEBOOK_DESIGN_VERSION_NEW;let x=this.ContentStorage.GetCandidatesFacebookVideoData(this.tabId);if(!x?.length)return;let $=await this.lookingForVideData(x);this.ContentStorage&&this.ContentStorage.RemoveOldFacebookVideoData(this.tabId,$),this.isFacebookTicketReady=!0}async lookingForVideData(x){let $=[];for await(let v of this.rawTicket.adsFacebook){if(!v.videoData)continue;let C=!1,V=D.decode(v.content);for(let D=0;D<x.length&&!C;D++){const p=x[D];if(this.isVideoDataMatch(V,p)){let x=this.ConfigManager.FacebookConfig.VIDEO_URL_BY_PATTERN;C=!0,v.videoData.videoId=p.videoId,v.videoData.videoUrl=this.decodeURL(p.videoUrl,x),v.videoData.audioUrl=p.audioUrl,v.videoData.videoResolutionId=p.videoResolutionId,v.videoData.audioResolutionId=p.audioResolutionId,$.push(p.videoId)}}C||v.aboutPageLink&&(C=await this.buildFBVideoUrl(v,V))}return $}isVideoDataMatch(x,$){let v=!1;const C=$.previewImageUrl,D=C?new RegExp(`(data-cover-image-src|src)=".*${C.substring(C.length-8)}"`,"i"):null,V=new RegExp($.videoId,"i"),p=$.linkDisplay?.length?new RegExp($.linkDisplay,"i"):null,K=$.userName?.length?new RegExp($.userName,"i"):null,Z=$.adName?.length?new RegExp($.adName,"i"):null,O=$.adLogo?.length?new RegExp($.adLogo,"i"):null;return(D?.test(x)||V?.test(x)||p?.test(x)||K?.test(x)||Z?.test(x)||O?.test(x))&&(v=!0),v}async buildFBVideoUrl(x,$){const v=this.ConfigManager.FacebookConfig.VIDEO_URL_BY_PATTERN,C=new RegExp(v.REGEX_ADVERTISER_NAME),D=new RegExp(v.REGEX_VIDEO_ID),V=new RegExp(v.REGEX_VIDEO_SRC);let K=v.PATTERN,Z=x.aboutPageLink.match(C)?x.aboutPageLink.match(C)[1]:null,O=this.getVideoId($,D),U=!1;if(!O||!Z)return U;K=K.replace(p.FACEBOOK_AD_VIDEO_URL_REPLACE_NAME,Z).replace(p.FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID,O);let G=await fetch(K).then((x=>x.ok?x.text():U)).then((x=>{if(!x)return U;let $=x.match(V);if($&&$.length){let x=$.filter((x=>x&&-1!==x.search(/^https?/)))[0];return x=this.decodeURL(x,v),x}return U}));return G?(U=!0,x.videoData.videoUrl=G,x.videoData.videoId=O,U):U}decodeURL(x,$){const v=$.MAP_REPLACE_UNICODE;-1!==x.search(/https:\\\/\\\//)&&(x=x.replace(/\\/g,""));for(let $ of v){let[v,C]=$;const D=new RegExp(v,"g");x=x.replace(D,C)}return x}getVideoId(x,$){let v=null,C=x.match($);return C&&C.length>0&&(v=C[1]),v}async GetForcedBuildTicket(){return this.IsValid()?(await this.TicketBuildingFinished(!0),this.finalOutTicket.data?this.finalOutTicket.data:"{}"):"{}"}LookingForLinkedinAds(){if(!this.ContentStorage)return;this.rawTicket.adsLinkedin=this.ContentStorage.GetCandidatesDataLinkedin(this.tabId);let x=this.ContentStorage.GetCandidatesLinkedinVideoData(this.tabId),$=this.ContentStorage.GetCandidatesLinkedinSlidesData(this.tabId),v=this.ContentStorage.GetLinkedinFramesContent(this.tabId);if(this.rawTicket.adsLinkedin&&this.rawTicket.adsLinkedin.length)for(let C of this.rawTicket.adsLinkedin){if("feed"===C.adPlacementType){if(x&&x.length&&C.videoData)for(let $ of x)if(C.videoData.videoId&&$.videoSrc.indexOf(C.videoData.videoId)>-1){C.videoData.videoSrc=$.videoSrc,delete C.videoData.videoId,this.ContentStorage.RemoveLinkedinSentVideoData(this.tabId,$);break}$?.length&&0===C.carouselSlidesData?.length&&this.GetLinkedinSlidesSources(C,$),C.doesHaveIframe&&(this.GetLinkedinFrameContentAndReplaceIt(C,v),delete C.doesHaveIframe)}"uniqueDataId"in C&&delete C.uniqueDataId}}GetLinkedinSlidesSources(x,$){for(let v of $){let $=v.slidePathUrl,C=v.slideText;if(v.socialAdvertiserUrl&&v.socialAdvertiserUrl===x.socialAdvertiserUrl){x.carouselSlidesData=v.slideRootUrl.map(((x,v)=>{if($[v])return{source:x+$[v],text:C[v]}})).filter((x=>x));break}}}GetLinkedinFrameContentAndReplaceIt(x,$){if(!$.length)return null;let v=D.decode(x.content);for(let C of $){let $=D.decode(C.content),V=C.title;if($=this.RemoveLoaderAndSetSrcToImagesLinkedin($),v.search(V)>-1){x.content=D.encode(v.replace(/<iframe.[^<]*<\/iframe>/,`<div style="position:relative">${$}</div>`));break}}}RemoveLoaderAndSetSrcToImagesLinkedin(x){const $=this.ConfigManager.LinkedinConfig,v=new RegExp($.FEED.REGEXP_IFRAME_IMAGES,"g");return x=x.replace(v,"src="),x+=`<style>.${$.FEED.CLASS_TO_REMOVE_LOADER_ELEMENT}{display:none !important;}</style>`}extractionChainsStatuses(){let x=[],$=this.ContentStorage?this.ContentStorage.GetInvalidChainCompletedContent(this.tabId):[];if($.length)for(let v=0;v<$.length;v++){let C=Z.GetHtml5CandidateFromComletedInvalidChain($[v]),D={chainId:$[v].headerInfo.chainId,extractionStatus:Z.GetEmptyExtractionStatus()};C.frames.length&&(D.extractionStatus.fullContentExtracted=!0),C.targetUrl.length&&(D.extractionStatus.targetUrlExtracted=!0),D.extractionStatus.fullContentExtracted&&D.extractionStatus.targetUrlExtracted&&(this.rawTicket.adCandidatesHtml5.push(C),D.extractionStatus.sentToBackend=!0),x.push(D)}if(this.chains.length)for(let $=0;$<this.chains.length;$++){if(this.chains[$].GetStatus()===p.IFRAMES_CHAIN_BUILDING_STATUS_FINISHED){let v=this.chains[$].GetExtractionStatus();!v.extractionStatus.filteredOut&&v.extractionStatus.targetUrlExtracted&&(this.rawTicket.adCandidatesHtml5.push(this.chains[$].GetHTML5Candidate()),v.extractionStatus.sentToBackend=!0),x.push(v)}}return x}static GetForcedOutTicketFromTabTicketInfo(x,$){return x.rawOutTicket.adCandidatesHtml5=[],x.rawOutTicket.timeOnPage=C.GetCurrentTimestamp()-x.lastTicketDataSendTimestamp,x.rawOutTicket.sniffedVideoTrafficElements=$,x.rawOutTicket}ClearTicket(){this.isReadyToClearTicket&&(this.ConfigManager=null,this.ContentStorage=null,this.rawTicket=null,this.webNavigationIframes=[],this.webNavigationChainsList=[],this.fullIframesList=[],this.onTicketBuiltCallback=null,this.timeoutMaxBuilding=null,this.timeoutDeepTargetUrlDetection=null,this.chainBuildingInitInfo=[],this.chains=[],this.successfullyBuidChainIds=[],this.chainsWithoutTargetUrl=[],this.finalOutTicket={ticketId:"",data:""},this.html5AdsPrebuildInfo=[],this.isFacebookTicketReady=!1,this.isTwitterTicketReady=!1,this.isRedditTicketReady=!1)}setCreationTime(){this.rawTicket.creationTime=C.GetCurrentDataTimeStr()}}},6522:(x,$,v)=>{const C=v(7713),D=v(1568),V=v(2880),p=v(8384),K=v(6025).default;x.exports=class{constructor(x){this.id=x,this.init=!1,this.ConfigManager=null,this.ContentStorage=null,this.TicketSender=null,this.TabsManager=null,this.SensitiveDataFilter=null,this.SensitiveDataFilterInited=!1,this.tickets=[],this.tabsInBuilding=[],this.tabTicketInfo=[],this.tabTicketInfoCheckerTimeout=null,this.panalyticsId=""}IsInit(){return this.init}SetPanalyticsId(x){this.panalyticsId=x}Init(x,$,v,C,D){!this.init&&x&&$&&C&&(this.init=!0,this.ConfigManager=D,this.ContentStorage=x,this.TicketSender=$,this.AdBlockInspector=v,this.TabsManager=C,this.TabsManager.onRemoved(this.onTabClosed.bind(this)),this.ConfigManager&&this.ConfigManager.IsUseSensitiveDataFilter()&&(this.SensitiveDataFilter=new K({host:p.i,logging:!0}),this.SensitiveDataFilter.init().then((()=>{this.SensitiveDataFilterInited=!0}),(()=>{}))))}PrebuildTicket(x){let $=JSON.parse(x);return this.AdBlockInspector&&this.AdBlockInspector.IsInit()?$.activeAdBlocker=this.AdBlockInspector.HasActiveAdblock:$.activeAdBlocker=!1,this.SensitiveDataFilter&&this.SensitiveDataFilterInited&&($.url=this.SensitiveDataFilter.transformUrl($.url)),0===$[D.TICKET_ALIAS_PANALYTICSID].length&&($[D.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId),JSON.stringify($)}AddTicketForBuilding(x,$){if(this.init){let v=this.AddTicketToTabInfo(x,$);if(!this.tabsInBuilding.includes(x)){v.addTicketToBuildingTimestamp=V.GetCurrentTimestamp();let D=new C(this.id,this.panalyticsId,x,$,v.lastTicketDataSendTimestamp,this.ContentStorage,this.ConfigManager);if(D.IsValid())return this.tickets.push(D),this.tabsInBuilding.push(x),D.ActivateBuilding(this.onTicketBuilt.bind(this)),!0}}return!1}onGotTicketClickTargetUrlInfo(x,$,v){if(this.init){let C=!1;for(let D=0;D<this.tickets.length&&!C;D++)this.tickets[D].TabId===x&&(C=!0,this.tickets[D].onGotTicketClickTargetUrl($,v.chainId,v.clickTargetUrl))}}onTicketBuilt(x,$,v){if(this.tabsInBuilding.includes(x)){if(v){this.TicketSender.PushTicket($);let v=`tab_${x}`;this.tabTicketInfo[v]&&(this.tabTicketInfo[v].lastTicketDataSendTimestamp=this.tabTicketInfo[v].addTicketToBuildingTimestamp)}let C=this.tabsInBuilding.indexOf(x);C>-1&&this.tabsInBuilding.splice(C,1);let D=!1;for(let $=0;$<this.tickets.length&&!D;$++)this.tickets[$].TabId===x&&(D=!0,this.tickets.splice($,1))}}AddTicketToTabInfo(x,$){let v=`tab_${x}`,p=JSON.parse($),K=!1;if(this.tabTicketInfo[v])if(p.ticketId===this.tabTicketInfo[v].rawOutTicket.ticketId)this.tabTicketInfo[v].rawOutTicket=p;else{if(this.tabTicketInfo[v].rawOutTicket.finalTicket=!0,this.ContentStorage.HaveDataForTab(x)){let $=new C(this.id,this.panalyticsId,x,JSON.stringify(this.tabTicketInfo[v].rawOutTicket),this.tabTicketInfo[v].lastTicketDataSendTimestamp,this.ContentStorage,this.ConfigManager);$.GetForcedBuildTicket().then((x=>{this.TicketSender.PushTicket({type:D.OUT_TICKET_TYPE_SINGLE,ticketId:this.tabTicketInfo[v].rawOutTicket.ticketId,data:x}),$.ClearTicket()}))}else{let $=this.ContentStorage.GetSniffedVideoTrafficElementsCount(x);this.ContentStorage.ClearSniffedVideoTrafficElementsCount(x);let V=JSON.stringify(C.GetForcedOutTicketFromTabTicketInfo(this.tabTicketInfo[v],$));this.TicketSender.PushTicket({type:D.OUT_TICKET_TYPE_SINGLE,ticketId:this.tabTicketInfo[v].rawOutTicket.ticketId,data:V})}K=!0}else K=!0;return K&&(this.tabTicketInfo[v]={tabId:x,addTicketToBuildingTimestamp:V.GetCurrentTimestamp(),lastTicketDataSendTimestamp:V.GetCurrentTimestamp(),rawOutTicket:p}),this.tabTicketInfo[v]}onTabClosed(x,$){let v=`tab_${x}`;this.tabTicketInfo[v]&&(this.tabTicketInfo[v].rawOutTicket.finalTicket=!0,this.tabTicketInfoCheckerTimeout||(this.tabTicketInfoCheckerTimeout=setTimeout(this.CheckForFinalTickets.bind(this,x),1e3)))}CheckForFinalTickets(x){this.tabTicketInfoCheckerTimeout=null;let $=[];for(let v in this.tabTicketInfo)if(this.tabTicketInfo[v]&&this.tabTicketInfo[v].rawOutTicket.finalTicket){if(this.tabsInBuilding.includes(x)&&this.onTicketBuilt(x,"",!1),this.ContentStorage.HaveDataForTab(x)){let V=new C(this.id,this.panalyticsId,x,JSON.stringify(this.tabTicketInfo[v].rawOutTicket),this.tabTicketInfo[v].lastTicketDataSendTimestamp,this.ContentStorage,this.ConfigManager);V.GetForcedBuildTicket().then((x=>{$.push(JSON.parse(x)),V.ClearTicket(),$.length&&this.TicketSender.PushTicket({type:D.OUT_TICKET_TYPE_MULTI,data:JSON.stringify($)})})).catch((()=>{}))}else{let D=this.ContentStorage.GetSniffedVideoTrafficElementsCount(x);this.ContentStorage.ClearSniffedVideoTrafficElementsCount(x),$.push(C.GetForcedOutTicketFromTabTicketInfo(this.tabTicketInfo[v],D))}this.tabTicketInfo[v]=null,delete this.tabTicketInfo[v]}$.length&&this.TicketSender.PushTicket({type:D.OUT_TICKET_TYPE_MULTI,data:JSON.stringify($)})}}},4128:(x,$,v)=>{const C=v(1568),D=v(8384),V=v(5517),p=v(3742);x.exports=class{constructor(x){this.id=x,this.BackendIOManager=new p,this.OutTicketQueue=[],this.ticketToOut={},this.panalyticsId=""}Init(){setInterval(this.SendTicket.bind(this),500)}SetPanalyticsId(x){this.panalyticsId=x}isTicketDataEmpty(x){let $=JSON.parse(x);if(!$)return!0;if($.length&&1===$.length){let x=$[0];if(!Object.keys(x).length)return!0}return!$.finalTicket&&!Object.keys($).length}PushTicket(x){return this.OutTicketQueue.length<C.MAX_OUT_TICKETS_QUEUE_LENGTH&&(this.OutTicketQueue.push(x),!0)}SendTicket(){if(this.panalyticsId.length&&this.OutTicketQueue.length){if(this.ticketToOut=this.OutTicketQueue.shift(),this.isTicketDataEmpty(this.ticketToOut.data))return;this.ticketToOut.data&&this.ticketToOut.data.length,JSON.parse(this.ticketToOut.data);if(D.O){this.ticketToOut.data=V.compressToUTF16(this.ticketToOut.data);this.ticketToOut.data.length}this.ticketToOut.type===C.OUT_TICKET_TYPE_SINGLE?this.BackendIOManager.SendSingleOutTicketToBackend(this.panalyticsId,this.ticketToOut,this.onTicketSend.bind(this),this.onTicketSendError.bind(this)):this.ticketToOut.type===C.OUT_TICKET_TYPE_MULTI&&this.BackendIOManager.SendMultiOutTicketToBackend(this.panalyticsId,this.ticketToOut,this.onTicketSend.bind(this),this.onTicketSendError.bind(this))}}onTicketSend(){this.ticketToOut.ticketId="",this.ticketToOut.data=""}onTicketSendError(){this.ticketToOut.ticketId="",this.ticketToOut.data=""}}},3876:x=>{x.exports=class{static GetWebNavigationChainsList(x){let $=[],v=[];for(let C=0;C<x.length;C++)0===x[C].parentFrameId?v.push([x[C].frameId]):x[C].parentFrameId>0&&$.push({frameId:x[C].frameId,parentFrameId:x[C].parentFrameId,processed:!1});let C=0,D=0;for(;D<100&&$.length>C;){D+=1,C=0;for(let x=0;x<$.length;x++)if($[x].processed)C+=1;else{let C=!1;for(let D=0;D<v.length&&!C;D++)v[D].includes($[x].parentFrameId)&&(v[D].push($[x].frameId),$[x].processed=!0,C=!0)}}return v}static GetVideoHarFramesChainFullInfo(x,$){let v=[],C=0,D=x;for(;C<100&&D>=0;){C+=1;let x=!1;for(let C=0;C<$.length&&!x;C++)$[C].frameId===D&&(v.push({frameId:$[C].frameId,parentFrameId:$[C].parentFrameId,url:$[C].url}),D=$[C].parentFrameId,x=!0)}return v}}},7319:(x,$,v)=>{const C=v(9358),D=v(2880),V=v(1568);x.exports=class{constructor(x){this.id=x,this.ContentStorage=null,this.ConfigManager=null,this.aboutSectionConfig=null,this.cleanupTimer=null,this.candidates=[]}init(x,$){this.ConfigManager=x,this.ContentStorage=$,this.cleanupTimer=setInterval(this.CleanupCandidates.bind(this),6e4)}IsLoadAboutPageActivated(){let x=this.facebookConfig;return!(!x||!x.ABOUT_SECTION_CONFIG)&&x.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE}get facebookConfig(){return this.ConfigManager?this.ConfigManager.FacebookConfig:null}AddOneCandidateForLoading(x,$,v){this.mesType=v,this.candidates.push({tabId:x,active:!0,addTimestamp:D.GetCurrentTimestamp(),content:$}),this.mesType===V.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK?this.AddToLoading($.aboutPageLink):this.mesType===V.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.AddToLoading($.encodedText.bisLinks.aboutPageLink)}AddToLoading(x){if(this.ConfigManager){let $=this.ConfigManager.FacebookConfig;$&&$.ABOUT_SECTION_CONFIG&&$.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(this.aboutSectionConfig=$.ABOUT_SECTION_CONFIG,this.mesType===V.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK?this.LoadFBAboutContent($,x,this.onAboutPageLoaded.bind(this)):this.mesType===V.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.LoadFBAboutContent($,x,this.onInstreamAboutPageLoaded.bind(this)))}}LoadFBAboutContent(x,$,v){if($){let C=null;return fetch($,{headers:x.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then((x=>{if(200===x.status)return C=x.url,x.text();v(!1,$,"")})).then((D=>{this.workWithDataFromLoadPage(x,$,v,D,C)})).catch((()=>{v(!1,$,"")})),!0}return!1}workWithDataFromLoadPage(x,$,v,C,D){this.mesType===V.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK&&this.getAboutPageContent($,v,C),this.mesType===V.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA&&this.getAdvertiserUrlFromAboutPage(x,$,v,C,D)}getAdvertiserUrlFromAboutPage(x,$,v,C,D){if(!C)return void v(!1,$,null);let V=`${C}`,p={pageLink:D.replace(/about/,""),advertiserLink:null},K=!1;for(let $=0;$<x.ABOUT_SECTION_CONFIG.ADVERTISER_LINK_INSTREAM_QUERIES.length&&!K;$++){const v=x.ABOUT_SECTION_CONFIG.ADVERTISER_LINK_INSTREAM_QUERIES[$],C=new RegExp(v);let D=V.match(C);D&&D.length&&D[0].search(/http/)>-1&&(p.advertiserLink=JSON.parse(`"${D[0].match(/https?:((\/\/)|(\\\/\\\/)).[^"]+/)[0]}"`),K=!0)}v(K,$,p)}getAboutPageContent(x,$,v){$(!0,x,v.body?v.body:v)}onAboutPageLoaded(x,$,v){let D=!1;for(let x=0;x<this.candidates.length;x++){if(this.candidates[x].content.aboutPageLink!==$)continue;let V="",p=v.split(/\r?\n/);if(p.length)for(let x=0;x<p.length;x++){!new RegExp(this.aboutSectionConfig.CONTENT_CHECK_STRING).test(p[x])||V.includes("delegate_page_id")&&V.includes("about_app_sections")||(V+=p[x])}this.candidates[x].content.aboutSectionContent=C.encode(V),this.candidates[x].active=!1,this.ContentStorage.AddCandidatesDataFacebook(this.candidates[x].tabId,[this.candidates[x].content]),D=!0}D&&this.CleanupCandidates()}onInstreamAboutPageLoaded(x,$,v){let D=!1;for(let x=0;x<this.candidates.length;x++){const V=this.candidates[x];if(V.content.encodedText.bisLinks.aboutPageLink===$){let x=Object.assign({},V.content);x.encodedText.bisLinks.advertiserLink=v.advertiserLink,x.encodedText.bisLinks.pageLink=v.pageLink,delete x.encodedText.bisLinks.aboutPageLink,x.encodedText=C.encode(JSON.stringify(x.encodedText)),this.ContentStorage.AddVideoHar(V.tabId,x),D=!0}}D&&this.CleanupCandidates()}CleanupCandidates(){let x=[],$=D.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(let v=0;v<this.candidates.length;v++)this.candidates[v].active&&$-this.candidates[v].addTimestamp<60&&x.push(this.candidates[v]);this.candidates=x}}}},6433:(x,$,v)=>{const C=v(2880);v(1568);x.exports=class{constructor(x){this.id=x,this.ContentStorage=null,this.instagramConfig=null,this.cleanupTimer=null,this.candidates=[],this.guestToken=null,this.loaderCache=[],this.guestTokenLastUpdateTime=C.GetCurrentTimestamp()-300}init(x,$){this.instagramConfig=x.InstagramConfig,this.ContentStorage=$,this.ContentStorage&&this.instagramConfig&&(this.cleanupTimer=setInterval(this.Cleanup.bind(this),6e3))}AddOneCandidateForLoading(x,$){this.IsLoadUserDataActivated()&&(this.candidates.push({tabId:x,active:!0,addTimestamp:C.GetCurrentTimestamp(),content:$}),this.LoadInstAboutContent($,$.aboutPageUrl,this.onUserDataLoaded.bind(this)))}AddCandidatesForLoading(x,$){for(let v=0;v<$.length;v++)this.AddOneCandidateForLoading(x,$[v])}IsLoadUserDataActivated(){return!!this.instagramConfig&&this.instagramConfig.LOAD_USER_DATA.ENABLED}LoadInstAboutContent(x,$,v){let{screenName:C,headers:D}=x;C&&(this.IsInCache(C)?v(!0,C,this.GetDataFromCache(C)):$?fetch("https://www.instagram.com/api/v1/users/web_profile_info/?username="+C,{method:"GET",headers:D}).then((x=>{if(200===x.status)return x.text();v(!1,C,"")})).then((x=>{let $=this.getAdvertiserUrlByPath(x);this.AddToCache(C,$),v(!0,C,$)})).catch((()=>{v(!1,C,""),this.guestToken=""})):v(!1,C,""))}onUserDataLoaded(x,$,v){let C=!1;for(let x=0;x<this.candidates.length;x++)this.candidates[x].content.screenName===$&&(this.candidates[x].content.advertiserUrl=v,this.candidates[x].active=!1,this.ContentStorage.AddCandidatesDataInstagram(this.candidates[x].tabId,[this.candidates[x].content]),C=!0),delete this.candidates[x].content.headers;C&&this.CleanupCandidates()}getAdvertiserUrlByPath(x){let $=JSON.parse(x),v=this.instagramConfig.LOAD_USER_DATA.PATH_TO_ADERTISER_URL,C=v.length;for(let[x,D]of Object.entries(v)){if(!$[D])return null;if($=$[D],x==C-1&&"string"==typeof $)return $}}CleanupCandidates(){let x=[],$=C.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(let v=0;v<this.candidates.length;v++)this.candidates[v].active&&$-this.candidates[v].addTimestamp<60&&x.push(this.candidates[v]);this.candidates=x}}Cleanup(){this.CleanupCandidates(),this.CleanupCache()}AddToCache(x,$){if(x&&$){this.cacheUsed=!0;let v=C.GetCurrentTimestamp();this.IsInCache(x)?this.loaderCache[x].addTimestamp=v:this.loaderCache[x]={addTimestamp:v,data:$}}}IsInCache(x){return x&&"object"==typeof this.loaderCache[x]}GetDataFromCache(x){return this.IsInCache(x)?this.loaderCache[x].data:""}CleanupCache(){if(Object.keys(this.loaderCache).length){let x=C.GetCurrentTimestamp();for(let $ in this.loaderCache)x-this.loaderCache[$].addTimestamp>600&&delete this.loaderCache[$]}}}},5:(x,$,v)=>{const C=v(2880),D=v(1568);x.exports=class{constructor(x){this.id=x,this.ContentStorage=null,this.ConfigManager=null,this.candidates=[],this.cleanupTimer=null}init(x,$){this.ConfigManager=x,this.ContentStorage=$,this.cleanupTimer=setInterval(this.CleanupCandidates.bind(this),6e4)}get linkedinConfig(){return this.ConfigManager.LinkedinConfig}get linkedinAdditionalConfig(){return this.linkedinConfig.ADDITIONAL_LOADER_CONFIG}isAdvertiserUrlValid(x){const $=x.length?x[0]:x;return this.isAdvertiserUrlLowPriority($.socialAdvertiserUrl)}isAdvertiserUrlLowPriority(x){return x?.length&&x.search(this.linkedinAdditionalConfig.CHECK_ON_PRIORITY_ADV_URL)>=0}isValidType(x){return x===D.LINKEDIN_AD_PLACEMENT_TYPE_FEED}AddCandidateForLoading(x,$){let v=$[0],D=this.isAdvertiserUrlValid(v),V=!!v.cookie?.length,p=!!v.uniqueDataId?.length;const K=v.uniqueDataId;if(!(V&&D&&this.isValidType(v.adPlacementType)&&p))return void this.ContentStorage.AddCandidatesDataLinkedin(x,$);this.candidates.push({tabId:x,active:!0,isUrlLoaderProcessed:D,addTimestamp:C.GetCurrentTimestamp(),content:v});let Z=this.getRequestToFetch(v);this.LoadPage(v,Z).then((x=>{if(!x)return null;this.workWithDataFromLoadedData(this.onLoadPageCallback.bind(this),K,x)}))}LoadPage(x,$){return fetch($).then((x=>x.ok?x.text():null)).catch((()=>null))}getRequestToFetch(x){try{let $=this.getOptionsToFetch(x.cookie);const v=this.linkedinAdditionalConfig.REPLACE_PARAMS_IN_URL[0],C=this.linkedinAdditionalConfig.REPLACE_PARAMS_IN_URL[1];let D=x.socialAdvertiserUrl.replace(v,C);return new Request(D,$)}catch(x){return null}}getOptionsToFetch(x){return{method:"GET",Cookie:x}}onLoadPageCallback(x,$){let v=!1;for(let C of this.candidates){x===C.content.uniqueDataId&&(C.content.advertiserUrl=$||C.content.advertiserUrl,v=!0,C.active=!1,delete C.content.uniqueDataId,delete C.content.cookie,this.ContentStorage.AddCandidatesDataLinkedin(C.tabId,[C.content]))}}workWithDataFromLoadedData(x,$,v){this.getNecessaryData(x,$,v)}getNecessaryData(x,$,v){x($,this.getAdvertiserUrl(v))}getAdvertiserUrl(x){let $="";const v=new RegExp(this.linkedinAdditionalConfig.REGEXP_GET_ADVERTISER_URL);let C=x.match(v);return C?.groups?.websiteUrl?($=C.groups.websiteUrl,$&&0!==$.search("http")?`https://${$}`:$):""}CleanupCandidates(){let x=[],$=C.GetCurrentTimestamp();if(this.candidates?.length){for(let v=0;v<this.candidates.length;v++){let C=this.candidates[v];C.active&&$-C.addTimestamp<60&&x.push(C)}this.candidates=x}}}},247:(x,$,v)=>{const C=v(2880);v(1568);x.exports=class{constructor(x){this.id=x,this.ContentStorage=null,this.ConfigManager=null,this.replacePatternId="[PIN_ID]",this.replacePatternUsername="[USERNAME]",this.candidates=[],this.cleanupTimer=null}init(x,$){this.ConfigManager=x,this.ContentStorage=$,this.cleanupTimer=setInterval(this.CleanupCandidates.bind(this),6e4)}get pinterestConfig(){return this.ConfigManager.PinterestConfig}get pinterestAdditionalConfig(){return this.pinterestConfig.ADDITIONAL_LOADER_CONFIG}isAdTextValid(x){const $=x.length?x[0]:x;return!(!$.adText||!$.adText.length)}isAdvertiserUrlValid(x){const $=x.length?x[0]:x;return!(!$.advertiserUrl||!$.advertiserUrl.length||this.isAdvertiserUrlLowPriority($.advertiserUrl))}isAdvertiserUrlLowPriority(x){return x.search(this.pinterestAdditionalConfig.CHECK_ON_PRIORITY_ADV_URL)>=0}AddCandidateForLoading(x,$){let v=$[0],D=!this.isAdvertiserUrlValid(v),V=!this.isAdTextValid(v);this.candidates.push({tabId:x,active:!0,isTextLoaderProcessed:V,isUrlLoaderProcessed:D,addTimestamp:C.GetCurrentTimestamp(),content:v}),this.LoadPage(v,this.onLoadPinPageCallback.bind(this))}LoadPage(x,$){return new Promise(((v,C)=>{const D=x.uniqueContentId;let V=null;try{if(V=this.getRequestToFetch(x),!V)return void v(!1)}catch(x){return void C(x)}fetch(V).then((x=>x.text())).then((x=>{x&&this.workWithDataFromLoadedData(v,$,D,x)})).catch((()=>{v(!1)}))}))}getRequestToFetch(x){const $=x.uniqueContentId;let v=this.getOptionsToFetch(),C=this.pinterestAdditionalConfig.PIN_PAGE_URL_PATTERN.replace(this.replacePatternId,$);return new Request(C,v)}getOptionsToFetch(){return{method:"GET"}}onLoadPinPageCallback(x,$,v,C,D,V){let p=!1;for(let x of this.candidates){$===x.content.uniqueContentId&&(x.content.adText=v,x.content.description=C,x.content.advertiserUrl=D||x.content.advertiserUrl,x.content.advertiserId=V,p=!0,x.active=!1,this.ContentStorage.AddCandidatesDataPinterest(x.tabId,[x.content]))}x(p)}workWithDataFromLoadedData(x,$,v,C){this.getNecessaryData(x,$,v,C)}getNecessaryData(x,$,v,C){const D=this.getDescription(C);$(x,v,this.getAdTitle(C),D,this.getAdvertiserUrl(C),this.getAdvertiserId(C))}getDescription(x){const $="description",v=this.pinterestAdditionalConfig.DESCRIPTION_QUERY.replace(/GROUP_NAME/,$),C=new RegExp(v);let D=x.match(C);return D&&D.length>1?D.groups[$]:""}getAdTitle(x){const $=new RegExp(this.pinterestAdditionalConfig.TITLE_QUERY);let v=x.match($);return v&&v.length>1?v[1]:""}getAdvertiserUrl(x){let $=null,v="",C=this.getTextJs(x);return C?($=this.parseTextToJs(C),$&&(v=this.findValueByPath($,this.pinterestAdditionalConfig.PATH_TO_ADVERTISER_URL)),v&&"string"==typeof v?v:""):v}getTextJs(x){const $=this.pinterestAdditionalConfig.GET_SCRIPT_WITH_DATA_QUERY;let v=[];for(let C of $){const $=new RegExp(C);let D=x.match($);D&&D.length>1?v.push(D[1]):v.push("{}")}return v}findValueByPath(x,$){for(let v of x){let x=null;for(let C of $){x=v;for(let $ of C)if(x&&x[$]&&(x=x[$]),$===this.replacePatternId){x=x[Object.keys(x)]}if(x&&"string"==typeof x)return x}}return""}parseTextToJs(x){let $=[];try{if("string"==typeof x)$=JSON.parse(x);else for(let v of x)$.push(JSON.parse(v))}catch(x){}return $}getAdvertiserId(x){let $=null,v="",C=this.getTextJs(x);return C?($=this.parseTextToJs(C),$&&(v=this.findValueByPath($,this.pinterestAdditionalConfig.PATH_TO_ADVERTISER_ID)),v&&"string"==typeof v?v:""):v}CleanupCandidates(){let x=[],$=C.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(let v=0;v<this.candidates.length;v++){let C=this.candidates[v];C.active&&$-C.addTimestamp<60&&x.push(C)}this.candidates=x}}}},3332:(x,$,v)=>{const C=v(2880),D=v(9358);x.exports=class{constructor(x){this.id=x,this.contentStorage=null,this.configManager=null,this.candidates=[],this.cleanupTimer=null}init(x,$){this.configManager=x,this.contentStorage=$,this.cleanupTimer=setInterval(this.cleanupCandidates.bind(this),9e4)}get twitchConfig(){return this.configManager.twitchConfig}AddCandidateForLoading(x,$){this.candidates.push({tabId:x,active:!0,addTimestamp:C.GetCurrentTimestamp(),content:$}),this.loadInstreamData($.urlToGetInstreamData,$).then((x=>{if(!x)return null;this.workWithInstreamData(x,$,this.onLoadPageCallback.bind(this))}))}loadInstreamData(x){return fetch(x).then((x=>x.ok?x.text():null)).catch((()=>null))}workWithInstreamData(x,$,v){let C=x.match(/(?<hlsUrl>https:\/\/.*\.m3u8)\n/)?.groups.hlsUrl;const D=$.urlToGetInstreamData;if(!C)return null;this.loadInstreamData(C).then((x=>{if(!x)return null;v(x,C,D,0)}))}onLoadPageCallback(x,$,v,C){if(this.twitchConfig.CHECK_WORDS_IS_AD.every(($=>-1===x.search($))))return;const D=x.match(/X-TV-TWITCH-AD-AF-ICR-MEDIA-DURATION="(?<duration>[0-9]*)"/)?.groups.duration,V=D?Math.floor(D/2):0;if(C<V){let x=setTimeout((()=>this.loadInstreamData($).then((D=>{if(clearTimeout(x),C++,!D)return null;this.onLoadPageCallback(D,$,v,C)}))),2e3)}else this.prepareAndAddCandidateToSend(v,$,x)}prepareAndAddCandidateToSend(x,$,v){let C=!1;for(let V of this.candidates)x===V.content.urlToGetInstreamData&&(C=!0,V.active=!1,V.content.encodedText=D.encode(D.encode(v)),V.content.mediaType=this.twitchConfig.MEDIA_TYPE,V.content.contentType=this.twitchConfig.CONTENT_TYPE,V.content.url=$,delete V.content.urlToGetInstreamData,this.contentStorage.AddVideoHar(V.tabId,V.content))}cleanupCandidates(){let x=[],$=C.GetCurrentTimestamp();if(this.candidates?.length){for(let v=0;v<this.candidates.length;v++){let C=this.candidates[v];C.active&&$-C.addTimestamp<60&&x.push(C)}this.candidates=x}}}},8758:(x,$,v)=>{const C=v(9358),D=v(2880);x.exports=class{constructor(x){this.id=x,this.ContentStorage=null,this.twitterConfig=null,this.cleanupTimer=null,this.candidates=[],this.guestToken=null,this.loaderCache=[],this.guestTokenLastUpdateTime=D.GetCurrentTimestamp()-300,this.domainName=""}init(x,$){this.twitterConfig=x.TwitterConfig,this.ContentStorage=$,this.ContentStorage&&this.twitterConfig&&(this.cleanupTimer=setInterval(this.Cleanup.bind(this),6e3))}AddOneCandidateForLoading(x,$,v){this.IsLoadUserDataActivated()&&(this.candidates.push({tabId:x,active:!0,addTimestamp:D.GetCurrentTimestamp(),content:v}),this.LoadTwAboutContent($,v.screenName,v.token,this.onUserDataLoaded.bind(this)))}AddCandidatesForLoading(x,$){const v=x.tab.id,C=x.origin.match(/:\/\/(?<domainName>.[^.]*)\./)?.groups.domainName;for(let x=0;x<$.length;x++)this.AddOneCandidateForLoading(v,C,$[x])}IsLoadUserDataActivated(){return!!this.twitterConfig&&this.twitterConfig.LOAD_USER_DATA.ENABLED}LoadTwAboutContent(x,$,v,D){if($)if(this.IsInCache($))D(!0,$,this.GetDataFromCache($));else if(this.twitterConfig.LOAD_USER_DATA.AUTH_BEARER&&v&&x){let V=this.twitterConfig.LOAD_USER_DATA.API_CALL_SCREEN_NAME.replace("${%1}",$).replace("${DOMAIN_NAME}",x);fetch(V,{method:"GET",headers:{authorization:this.twitterConfig.LOAD_USER_DATA.AUTH_BEARER,"X-Csrf-Token":v},credentials:"same-origin"}).then((x=>{if(200===x.status)return x.text();D(!1,$,"")})).then((x=>{this.AddToCache($,C.encode(x)),D(!0,$,C.encode(x))})).catch((()=>{D(!1,$,""),this.guestToken=""}))}else D(!1,$,"")}onUserDataLoaded(x,$,v){let C=!1;for(let x=0;x<this.candidates.length;x++)this.candidates[x].content.screenName===$&&(this.candidates[x].content.userDataByScreenName=v,this.candidates[x].active=!1,this.ContentStorage.AddCandidatesDataTwitter(this.candidates[x].tabId,[this.candidates[x].content]),C=!0,delete this.candidates[x].content.token);C&&this.CleanupCandidates()}CleanupCandidates(){let x=[],$=D.GetCurrentTimestamp();if(this.candidates&&this.candidates.length){for(let v=0;v<this.candidates.length;v++)this.candidates[v].active&&$-this.candidates[v].addTimestamp<60&&x.push(this.candidates[v]);this.candidates=x}}Cleanup(){this.CleanupCandidates(),this.CleanupCache()}AddToCache(x,$){if(x&&$){this.cacheUsed=!0;let v=D.GetCurrentTimestamp();this.IsInCache(x)?this.loaderCache[x].addTimestamp=v:this.loaderCache[x]={addTimestamp:v,data:$}}}IsInCache(x){return x&&"object"==typeof this.loaderCache[x]}GetDataFromCache(x){return this.IsInCache(x)?this.loaderCache[x].data:""}CleanupCache(){if(Object.keys(this.loaderCache).length){let x=D.GetCurrentTimestamp();for(let $ in this.loaderCache)x-this.loaderCache[$].addTimestamp>600&&delete this.loaderCache[$]}}}},8384:x=>{x.exports=class{static get B(){return"2.0.26"}static get V(){return 1}static get p(){return 5}static get K(){return 5}static get i(){return"https://authentication.urban-vpn.com"}static get C(){return"https://analytics-toolbar.urban-vpn.com"}static get Z(){return"/tickets"}static get D(){return"/install"}static get M(){return`/configuration?pv=${this.B}`}static get U(){return!1}static get O(){return!0}static get t(){return!1}static get W(){return!1}static get $(){return!0}static get N(){return!0}static get v(){return!0}static get G(){return!0}static get L(){return!1}static get S(){return!1}}},2880:(x,$,v)=>{const C=v(1568);class D{static QuerySelectorAll(x,$){return document.__proto__.querySelectorAll.call(x,$)}static QuerySelector(x,$){return document.__proto__.querySelector.call(x,$)}static Escape(x){return x.replace(/\"/g,"&quot;")}static ToJSON(x){return"function"==typeof x.toJSON?x.toJSON():JSON.stringify(x)}static GetBaseHref(){let x=D.QuerySelector(document,"base");return x&&x.href?x.href:""}static GetTabIdKey(x){return"tb_"+x}static GetMainPageId(x){return"mp_"+x}static IsOnChromeRuntime(){let x=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch($){x=!1}if(x)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(x){let $={x:0,y:0,w:0,h:0};if(x&&x.getBoundingClientRect){let v=x.getBoundingClientRect();$={x:~~(v.left+window.scrollX),y:~~(v.top+window.scrollY),w:~~v.width,h:~~v.height}}return $}static IsCoordinatesValid(x){return!!(x&&x.hasOwnProperty("x")&&"number"==typeof x.x&&x.hasOwnProperty("y")&&"number"==typeof x.y)}static GetFullElementSize(x,$,v){let C=D.GetElementSize(x);return D.IsCoordinatesValid(v)&&(C.x=C.x+v.x,C.y=C.y+v.y),D.IsCoordinatesValid($)?(C.abs_x=C.x+$.x,C.abs_y=C.y+$.y):(C.abs_x=C.x,C.abs_y=C.y),C}static SetFullSizeToElement(x,$,v){let C={x:0,y:0,w:0,h:0};return D.IsCoordinatesValid(v)&&(C.x=C.x+v.x,C.y=C.y+v.y),x&&x.setAttribute&&(C=D.GetFullElementSize(x,$,v),x.setAttribute("bis_size",D.ToJSON(C))),C}static GenerateAndSetBisId(x,$){let v=$+D.GenerateQuickId();return x&&x.setAttribute&&x.setAttribute(C.ATTRIBUTE_BIS_ID,v),v}static GenerateAndSetBisIdToFrame(x){return D.GenerateAndSetBisId(x,"fr_")}static GenerateAndSetBisIdToBanner(x){return D.GenerateAndSetBisId(x,"bn_")}static GenerateAndSetBisIdToPinterestAds(x){return D.GenerateAndSetBisId(x,"pt_")}static GenerateAndSetBisIdToInstagramAds(x){return D.GenerateAndSetBisId(x,"ig_")}static GenerateAndSetBisIdToLinkedinAds(x){return D.GenerateAndSetBisId(x,"ln_")}static GenerateAndSetBisIdToFBAds(x){return D.GenerateAndSetBisId(x,"fb_")}static GenerateAndSetBisIdToTwitterAds(x){return D.GenerateAndSetBisId(x,"tw_")}static GenerateAndSetBisIdToRedditAds(x){return D.GenerateAndSetBisId(x,"rd_")}static SetBisDepth(x,$){x&&x.setAttribute&&x.setAttribute("bis_depth",$)}static SetBisChainId(x,$){x&&x.setAttribute&&x.setAttribute("bis_chainid",$)}static SetBannerId(x,$){x&&x.setAttribute&&x.setAttribute("bis_bannerid",$)}static UpdateCandidateStatusBorderColor(x,$){if(x&&x.style&&x.style.cssText&&$){let v="";$.filteredOut?v=C.STYLES_BORDER_BANNER_FILTERED:$.sentToBackend?v=C.STYLES_BORDER_BANNER_SENT:$.targetUrlExtracted?v=C.STYLES_BORDER_BANNER_URL_EXTRACTED:$.fullContentExtracted&&(v=C.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let D=x.style.cssText;D.includes(v)||(D=D.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,v),x.style.cssText=D)}}static GetMainDomainFromHost(x){if(x&&x.split){let $=x.split(".");if($.length>=2){let x=$[$.length-2],v=$[$.length-1];return $.length>=3&&2===v.length&&3===x.length?`${$[$.length-3]}.${x}.${v}`:x+"."+v}}return null}static GetMainDomainFromUrl(x){return D.GetMainDomainFromHost(D.GetHostNameFromUrl(x))}static GetHostNameFromUrl(x){let $=x.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=$&&$.length>2&&"string"==typeof $[2]&&$[2].length>0?$[2]:null}static IsUrlFromHost(x,$){return-1!==x.indexOf(D.GetMainDomainFromUrl($))}static IsPublisherInBlacklist(x,$){let v=!1,C=D.GetHostNameFromUrl(x);return $&&$.length&&C&&$.includes(C)&&(v=!0),v}static GetUrlFromStyleStr(x){let $=x.replace(/"/g,"'"),v=$.indexOf("http");-1===v&&(v=$.indexOf("//"));let C=$.indexOf("'",v),D="";return v>0&&C>0&&v<C&&(D=$.substr(v,C-v)),D}static GetCurrentDataTimeStr(){function x(x){return x<10?"0"+x:""+x}let $=new Date;return`${$.getFullYear()}-${x($.getMonth()+1)}-${x($.getDate())} ${x($.getHours())}:${x($.getMinutes())}:${x($.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(){function x(x){return x<10?"0"+x:""+x}let $=new Date;return`${$.getFullYear()}-${x($.getMonth()+1)}-${x($.getDate())} ${x($.getHours())}:${x($.getMinutes())}:${x($.getSeconds())} ${$.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(x){try{if(x&&!D.IsIframeSecure(x)&&"ok"!==x.contentDocument.body.getAttribute("bis_status"))return!1}catch(x){}return!0}static IsIframeSecure(x){return!x||0!==x.src.length&&"about:blank"!==x.src&&"about:srcdoc"!==x.src&&0!==x.src.indexOf("javascript:")}static isValidUrl(x){return"string"==typeof x&&x.length>0&&(-1!==x.indexOf("http")||-1!==x.indexOf("//"))}static IsValidBisId(x){return!!(x.startsWith("mp_")||x.startsWith("bg_")||x.startsWith("fr_"))}static IsYouTubeUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("youtube.com")}static IsFacebookUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("facebook.com")}static IsTwitterUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.search(/twitter|x\.com/)}static IsRedditUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("reddit.com")}static IsPinterestUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("instagram.com")}static IsLinkedinUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("linkedin.com")}static IsTiktokUrl(x){return!!~D.GetHostNameFromUrl(x).indexOf("tiktok.com")}static IsTwitchUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("twitch.tv")}static isClaudeUrl(x,$){const v=$?.u?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isChatgptUrl(x,$){const v=$?.F?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isDeepseekUrl(x,$){const v=$?.I?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isCopilotUrl(x,$){const v=$?.k?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isPerplexityUrl(x,$){const v=$?.m?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isMetaUrl(x,$){const v=$?.X?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isGeminiUrl(x,$){const v=$?.l?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isAI(x,$){return[D.isClaudeUrl,D.isChatgptUrl,D.isCopilotUrl,D.isDeepseekUrl,D.isPerplexityUrl,D.isMetaUrl,D.isGeminiUrl].some((v=>v(x,$)))}static GetFullIdStr(x,$,v){return`ext:${chrome.runtime.id}-chainId:${x}-frameId:${$}-bisId:${v}`}static GetRandomIntInRange(x,$){return parseInt((Math.random()*($-x)+x).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(x){let $=16*Math.random()|0;return("x"==x?$:3&$|8).toString(16)}))}static IsInFilterList(x,$){let v=!1;if(x)for(let C=0;C<x.length&&!v;C++)-1!==$.indexOf(x[C])&&(v=!0);return v}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(x){let $=!1;if(x)try{"number"==typeof x.detectionTime&&"string"==typeof x.videoId&&"string"==typeof x.videoUrl&&x.videoId.length&&x.videoUrl.length&&($=!0)}catch(x){}return $}static GetDefaultAdblockerStatus(){return{[C.ADBLOCKER_FOR_DISPLAY]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_FACEBOOK]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_TWITTER]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_REDDIT]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_PINTEREST]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_INSTAGRAM]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_TIKTOK]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_LINKEDIN]:C.ADBLOCKER_STATUS_DISABLED,[C.USE_LOCAL_CONFIG]:C.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(x,$,v){let C=[];if(!$)return C;const V=v.w*v.h;let p=[],K=Array.from($.querySelectorAll("*")).map(($=>$.shadowRoot?$.shadowRoot.querySelectorAll(x):"IMG"===$.nodeName||"IFRAME"===$.nodeName?$:$.querySelectorAll(x))).filter((x=>x)).reduce(((x,$)=>($&&$.length&&$.forEach(($=>{x.includes($)||x.push($)})),"IMG"!==$.nodeName&&"IFRAME"!==$.nodeName||x.push($),x)),[]);if(!K?.length||0===V)return C;for(let $ of K){let v=$;v&&v.shadowRoot&&(v=v.shadowRoot.firstElementChild.querySelector(x));let C=D.GetElementSize(v);p.push(C.w*C.h/V*100)}return p}static CheckDocumentReadyState(x){return document.readyState===x}static getURL(x){return chrome.runtime.getURL(x)}static getDataFromStorageLocal(x){return chrome.storage.local.get([x]).then(($=>$[x]?$[x]:$))}static getDataFromStorageSync(x){return new Promise((($,v)=>{try{chrome.storage.sync.get([x]).then((v=>{v[x]?$(v[x]):$(v)}))}catch(x){v(x)}}))}static GetCookie(x){let $=x+"=",v=decodeURIComponent(document.cookie).split(";");for(let x=0;x<v.length;x++){let C=v[x];for(;" "==C.charAt(0);)C=C.substring(1);if(0==C.indexOf($))return C.substring($.length,C.length)}return""}static GetOriginFromHref(x){x&&x.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(x){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(x,$=1e4){return new Promise(((v,C)=>{const D=document.querySelector(x);if(D)return v(D);const V=new MutationObserver((()=>{const $=document.querySelector(x);$&&(V.disconnect(),v($))}));V.observe(document.body,{childList:!0,subtree:!0}),$&&setTimeout((()=>{V.disconnect(),C(new Error(`Element ${x} not found within timeout`))}),$)}))}static getRegExpFromString(x){let $=x.replace(/.*\/([gimy]*)$/,"$1"),v=x.replace(new RegExp("^/(.*?)/"+$+"$"),"$1");return new RegExp(v,$)}}x.exports=D},1568:(x,$,v)=>{const C=v(9358);x.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_CLAUDE_DATA(){return"CLAUDE_DATA"}static get MESSAGE_TYPE_CHATGPT_DATA(){return"CHATGPT_DATA"}static get MESSAGE_TYPE_GEMINI_DATA(){return"GEMINI_DATA"}static get MESSAGE_TYPE_COPILOT_DATA(){return"COPILOT_DATA"}static get MESSAGE_TYPE_PERPLEXITY_DATA(){return"PERPLEXITY_DATA"}static get MESSAGE_TYPE_META_AI_DATA(){return"META_AI_DATA"}static get MESSAGE_TYPE_DEEPSEEK_DATA(){return"DEEPSEEK_DATA"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return C.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return C.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(x,$,v)=>{const C=v(1568),D=v(2880);x.exports=class{static get EmptyMessage(){return{posdMessageId:C.MESSAGE_ID,posdHash:D.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:""}}static IsValid(x){try{if(void 0!==x&&void 0!==x.posdMessageId&&void 0!==x.type&&void 0!==x.content)return x.posdMessageId===C.MESSAGE_ID}catch(x){throw x}return!1}static IsStrictValid(x){try{if(void 0!==x&&void 0!==x.posdMessageId&&void 0!==x.from&&void 0!==x.to&&void 0!==x.type&&void 0!==x.content)return x.posdMessageId===C.MESSAGE_ID}catch(x){throw x}return!1}}},9358:x=>{var $={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(x,v=!0){if(TextEncoder&&atob&&btoa&&v)return $.bytesToBase64((new TextEncoder).encode(x));let C,D,V,p,K,Z,O,U="",G=0;for(x=$._utf8_encode(x);G<x.length;)C=x.charCodeAt(G++),D=x.charCodeAt(G++),V=x.charCodeAt(G++),p=C>>2,K=(3&C)<<4|D>>4,Z=(15&D)<<2|V>>6,O=63&V,isNaN(D)?Z=O=64:isNaN(V)&&(O=64),U=U+this._keyStr.charAt(p)+this._keyStr.charAt(K)+this._keyStr.charAt(Z)+this._keyStr.charAt(O);return U},decode:function(x,v=!0){if("{"===x[0])return x;if(TextDecoder&&atob&&btoa&&v)return(new TextDecoder).decode($.base64ToBytes(x));let C,D,V,p,K,Z,O,U="",G=0;for(x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");G<x.length;)p=this._keyStr.indexOf(x.charAt(G++)),K=this._keyStr.indexOf(x.charAt(G++)),Z=this._keyStr.indexOf(x.charAt(G++)),O=this._keyStr.indexOf(x.charAt(G++)),C=p<<2|K>>4,D=(15&K)<<4|Z>>2,V=(3&Z)<<6|O,U+=String.fromCharCode(C),64!=Z&&(U+=String.fromCharCode(D)),64!=O&&(U+=String.fromCharCode(V));return U=$._utf8_decode(U),U},_utf8_encode:function(x){x=x.replace(/\r\n/g,"\n");let $="";for(let v=0;v<x.length;v++){let C=x.charCodeAt(v);C<128?$+=String.fromCharCode(C):C>127&&C<2048?($+=String.fromCharCode(C>>6|192),$+=String.fromCharCode(63&C|128)):($+=String.fromCharCode(C>>12|224),$+=String.fromCharCode(C>>6&63|128),$+=String.fromCharCode(63&C|128))}return $},_utf8_decode:function(x){let $="",v=0,C=0,D=0,V=0;for(;v<x.length;)C=x.charCodeAt(v),C<128?($+=String.fromCharCode(C),v++):C>191&&C<224?(D=x.charCodeAt(v+1),$+=String.fromCharCode((31&C)<<6|63&D),v+=2):(D=x.charCodeAt(v+1),V=x.charCodeAt(v+2),$+=String.fromCharCode((15&C)<<12|(63&D)<<6|63&V),v+=3);return $},base64ToBytes:function(x){const $=atob(x);return Uint8Array.from($,(x=>x.codePointAt(0)))},bytesToBase64:function(x){const $=Array.from(x,(x=>String.fromCodePoint(x))).join("");return btoa($)}};x.exports=$},6827:x=>{x.exports='{"configInfo":{"panelVersion":"2.0.26","version":"4.32"},"loadManagement":{"sendCandidatesSkinAd":true,"sendCandidatesBanner":true,"sendCandidatesHtml5":true,"sendYoutubeVideoTraffics":true,"sendNonYoutubeVideoTraffics":true,"sendFacebookAds":true,"sendTwitterAds":true,"sendRedditAds":true,"sendPinterestAds":true,"sendInstagramAds":true,"sendFacebookVideoTraffics":true,"sendLinkedinAds":true,"sendTiktokAds":true,"sendClaudeMessages":true,"sendMicrosoftCopilotMessages":true,"sendChatgptMessages":true,"sendDeepseekMessages":true,"sendPerplexityMessages":true,"sendGeminiMessages":true,"sendMetaAiMessages":true},"filterLists":{"blacklistTargetUrl":["adssettings.google.com/whythisad","mediamath.com/privacy-policy","info.yahoo.com/privacy","boostbox.com.br","http://alberoonlus.it","http://app.netjobsall.com","http://bagstories.gr","http://caetanostarmercedes.pt","http://caribul.com","http://et.nz","http://fasciaclinics.com","http://fasciaguide.com","http://incoaching.it","http://kiddomstore.gr","http://macon.gr","http://parousiasi.gr","http://pausit.no","http://qavpodcast.com.au","http://starantzis.com","http://survival.gr","http://tecnorulli.com","http://visaprostudy.com.au","http://youbarber.com","privacy.us.criteo.com"],"blacklistIframeSrc":["facebook.com/","twitter.com/","youtube-nocookie.com/embed/","//vk.com/","//www.vk.com/","linkedin.com/","//www.linkedin.com/","//instagram.com/","//www.instagram.com/","//www.google.com/recaptcha/api2/","//hangouts.google.com/webchat/","//www.google.com/calendar/","//www.google.com/maps/embed","spotify.com/","soundcloud.com/","//player.vimeo.com/","//disqus.com/","//tgwidget.com/","//js.driftt.com/","friends2follow.com","/widget","login","//video.bigmir.net/","blogger.com","//smartlock.google.com/","//keep.google.com/","/web.tolstoycomments.com/","moz-extension://","chrome-extension://","/auth/","//analytics.google.com/","adclarity.com","paddle.com/checkout","hcaptcha.com","recaptcha.net","2captcha.com","accounts.google.com","www.google.com/shopping/customerreviews","buy.tinypass.com","gstatic.com","secureir.ebaystatic.com","docs.google.com","contacts.google.com","github.com","mail.google.com","chat.google.com","audio.xpleer.com","keepa.com","static.xx.fbcdn.net","sas.selleramp.com","1plus1.video","console.googletagservices.com","//lnkd.demdex.net/","//radar.cedexis.com/","//li.protechts.net/","challenges.cloudflare.com/","ogs.google.com"],"whitelistCandidatesUrlKeyWords":["/lynad/","banner","/ad","/webads/","ad-sys.","/?gfe_rd=cr","/a.asp","/about/privacy","/aclk?sa=","/ag/","/clicktracker","/connect","/econda","/go","/javascripts/blogger.js","/js/plusone.js","/linkout","/offers","/pagead/","/plugins","/privacy-policy","/scripts/l.php","/servlet/click/zone?zid=","/simpleads/","/site/catsearch","/tncms/tracking","/tsn","/www/delivery/","/xgde.html","/xiti.asp?s=","/webtracking","javascript:window.parent"],"blacklistIframeId":["twitter-widget-","cello__trello-board__"],"blacklistPublishers":["mail.google.com","mail.yahoo.com","mail.aol.com","outlook.live.com","outlook.office365.com","google.com","docs.google.com","drive.google.com","calendar.google.com","translate.google.com","classroom.google.com","accounts.google.com","meet.google.com","photos.google.com","myaccount.google.com","contacts.google.com","duo.google.com","hangouts.google.com","keep.google.com","jamboard.google.com","earth.google.com","artsandculture.google.com","podcasts.google.com","one.google.com","developers.google.com","fi.google.com","files.google.com","groups.google.com","health.google","pay.google.com","workspace.google.com","shopping.google.com","store.google.com","sites.google.com","stadia.google.com","voice.google.com","steamcommunity.com","store.steampowered.com","fredericksburg-inn.com","truspaceaspire.com","picturecreator9.in","iek-akmi.edu.gr","sbie.edu.gr","mitropolitiko.edu.gr","servergarden.hu","shoemart.gr","biscience.atlassian.net","amazonaws.com","adviewer.adcint.net","github.com","chat.google.com","f95zone.to","pl.xhamster.com","outlook.office.com","developer.mozilla.org","china-tube.site","console.firebase.google.com","zzztube.tv","zz.100pezd.cc","zsher.com","zrelki.link","zorroporn.pro","simplycodes.com","idns889.com","web.whatsapp.com","remotasks.com","safer.fmcsa.dot.gov","pure.myadminvip.com","roblox.com","datafeed365.com","boxbrownie.com","md247.win","agwl4.suksesbogil.com","humanatic.com","agwl4.idnpaito.com","ag.suksesbogil.com","ag.wtgplay.xyz","be.1131gaming.top","bola3prize.blogspot.com","reddypanel.com","pathofexile.com","lakport.utl.gov.in","cabinetsmonster.com","reddybook.blue","bola3prizekedua.blogspot.com","onix6-admin.com","slex.io","onix3-admin.com","99ruby.com","ag.idnpaito.com","evisatraveller.mfa.ir","workforce.woflow.com","alectagroup.com","kixplay-admin.com","agwl6.suksesbogil.com","oregontable.blogspot.com","3m-admin.com","cm.tldcrm.com","3m3-ns2-admin.com","test.wartale.com","agwl5.idnpaito.com","hongkongpools.com","dr2.ad.wtggggg.com","merchant.paydia.id","letskorail.com","manager.allxch.com","3m2-admin.com","kick.com","portal.el.ai","neogaming-admin.com","control.wl1cg.com","medanbarusaham.blogspot.com","88panel.com","admin.goadfgregrer.com","99gaming-admin.com","totoshanghaipools.asia","pasaranbanyak2.blogspot.com","wt.ad.wtggggg.com","1b.giga-admin1.com","xt.com","weex.com","rickyling135.com","upi9.pro","livedraw.ltd","mybca.bca.co.id","qriskilat.com","onix5-admin.com","tr.ad.wtggggg.com","kingkongsahamtoto.blogspot.com","oplbo.com","1b.3m2-admin.com","m.payok.com","usvisascheduling.com","inmate.tdcj.texas.gov","kixplay-ns2-admin.com","admin.ufalove.com","autovix.app","be.myadminmatrix.com","carsarrive.com","deepl.com","togelsumo.com","agwl3.suksesbogil.com","onix7-admin.com","kamubet.kg88.co","safepay.co.in","onix2-admin.com","ag.dewaplay.xyz","metawings-ns2-admin.com","essaywriters.net","1b.onix2-admin.net","3m4-admin.com","onix-ns2-admin.com","pasaranbanyak3.blogspot.com","bestbuy.com","porntrex.com","tiktok.com"],"whitelistRedirectionCode":[".location.replace(\\"javascript:window.goog_content\\")"],"blacklistBannerImgSrc":[".files.wordpress.com/",".outlook.office.net/",".wikimedia.org/",".azureedge.net",".yimg.com/","image.winudf.com/"],"blacklistBannerHref":["//play.google.com/store/apps/","//itunes.apple.com/app/","//www.youtube.com/watch","//zoom.us/","rozetka."],"blacklistKeyWordsInContent":["lima-video"]},"videoValidatorsForHTML":[{"name":"HTML","alias":"YT_HTML_DESKTOP_MASTHEAD_AD","mimePattern":"/html/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/?$/","contentPattern":"/videoMastheadAdV3Renderer/m","reduceSizeFilter":{"reducePattern":"/(\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialData\\\\s*=.*\\\\s*\\\\<\\\\/\\\\s*script\\\\>)/m","active":true,"regResIndexes":[0]}},{"name":"HTML","alias":"YT_HTML_MOBILE_INSCRIPT_AD_PLACEMENTS","mimePattern":"/html/i","domainPattern":"/https?:\\\\/\\\\/m\\\\.youtube\\\\.com/watch\\\\?.+$/","contentPattern":"/\\\\<script.*?\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=\\\\s*(.*(adPlacements|adSlots).*).*[;]\\\\<\\\\/script\\\\>/m"},{"name":"HTML","alias":"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE","mimePattern":"/html/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com/watch\\\\?.+$/","contentPattern":"/\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=\\\\W*\\\\\\"responseContext\\\\\\".*(adPlacements|adSlots).*var\\\\s*meta\\\\s*=\\\\s*document\\\\.createElement\\\\(\'meta\'\\\\)/m","reduceSizeFilter":{"reducePattern":"/({window\\\\.ytplayer\\\\s*=\\\\s*{\\\\s*}\\\\s*;\\\\s*ytcfg\\\\.set\\\\(.*}\\\\);)(?:[\\\\s\\\\S]*)(\\\\<script.{0,200}\\\\>\\\\s*var\\\\s*ytInitialPlayerResponse\\\\s*=.*\\\\s*\\\\<\\\\/\\\\s*script\\\\>)/mg","active":true,"regResIndexes":[1,2]}},{"name":"HTML","alias":"HTML_NHL","mimePattern":"/html/i","contentPattern":"/(\\\\&quot\\\\;ad\\\\&quot\\\\;)\\\\W*?(\\\\&quot\\\\;adTagUrl\\\\&quot\\\\;)/m"},{"name":"HTML","alias":"IAB_HTML","mimePattern":"/html/i","contentPattern":"/VAST|VMAP/m"},{"name":"HTML","alias":"HTML_IFORM","mimePattern":"/html/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?(iform\\\\.dk)\\\\/.*/i"},{"name":"HTML","alias":"HTML_DISCOVERY","mimePattern":"/html/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?discoveryplus\\\\.com\\\\/.*/i","contentPattern":"/<title>.+ VPAID</title>/m"},{"name":"TEXT","alias":"CONNATIX_TEXT","domainPattern":"/https?:\\\\/\\\\/capi\\\\.connatix\\\\.com\\\\/core\\\\/story\\\\?/"},{"name":"TEXT","alias":"SECUREPUBADS_TEXT","mimePattern":"/text/i","domainPattern":"/https?:\\\\/\\\\/securepubads\\\\.g\\\\.doubleclick\\\\.net/","contentPattern":"/VAST/m"},{"name":"HTML","alias":"YT_HTML_MOBILE_MASTHEAD_AD","mimePattern":"/html/i","domainPattern":"/^https:\\\\/\\\\/m\\\\.youtube\\\\.com\\\\/?$/","contentPattern":"/promotedVideoRenderer/"}],"videoValidatorsForJS":[{"name":"JAVASCRIPT","alias":"JS_DAILYMOTION","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?(dailymotion\\\\.com).*?callback=.*/i","contentPattern":"/VAST|VMAP/m"},{"name":"JAVASCRIPT","alias":"JS_FREEWHEEL","mimePattern":"/javascript/i","contentPattern":"/^tv\\\\.freewheel\\\\.SDK\\\\.\\\\_instanceQueue.{0,100}requestComplete\\\\(\\\\{/"},{"name":"JAVASCRIPT","alias":"JS_INNOVID","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*innovid\\\\.com/","contentPattern":"/SCOPE.baseData.app_data/"},{"name":"JAVASCRIPT","alias":"JS_VIDIBLE","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*vidible\\\\.tv/","contentPattern":"/vpaidAd.initAd = function/"},{"name":"JAVASCRIPT","alias":"JAVASCRIPT_VOX","domainPattern":"/https?:\\\\/\\\\/hymnal-prod\\\\.vox-cdn\\\\.com\\\\/ads/","contentPattern":"/window\\\\.hymnalAdConfig/"},{"name":"JAVASCRIPT","alias":"JAVASCRIPT_TABOOLA","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/trc\\\\.taboola\\\\.com/","contentPattern":"/TRC\\\\.callbacks\\\\.recommendations_1|trc_json_response/"},{"name":"JAVASCRIPT","alias":"ADNAMI_JS","mimePattern":"/text\\\\/javascript/i","domainPattern":"/https?:\\\\/\\\\/directive\\\\.adnami\\\\.io/"},{"name":"JSON","alias":"JSON_NBC_SSAI","mimePattern":"/json/i","domainPattern":"/https?:\\\\/\\\\/.{0,10}?\\\\.ssai-oneapp\\\\.nbcuni\\\\.com\\\\/prod\\\\/nbc\\\\/.*?master_cmaf\\\\.mpd\\\\?.*/i"},{"name":"JAVASCRIPT","alias":"BANNERFLOW_JS","mimePattern":"/application\\\\/javascript/i","domainPattern":"/https?:\\\\/\\\\/c\\\\.bannerflow\\\\.net\\\\/accounts\\\\/.+?\\\\/data\\\\..+?\\\\.js/"},{"name":"JAVASCRIPT","alias":"JAVASCRIPT_OUTBRAINS","mimePattern":"/javascript/i","domainPattern":"/https?:\\\\/\\\\/mv\\\\.outbrain\\\\.com\\\\/Multivac\\\\/api\\\\/get\\\\?/","contentPattern":"/returnedVacData|returnedHtmlAndVacData/"}],"videoValidatorsForXHR":[{"name":"XML","alias":"XML_FREEWHEEL","mimePattern":"/xml/i","contentPattern":"/adResponse/m"},{"name":"XML","alias":"IAB_XML","mimePattern":"/xml/i","contentPattern":"/VAST|VMAP/m"},{"name":"XML","alias":"XML_INNOVID","mimePattern":"/xml/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*innovid\\\\.com/","contentPattern":"/extension-config-url|placement-config/"},{"name":"JSON","alias":"JSON_UPLYNK","mimePattern":"/json/i","contentPattern":"/(\\"is_ad\\"\\\\W*?1)((.|\\\\n|\\\\t|\\\\r)*?)(\\"ad_data\\")/m","domainPattern":"/https?://.{0,30}?(uplynk\\\\.com)\\\\/.*/i"},{"name":"JSON","alias":"YT_JSON_NEXTPAGE","mimePattern":"/json/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/watch\\\\?v=.+$/"},{"name":"JSON","alias":"YT_JSON_NEXTPAGE_PLAYER","mimePattern":"/json/i","domainPattern":"/^https?:\\\\/\\\\/www\\\\.youtube\\\\.com\\\\/youtubei\\\\/v1\\\\/player\\\\?(key=|)/","contentPattern":"/(adPlacements|adSlots)/"},{"name":"JSON","alias":"YT_MIDROLL_INFO","mimePattern":"/xml|json/i","domainPattern":"/(https?:\\\\/\\\\/((www|m)\\\\.){0,1}(youtube|youtube-nocookie)\\\\.com\\\\/get_midroll_info)|(https?:\\\\/\\\\/((www|m)\\\\.){0,1}youtube\\\\.com\\\\/youtubei\\\\/v1\\\\/player\\\\/ad_break([?]key=|))/"},{"name":"JSON","alias":"JSON_NHL","mimePattern":"/json/i","contentPattern":"/flashAdTag|html5AdTag/m"},{"name":"JSON","alias":"JSON_ROKU","mimePattern":"/json/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?(therokuchannel.roku.com\\\\/api\\\\/v.\\\\/(playback|init)).*/i"},{"name":"JSON","alias":"IAB_JSON","mimePattern":"/json/i","domainPattern":"/^((?!tiktok).)*$/","contentPattern":"/VAST|VMAP/m"},{"name":"JSON","alias":"JSON_DOUBLECLICK_ID","mimePattern":"/json/i","domainPattern":"/https:\\\\/\\\\/googleads\\\\.g\\\\.doubleclick\\\\.net\\\\/pagead\\\\/id/"},{"name":"JSON","alias":"JSON_MEDIASET_ES","mimePattern":"/json/i","contentPattern":"/\\\\W*dfp\\\\W*adTagUrl.*/m","domainPattern":"/https?:\\\\/\\\\/.{0,10}?(mediaset\\\\.es)\\\\/.*/i"},{"name":"JSON","alias":"JSON_SUNMEDIA_SMSDK","mimePattern":"/json/i","contentPattern":"/^\\\\W*(\\"DESKTOP\\"|\\"MOBILE\\").*/m","domainPattern":"/https?:\\\\/\\\\/.{0,10}?(sunmedia\\\\.tv)\\\\/SMSdk\\\\/.*?json/i"},{"name":"JSON","alias":"JSON_DISCOVERY","mimePattern":"/json/i","domainPattern":"/https?:\\\\/\\\\/.{0,30}?discoveryplus\\\\.com\\\\/.*/i","contentPattern":"/\\"ads\\"/m"},{"name":"JSON","alias":"JSON_VIDEOPLAZA","mimePattern":"/json/i","domainPattern":"/https?:\\\\/\\\\/[^\\\\/]*videoplaza\\\\.tv/","contentPattern":"/Videoplaza/"},{"name":"JSONP","alias":"CONNATIX_JSONP","domainPattern":"/https?:\\\\/\\\\/core\\\\.connatix\\\\.com/","contentPattern":"/connatixplayer/"},{"name":"JSON","alias":"YT_FORCING_KEY","mimePattern":"/json/i","domainPattern":"/https:\\\\/\\\\/(www|m)\\\\.youtube\\\\.com\\\\/youtubei\\\\/v1\\\\/player[?]prettyPrint=false/"}],"facebookConfig":{"FB_CONTENT":"div[id^=\\"mount_\\"]","VIDEO_URL_BY_PATTERN":{"PATTERN":"https://www.facebook.com/plugins/video.php?href=https://www.facebook.com/[ADVERTISER_NAME]/videos/[VIDEO_ID]/&show_text=false&t=0","REGEX_ADVERTISER_NAME":"pg/([^&/]+)","REGEX_VIDEO_ID":"[?&]v=([^&]+).*$","REGEX_VIDEO_SRC":"(?:(\\"hd\\\\_src\\\\_no\\\\_ratelimit\\"\\\\:( |)\\"|\\"hd\\\\_src\\"\\\\:( |)\\"|\\"sd\\\\_src\\\\_no\\\\_ratelimit\\"\\\\:( |)\\"))(.[^,\\"]+)","MAP_REPLACE_UNICODE":[["u0025","%"]]},"TAGS_FOR_LOADING_CHECK":"img, video, svg","FEED_PAGE":{"MIN_IMGS_SPACE_PERCENTAGE":6,"INVALID_URL_PATHS":["/marketplace","/watch"],"FEED_QUERIES":["div[role=\\"feed\\"] > div:not([class])","div[role=\\"main\\"] div>span>span>span>span","div[role=\\"main\\"] span[id=\\"ssrb_feed_start\\"]","div[role=\\"main\\"] h3 ~ div:not([class]):not([aria-hidden]), div[role=\\"main\\"] h2 ~ div:not([class]):not([aria-hidden])"],"POSTS_QUERY":"div[role=\\"feed\\"] > div, div[role=\\"feed\\"] > span > div","MIN_HEIGHT":1400,"COVER_IMAGE_QUERY":"div[data-instancekey] img","DETECTOR_OPTIONS":{"detectorName":"FacebookAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"attributeWithSponsorAlly":"aria-label","attributeWithRefOnSponsorAlly":"aria-labelledby","urlInvalidKeyWord":["/marketplace","/watch"]}},"FEED_WATCH_PAGE":{"MIN_IMGS_SPACE_PERCENTAGE":6,"FEED_WATCH_QUERIES":["div[role=\\"main\\"] div[class] > div[class] > div:not([class]) > div:not([class]) > div[class] > div[class] > div:not([class])"],"COVER_IMAGE_QUERY":"div > img[referrerpolicy]","DETECTOR_OPTIONS":{"detectorName":"FacebookAds:FeedWatch","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"attributeWithSponsorAlly":"aria-label","urlValidationByKeyWord":"/watch"}},"SPONSORED_TEXTS":["Sponsored","","","","Sponzorovno","May Sponsor","Sponsoris","Gesponsert","","Bersponsor","Patrocinado","Publicidad","","Sponsorlu","c ti tr","","La maalgeliyey","Geborg","Sponsor dstkli","Ditaja","Disponsori","Sponzorirano","Paeroniet","Patrocinat","Spunsurizatu","Noddwyd","Sponsoreret","Sponsitud","posuodS","Reklamo","Babestua","Commandit","Sponsore","Yoanaama","Stula","Urraithe","Oepatrosinapyre","Daukar Nauyi","Plaeni oglas","Icyamamaza ndasukirwaho","Sponsorizzato","Imedhaminiwa","Peye","Sponsorkir","Apmaksta reklma","Remiama","Hirdets","Misy Mpiantoka","Sponsorjat","Gesponsord","Sponset","Sponsa","Reklama","Sponsorowane","Sponsorizat","Patronadu de:","Zvabhadharirwa","Sponsorizuar","Sponzorovan","Sponzorirano","Sponsoroitu","Sponsrad","Sponsord","Kosta","Szpnzorowane","","","",""," ","",""," ","","","","  "," ",""," "," ",""," ","","",""," ",""," ","","","","",""," ","","","","Paid for by","Paid Partnership","Sponsorise","","","","Adverteerder"],"POSSIBLE_SPONSORED_TEXT_QUERIES":["svg>use[*|href]:not([href])","a[role=\\"link\\"]","a[href^=\\"/ads/about\\"]","div[role=\\"button\\"]:not([aria-haspopup=\\"menu\\"])","span:not([class]) span[aria-labelledby] > canvas"],"PATH_TO_CANVAS_TEXT":["return","memoizedProps","text"],"QUERY_GET_SPONSORED_CANVAS":"canvas:not([style*=\\"visibility: hidden\\"])","XLING_HREF_ATTRIBUTE_FOR_SVG":"xlink:href","VISIBLE_SPANS_TEXT":"span,div,tspan","ABOUT_SECTION_CONFIG":{"LOAD_ABOUT_PAGE":true,"QUERY_ABOUT_PAGE_HREF":"object[type=\'nested/pressable\'] a[href], h4 a[href]","HREF_PREFIX":"https://www.facebook.com/","HREF_PREFIX_WATCH":"a[href^=\\"/watch/\\"]","HREF_TEMPLATE_WATCH":"https://www.facebook.com/watch/","QUERY_GET_USER_ID_FROM_HREF":"\\\\?id=(.[^&]*)","ABOUT_PAGE_TEMPLATE":"https://www.facebook.com/pg/%1/about/","MAX_DISTANCE_FROM_POST_TOP":60,"ABOUT_PAGE_BAD_WORDS_MATCHES":["facebook.com/stories/","//l.facebook.com/l.php?"],"CONTENT_CHECK_STRING":"(page_about_fields|about_app_sections|delegate_page_id)","HEADERS":{"accept":"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9"},"ADVERTISER_LINK_INSTREAM_QUERIES":["\\"website\\":\\".[^\\"]*\\"","\\"text\\":\\".[^}]*\\\\}\\\\,\\"field\\\\_type\\"\\\\:\\"website\\"",",\\"text\\":\\"Website\\".[^\\"]*\\"link_url\\":\\".[^\\"]*"],"CHROME_SECTIONS":{"SECTION_ZONE_DETECTOR":"</body></html>","CONTENT_CHECK_STRING":">About</div>","SECTION_START":"bigPipe.beforePageletArrive(\\"PagesProfileAboutInfoPagelet_","SECTION_END":"function(bigPipe){bigPipe.beforePageletArrive"},"FIREFOX_SECTIONS":{"CONTENT_CHECK_STRING":">About</div>","SECTION_START":"bigPipe.beforePageletArrive(\\"PagesProfileAboutInfoPagelet_","SECTION_END":"function(bigPipe){bigPipe.beforePageletArrive"}},"MARKETPLACE_ADS_CONFIG":{"CONTAINER":"div[role=\\"main\\"][aria-label], div[role=\\"main\\"][aria-labelledby]","CARDS":"div:not([class]) ~ div[class] > span:not([id]):not([aria-hidden]):nth-child(1), div[class] > span:not([class]):not([id]):not([aria-hidden])","SPONSOR_BLOCKS":"a[href^=\\"/ads/about\\"], a[href^=\\"#?\\"]","SPONSORED_HREF_CHECK":"a:not([href*=\\"marketplace\\"])","SATELITE_SPONSORED_STRING":"a[role=link][href*=\\"ads/about\\"]","MIN_IMGS_SPACE_PERCENTAGE":15,"PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH":["parentElement","parentElement","previousElementSibling","querySelector,a[href^=\\"/ads/about\\"]"],"COVER_IMAGE_QUERY":"div[data-instancekey] img[alt=\'\']","DETECTOR_OPTIONS":{"detectorName":"FacebookAds:Marketplace","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":300,"urlValidationByKeyWord":"/marketplace"}},"RIGHT_COLUMN_ADS_CONFIG":{"CONTAINER":"div[role=\\"complementary\\"]","CARDS":"*[role=\\"complementary\\"] div:not([class]) > div:not([class]) > div:not([class]):not([data-visualcompletion]), div:not([class]):not([id]) > div:not([class]):not([id]) > div[data-visualcompletion] > div[class]","SATELITE_SPONSORED_STRING":"h3[dir=\\"auto\\"] > div, span h3[dir=\\"auto\\"] > span > span","IF_AD":"a","MIN_IMGS_SPACE_PERCENTAGE":10,"IMPOSSIBLE_HREF_REG_FOR_AD":"friends/requests","DETECTOR_OPTIONS":{"detectorName":"FacebookAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"attributeWithSponsorAlly":"aria-label","urlInvalidKeyWord":["/watch","/marketplace"]}},"videoDetectorConfigNew":{"PARSERS":[{"TYPE":"XML_HTTP_REQUEST","VIDEO_ID":"\\"(videoId|video_id)\\":(\\\\s|)\\"(?<videoId>.[^\\"]*)","VIDEO_HD_URL":"\\"(browser_native_sd_url|playable_url|progressive_url)\\":(\\\\s|)\\"(?<video_url>.[^\\"]*)","VIDEO_SD_URL":null,"VIDEO_AUDIO_URL":"\\"audio\\":(\\\\s|)\\\\[\\\\{\\"url\\":(\\\\s|)\\"(.[^\\"]*)","THUMBNAIL":"\\"thumbnailImage\\":(\\\\s|){\\"uri\\":(\\\\s|)\\"(?<thumbnailImage>.[^\\"]*)","LINK_DISPLAY":"\\"link_display\\":(\\\\s|)\\"(?<link_display>.[^\\"]*)","CHECKER":[]},{"TYPE":"INSTREAM_CONFIG","PATH_NODES":["data","viewer","instream_video_ads","edges"],"PATH_ALL_VIDEO":["extensions","all_video_dash_prefetch_representations",["video_dash_prefetch_representations","representations"]],"PATH_VIDEO_ID":["node","attachments",0,"target","id"],"PATH_TARGET_URL":["node","attachments",0,"action_links"],"PATH_USER_ID":["node","actors",0,"id"],"ALIAS":"JSON_FB","CHECKER":["browser_native_hd_url","browser_native_sd_url","all_video_dash_prefetch_representations"]},{"TYPE":"SCRIPT","VIDEO_ID":"\\"(videoId|video_id)\\":(\\\\s|)\\"(?<videoId>.[^\\"]*)","VIDEO_HD_URL":"\\"(browser_native_sd_url|browser_native_hd_url|playable_url|progressive_url)\\":((\\\\s|)\\"(?<video_url>.[^\\"]*))","VIDEO_SD_URL":null,"VIDEO_REPRESENTATION_ID":"representation_id\\":\\"(?<videoResolutionId>\\\\w*v)","VIDEO_AUDIO_URL":"\\"audio\\":(\\\\s|)\\\\[\\\\{\\"url\\":(\\\\s|)\\"(.[^\\"]*)","AUDIO_REPRESENTATION_ID":"representation_id\\":\\"(?<audioResolutionId>\\\\w*a)","THUMBNAIL":"\\"preferred_thumbnail\\":(\\\\s|)\\\\{\\"image\\":(\\\\s|)\\\\{\\"uri\\":(\\\\s|)\\"(?<thumbnailImage>.[^\\"]*)","LINK_DISPLAY":"\\"link_display\\":(\\\\s|)\\"(?<link_display>.[^\\"]*)","CHECKER":["videoId","video_id"]},{"TYPE":"MARKETPLACE_VIDEO_AD","PATH_AUDIO_URL":[["extensions","prefetch_dash_segments",0,"audio",0,"url"],["extensions","all_video_dash_prefetch_representations",0,"representations",6,"base_url"]],"PATH_VIDEO_URL":[["data","node","story","attachments",0,"media","browser_native_hd_url%%%browser_native_sd_url"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","browser_native_hd_url%%%browser_native_sd_url"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","videoDeliveryLegacyFields","browser_native_hd_url%%%browser_native_sd_url"],["data","node","story","attachments",0,"media","videoDeliveryLegacyFields","browser_native_hd_url%%%browser_native_sd_url"],["data","node","story","attachments",0,"media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"]],"PATH_VIDEO_ID":[["data","node","story","attachments",0,"media","id"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","id"]],"PATH_THUMBNAIL":[["data","node","story","attachments",0,"thumbnailImage","uri"],["data","marketplace_home_feed","edges",0,"node","story","attachments",0,"media","thumbnailImage","uri"]],"PATH_LOGO":[["data","node","story","actors",0,"logo","uri"],["data","marketplace_home_feed","edges",0,"node","story","actors",0,"logo","uri"]],"PATH_NAME":[["data","node","story","actors",0,"name"],["data","marketplace_home_feed","edges",0,"node","story","actors",0,"name"]],"PATH_AUDIO_REPRESENTATION_ID":[["extensions","all_video_dash_prefetch_representations","*","representations",-1,"representation_id"]],"PATH_VIDEO_REPRESENTATION_ID":[["extensions","all_video_dash_prefetch_representations","*","representations",-2,"representation_id"]],"CHECKER":["browser_native_hd_url","browser_native_sd_url","MarketplaceFeedAdStory","progressive_url"]},{"TYPE":"FEED_VIDEO_AD","PATH_VIDEO_URL":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","browser_native_hd_url%%%browser_native_sd_url"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","browser_native_hd_url%%%browser_native_sd_url"],["data","node","feed_unit","attachments",0,"media","browser_native_hd_url%%%browser_native_sd_url"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","browser_native_hd_url%%%browser_native_sd_url"],["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoDeliveryLegacyFields","browser_native_hd_url%%%browser_native_sd_url"],["data","node","feed_unit","attachments",0,"media","videoDeliveryLegacyFields","browser_native_hd_url%%%browser_native_sd_url"],["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"],["data","node","feed_unit","attachments",0,"media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"],["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoDeliveryResponseFragment","videoDeliveryResponseResult","progressive_urls","1%%%0","progressive_url"]],"PATH_VIDEO_ID":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoId"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoId"],["data","node","feed_unit","attachments",0,"media","videoId"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","videoId"],["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","videoId"]],"PATH_THUMBNAIL":[["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","preferred_thumbnail","image","uri"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","attachments",0,"styles","attachment","media","preferred_thumbnail","image","uri"],["data","node","feed_unit","attachments",0,"media","preferred_thumbnail","image","uri"],["data","node","section_components","edges",0,"node","feed_unit","attachments",0,"media","preferred_thumbnail","image","uri"],["data","node","comet_sections","content","story","attachments",0,"styles","attachment","media","preferred_thumbnail","image","uri"]],"PATH_USER_NAME":[["data","node","comet_sections","content","story","actors",0,"name"],["data","viewer","news_feed","edges",0,"node","comet_sections","content","story","actors",0,"name"],["data","node","feed_unit","actors",0,"name"],["data","node","section_components","edges",0,"node","feed_unit","actors",0,"name"],["data","node","comet_sections","content","story","actors",0,"name"]],"PATH_AUDIO_REPRESENTATION_ID":[["extensions","all_video_dash_prefetch_representations","*","representations",-1,"representation_id"]],"PATH_VIDEO_REPRESENTATION_ID":[["extensions","all_video_dash_prefetch_representations","*","representations",-2,"representation_id"]],"CHECKER":["browser_native_hd_url","browser_native_sd_url","progressive_url"]}],"PARSER_CONFIG":{"LISTEN_HTTP_REQUESTS":true,"SCRIPT":{"USE":true,"SEPARATOR":"\\"category\\"","INTERVAL_MS":5000},"XML_HTTP_REQUEST":{"USE":true,"SEPARATOR":"\\"category\\"","MATCH_URLS":["/api/graphql/"]},"FEED_VIDEO_AD":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["CometVideoHomeFeedSectionPaginationQuery","CometNewsFeedPaginationQuery","CometModernHomeFeedQuery","CometHovercardQueryRendererQuery"]}},"INSTREAM_CONFIG":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["useInstreamAdsFetcherQuery"]},"FILTER_DATA":false},"MARKETPLACE_VIDEO_AD":{"USE":true,"SEPARATOR":null,"HEADERS":{"x-fb-friendly-name":["MarketplaceCometBrowseFeedLightPaginationQuery","MarketplaceCometBrowseFeedLightContainerQuery"]}}},"MATCH_URLS":["/api/graphql/"],"MATCH_HEADERS":{"x-fb-friendly-name":["useInstreamAdsFetcherQuery","MarketplaceCometBrowseFeedLightPaginationQuery","MarketplaceCometBrowseFeedLightContainerQuery","CometNewsFeedPaginationQuery","CometVideoHomeFeedSectionPaginationQuery","CometModernHomeFeedQuery","CometHovercardQueryRendererQuery"]}},"statistic":{"sendNotFullFeedVideoAds":false,"sendFakeAdFromNewDesign":false}},"twitterConfig":{"PROMOTED_ALIASES":["","Promoted","","","","Sustatua","","c qung b","Patrocinat","Promoveret","Uitgelicht","Mainostettu","Sponsoris","Patrocinado","Gesponsert",""," ","","Ajnlott","Dipromosikan","Urraithe","Sponsorizzato","",""," ","Dipromosikan","","Promotert","","Promowane","Promovido","Promovat","","","Sponzorovan","Promocionado","Sponsrad","","","Sponsorlu"," ","c qung b","Ad"],"COLLECT_ALTERNATIVE_HTML_CONTENT":false,"COLLECT_CAROUSEL_DATA":false,"FEED":{"CONTAINER":"section[role=\\"region\\"], section[role=\\"region\\"] div[aria-label] > div:not([class])","TWEETS_SELECTOR":"*[data-testid=\\"tweet\\"]","MIN_IMGS_SPACE_PERCENTAGE":10,"WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE":1,"WHO_TO_FOLLOW_SELECTOR":"*[data-testid=\\"primaryColumn\\"]:not([bis_size]) *[data-testid=\\"UserCell\\"]:not([bis_size])","CHECK_IF_CAROUSEL_QUERY":"div:not([data-testid=\\"cardPoll\\"]) > ul[role=\\"list\\"] > li[role=\\"listitem\\"]","TAGS_FOR_VIDEO_TWEET_CHECK":"div[role=\\"button\\"][aria-label=\\"Play\\"]>div>svg, video[aria-label], button[data-testid=\\"playButton\\"]","DETECTOR_OPTIONS":{"detectorName":"TwitterAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"RIGHT_COLUMN":{"CONTAINER":"aside[role=\\"complementary\\"]","WHO_TO_FOLLOW_SELECTOR":"*[data-testid=\\"sidebarColumn\\"]:not([bis_size]) *[role=\\"complementary\\"]:not([bis_size]) *[data-testid=\\"UserCell\\"]:not([bis_size])","MIN_IMGS_SPACE_PERCENTAGE":5,"DETECTOR_OPTIONS":{"detectorName":"TwitterAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"PROMOTED_SELECTOR":"div > svg ~ div > span, div:not([data-testid=\\"User-Name\\"]):not([data-testid=\\"tweetText\\"]) > div > svg ~ div[dir] > span, div:not([data-testid=\\"User-Name\\"]):not([data-testid=\\"tweetText\\"]) div > div[dir][style] > span","PROGRESS_SELECTOR":"div[role=\\"progressbar\\"]","LOAD_USER_DATA":{"AUTH_BEARER":"Bearer AAAAAAAAAAAAAAAAAAAAANRILgAAAAAAnNwIzUejRCOuH5E6I8xnZz4puTs%3D1Zv7ttfk8LF81IUq16cHjhLTvJu4FA33AGWWjCpTnA","API_CALL_SCREEN_NAME":"https://api.${DOMAIN_NAME}.com/graphql/E4iSsd6gypGFWx2eUhSC1g/UserByScreenName?variables=%7B%22screen_name%22%3A%22${%1}%22%2C%22withHighlightedLabel%22%3Atrue%7D","API_CALL_GUEST":"https://api.${DOMAIN_NAME}.com/1.1/guest/activate.json","ENABLED":true},"TAGS_FOR_LOADING_CHECK":"img, video","MIN_AMOUNT_OF_WORDS_FOR_MATCHING":3,"MIN_MATCHING_WORD_LENGTH":3,"MAX_CANDIDATES_TO_SEND":3,"MAX_VIDEO_DATA_KEEP_IN_STORAGE":200,"TRAFFIC_DETECTOR":{"parsers":[{"watch":"https://(api\\\\.|)(twitter|x).com/(i/api/|)2/timeline/home.json","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"query":"globalObjects.tweets[* #select(id_str as id, full_text)].card.binding_values.unified_card.string_value","queries":["globalObjects.tweets[* #select(id_str as id, full_text)].card.binding_values.unified_card.string_value","globalObjects.tweets[* #select(id_str as id, full_text)].extended_entities.media"],"prop":"string_value"}},{"name":"arrToVal","arguments":{"prop":"string_value"}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":null},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://(twitter|x)\\\\.com/i/api/graphql/.[^/]*/HomeLatestTimeline","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.legacy.extended_entities.media"],"prop":"binding_values","props":[["binding_values",["unified_card"]],["media",["video_info","type"]]]}},{"name":"arrToVal","arguments":{"prop":"string_value","total_prop":"string_value","props":[["binding_values",["string_value"]],["entries",["full_text","id"]],["media",["video_info","type"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://(twitter|x)\\\\.com/i/api/graphql/.[^/]*/(HomeTimeline|UserTweets|TweetDetail)","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.card.legacy.binding_values","data.user.result.timeline_v2.timeline.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.user.result.timeline_v2.timeline.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.threaded_conversation_with_injections_v2.instructions[*].entries[*].content.items[* #select(item.itemContent.tweet_results.result.tweet.rest_id as id, item.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].item.itemContent.tweet_results.result.tweet.legacy.extended_entities.media","data.threaded_conversation_with_injections_v2.instructions[*].entries[*].content.items[* #select(item.itemContent.tweet_results.result.rest_id as id, item.itemContent.tweet_results.result.legacy.full_text as full_text)].item.itemContent.tweet_results.result.legacy.extended_entities.media","data.threaded_conversation_with_injections_v2.instructions[*].entries[*].content.items[* #select(item.itemContent.tweet_results.result.rest_id as id, item.itemContent.tweet_results.result.legacy.full_text as full_text)].item.itemContent.tweet_results.result.card.legacy.binding_values","data.threaded_conversation_with_injections_v2.instructions[*].entries[*].content.items[* #select(item.itemContent.tweet_results.result.rest_id as id, item.itemContent.tweet_results.result.legacy.full_text as full_text)].item.itemContent.tweet_results.result.card.legacy.binding_values"],"prop":"binding_values","props":[["binding_values",["unified_card"]],["media",["video_info","type"]]]}},{"name":"arrToVal","arguments":{"prop":"string_value","props":[["binding_values",["string_value"]],["entries",["full_text","id"]],["items",["full_text","id"]],["media",["video_info","type"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://api\\\\.(twitter|x)\\\\.com/graphql/.[^/]*/HomeTimeline","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.legacy.extended_entities.media","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values"],"props":[["media",["type","video_info"]],["binding_values",["unified_card"]]]}},{"name":"arrToVal","arguments":{"props":[["media",["type","video_info"]],["entries",["full_text","id"]],["binding_values",["string_value"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","text":"video_website","types":["video_website","video","animated_gif"],"props":["string_value","video_info"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapVideoData","arguments":{"props":["full_text","id"]}},{"name":"forEach","arguments":{"pipe":"sendVideoData"}}]},{"watch":"https?://(twitter|x)\\\\.com/i/api/graphql/.[^/]*/(HomeTimeline|UserTweets|TweetDetail)","pipes":[{"name":"parseJSON","arguments":null},{"name":"jsonQuery","arguments":{"queries":["data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.rest_id as id, content.itemContent.tweet_results.result.legacy.full_text as full_text)].content.itemContent.tweet_results.result.card.legacy.binding_values","data.home.home_timeline_urt.instructions[*].entries[* #select(content.itemContent.tweet_results.result.tweet.rest_id as id, content.itemContent.tweet_results.result.tweet.legacy.full_text as full_text)].content.itemContent.tweet_results.result.tweet.card.legacy.binding_values"],"props":[["binding_values",["unified_card"]]]}},{"name":"arrToVal","arguments":{"props":[["entries",["full_text","id"]],["items",["full_text","id"]],["binding_values",["string_value"]]]}},{"name":"filterContains","arguments":{"prop":"string_value","types":["image_carousel_website","swipeable","image_multi_dest_carousel_website"],"props":["string_value"]}},{"name":"mapParseJsonToObj","arguments":{"prop":"string_value"}},{"name":"mapCarouselData","arguments":{"props":["full_text","id",[["string_value","media_entities","*","media_url_https"]]],"types":["image_carousel_website","swipeable","image_multi_dest_carousel_website"]}},{"name":"forEach","arguments":{"pipe":"sendCarouselData"}}]}]}},"redditConfig":{"PROMOTED_ALIASES":["anuncio","advertisement","werbung","publicit","pubblicit","anncio","publicidade","patrocinado","promoted","gesponsort","promocionado","promue","promozione","sponsoris","gesponsert"],"FEED":{"IMG_SPACE_PERCENTAGE":30,"PROMOTED_SELECTOR":"span:not([class]):not([id]), faceplate-hovercard[data-id=\\"user-hover-card\\"] ~ span ~ span, faceplate-hovercard[data-id=\\"user-hover-card\\"] ~ span ~ span ~ span, div[slot] shreddit-dynamic-ad-link > span","QUERIES":["#AppRouter-main-content div:not([class]) div[tabindex]:not([class]) ~ div[class] ~ div","main > div:not([class]) faceplate-batch","main > div","div.main > div:not([class])","main shreddit-feed"],"SECONDARY_CHECK_QUERY":"faceplate-batch","QUERY_TO_EXCLUDE":"input[name=\\"createPost\\"], button[role=\\"menuitem\\"], faceplate-batch, shreddit-feed, shreddit-feed-error-banner","QUERY_POSTS":"main shreddit-ad-post","MAX_CHILD_HEIGHT":1000,"INVALID_URL_PATHS":["/comments"],"DETECTOR_OPTIONS":{"detectorName":"RedditAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"COMMENT_PAGE":{"IMG_SPACE_PERCENTAGE":3,"MIN_HEIGHT":500,"PROMOTED_SELECTOR":"span:not([class]):not([id]), a > span ~ span ~ div, shreddit-dynamic-ad-link > span ~ span ~ div, shreddit-dynamic-ad-link > span","QUERIES":["div[tabindex=\\"-1\\"] > div[class] > span:not([class]) ~ div ~ div[tabindex] ~ div","div.main","div[id=\\"overlayScrollContainer\\"] div[class]:not([id]):not([data-testid=\\"frontpage-sidebar\\"]):not([data-testid=\\"subreddit-sidebar\\"])","div[class]:not([id]):not([data-testid=\\"frontpage-sidebar\\"]):not([data-testid=\\"subreddit-sidebar\\"]):not([role=\\"menu\\"]) > div[tabindex] ~ div[class]","main#main-content, main.main"],"TOP_DISTANCE":55,"TEXT_FROM_HREF":"/comments/","QUERY_IS_POPUP":"div[id=\\"overlayScrollContainer\\"], div#shreddit-media-lightbox","QUERY_TO_EXCLUDE":"input[name=\\"createPost\\"], button[role=\\"menuitem\\"], shreddit-feed, shreddit-feed-error-banner","QUERY_AD_INSIDE_COMMENT_TREE":"shreddit-comment-tree-ad > shreddit-comments-page-ad","DETECTOR_OPTIONS":{"detectorName":"RedditAds:CommentPage","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/comments","urlInvalidKeyWord":["#lightbox"]}},"RIGHT_COLUMN":{"MIN_HEIGHT":500,"IMG_SPACE_PERCENTAGE":7,"PATH_WITH_AD_URL":"^https?\\\\://gateway\\\\.reddit\\\\.com/desktopapi/v1/sidebar_insertion","PROMOTED_SELECTOR":"div[data-before-content], span:not([class]):not([id]), shreddit-sidebar-ad > div[slot=\\"promoted-label\\"] > span","QUERIES":["div[data-testid=\\"frontpage-sidebar\\"], div[data-testid=\\"subreddit-sidebar\\"], div[class*=main] ~ div > pdp-right-rail > faceplate-tabpanel faceplate-tracker > ul","div#right-sidebar-container faceplate-partial","div#right-sidebar-container > div, div#right-sidebar-container faceplate-partial aside > div, div#right-sidebar-container aside"],"DETECTOR_OPTIONS":{"detectorName":"RedditAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"NECESSARY_STYLES":{"BY_DATA_ATTRIBUTE":[{"KEY":"href","ALL_STYLES_FROM":["chunkCSS/reddit-components-LargePost.","chunkCSS/Reddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-components-LargePost~reddi~","chunkCSS/Reddit~StandalonePostPage~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-compone~","chunkCSS/ChatPost~CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~","chunkCSS/CollectionCommentsPage~CommentsPage~ModerationPages~ProfileComments~ProfileOverview~ProfilePrivate~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~","chunkCSS/CollectionCommentsPage~CommentsPage~ProfileComments~ProfileOverview~ProfilePrivate~StandalonePostPag~"],"FEED_PAGE":["chunkCSS/Governance~Reddit~Subreddit~reddit-components-ClassicPost~reddit-components-CompactPost~reddit-compo~","chunkCSS/CollectionCommentsPage~CommentsPage~ModerationPages~PostCreation~ProfileComments~ProfileOverview~","chunkCSS/CollectionCommentsPage~CommentsPage~ProfileComments~ProfileOverview~ProfilePrivate~RpanListingUnit","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~Frontpage~GovernanceReleaseNotesModal~ModListing~","chunkCSS/CollectionCommentsPage~CommentsPage~ModQueuePages~ModerationPages~PostCreation~ProfileComments~Profi~","chunkCSS/CollectionCommentsPage~CommentsPage~CountryPage~GovernanceReleaseNotesModal~ModerationPages~","chunkCSS/CollectionCommentsPage~CommentsPage~EconTopAwardersModal~ModQueuePages~ModerationPages~PostCreation~~","chunkCSS/Governance~ModListing~Reddit"],"COMMENT_PAGE":["chunkCSS/Governance~Reddit~Subreddit","chunkCSS/CommentsPage"]}],"BY_QUERIES_RULES":["\\\\@font-face( |)\\\\{.[^\\\\}]*\\\\}","\\\\.icon\\\\-(upvote|downvote|comment|award|share|save)\\\\:before( |)\\\\{.[^}]*\\\\}","\\\\.icon\\\\:before( |)\\\\{.[^}]*\\\\}","\\\\.icon\\\\..[^{]*( |)\\\\{.[^}]*\\\\}"],"BY_CLASS_NAME":[{"CLASS_NAME_CHILD":".icon-save","STYLES":"{-ms-flex-align: center;align-items: center;display: -ms-flexbox;display: flex;-ms-flex-direction: row;flex-direction: row;text-align: left;width: 100%}","DEEP_LEVEL":"2","INDEX_OF_CLASS":0},{"CLASS_NAME_CHILD":".icon-save","STYLES":"{margin-right: 6px;}","DEEP_LEVEL":"1","INDEX_OF_CLASS":0}],"BY_TAG_NAME":[{"TAG_NAME":"link","ATTRIBUTE_NAME":"href","ATTRIBUTE_REGEX_VALUE":"^https?\\\\://.*\\\\.css$"}]},"IS_ACTIVE_GET_SLIDES_SRC":true,"CAROUSEL_BUTTON_NEXT":"a[title=\\"Next\\"]","CAROUSEL_BUTTON_PREVIUOS":"a:not([title=\\"Next\\"])","PROGRESS_SELECTOR":"img[src=\\"https://www.redditstatic.com/desktop2x/img/loading.gif\\"]","QUERY_CHECK_READY_AD_CELLS":"a[data-testid=\\"post_author_link\\"], div[data-before-content], div[data-adclicklocation=\\"top_bar\\"] img, faceplate-img, a[rpl] > img, shreddit-dynamic-ad-link > img, a.advertiser-name span img","TAGS_FOR_LOADING_CHECK":"img, video, img[alt=\\"User avatar\\"], div[data-testid=\\"comments-page-ad-thumbnail\\"] a[data-testid] > div[data-adclicklocation=\\"media\\"][role=\\"img\\"], shreddit-img","TAGS_FOR_TEXT_AD_CHECK":"div[data-click-id=\\"text\\"]","TAGS_FOR_VIDEO_CHECK":"video, svg[icon-name=\\"play-fill\\"], shreddit-player","VIDEO_TRAFFIC_DETECTOR":{"VIDEO_ID_REGEX":"(?<=v\\\\.redd\\\\.it/)(?<videoId>.*)(?=/exp-nosc|/(DASHPlaylist|HLSPlaylist).*)","VIDEO_MPD_URL_CHECK":"^https?\\\\://v\\\\.redd\\\\.it/.*/(DASHPlaylist\\\\.mpd|HLSPlaylist\\\\.m3u8)\\\\?","QUERY_VIDEO_DATA_FROM_CONTENT":"shreddit-player[src], shreddit-player-2[src]"}},"pinterestConfig":{"MAIN_CONTAINER_QUERY":"div.appContent > div > div.mainContainer, div[data-test-id$=\\"feed\\"] div[role=\\"list\\"]","PROMOTED_ALIASES":["","","Bevorder deur","Dipromosikan oleh","Inzerent","Annonce fra","Anzeige von","Promoted by","Promocionado por","Sponsorise par","Promovira","Sponsorizzato da","Reklmoz","Gesponsord door","Promotert av","Promowane przez","Patrocinado por","Publicidade de","Promovat de","Propaguje","Mainostaja","Annons frn","Na-promote ni","Qung co bi","Sponsor"," "," ",""," -","  ","  ","  ","   ","","","","","","Sponsored"],"FEED_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"homefeed-feed\\"] div[role=\\"list\\"]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":50,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"] > div:not([data-test-id=\\"pinrep-image\\"]):not([data-test-id=\\"pinrep-carousel\\"]), a[href] video, a[href] div[data-test-id^=\\"pinrep-video--placeholder\\"]","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span, a[class] div ~ div > div ~ div, div[data-test-id=\\"pinrep-footer\\"] a[aria-label] > div > div[style] > div:nth-child(1):not([style])","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label], a[href][rel=\\"nofollow\\"]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}],"DETECTOR_OPTIONS":{"detectorName":"PinterestAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500}},"SEARCH_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"search-feed\\"] > div[data-test-id=\\"masonry\\"] > div:not([class]) > div:not([class]) > div[class], div[data-test-id=\\"search-feed\\"] div[data-test-id=\\"masonry\\"] div[data-test-id] div:not([class]) > div[role=\\"list\\"]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":50,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"] > div:not([data-test-id=\\"pinrep-image\\"]):not([data-test-id=\\"pinrep-carousel\\"]), a[href] video, a[href] div[data-test-id^=\\"pinrep-video--placeholder\\"]","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span, a[class] div ~ div > div ~ div, div[data-test-id=\\"pinrep-footer\\"] a[aria-label] > div > div[style] > div:nth-child(1):not([style])","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label], a[href][rel=\\"nofollow\\"]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}],"DETECTOR_OPTIONS":{"detectorName":"PinterestAds:SearchPage","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/search/"}},"PIN_PAGE":{"CONTAINER_QUERY":"div[data-test-id=\\"closeup-container\\"] div[data-test-id=\\"relatedPins\\"] div:not([class]) > div > div[role=\\"list\\"], div[data-test-id=\\"closeup-container\\"] div[data-test-id=\\"relatedPins\\"] div[data-test-id] div > div[role=\\"list\\"], div[data-test-id=\\"pdp-container\\"] div[data-test-id=\\"relatedPins\\"] div[role=\\"list\\"]","PROMOTED_PINS_QUERY":"div[data-test-id] a[href] span:not([class]), div[data-test-id=\'pointer-events-wrapper\'] a[href] div[title], div[data-test-id=\'pointer-events-wrapper\'] a[href] div > style, div[data-test-id=\'pointer-events-wrapper\'] a[href] > div > div:nth-child(2) div:not([style]) div[style] > div","PROMOTED_PINS_QUERY_BY_REGEXP":[["match","\\"([\\\\sa-zA-Z]{1,20}| )\\""],["join",","],["replace","\\"|,|/"]],"IMG_SPACE_PERCENTAGE":50,"TAGS_FOR_LOADING_CHECK":"a img, a video, a:not([aria-label]) img[alt=\\"\\"]","TAGS_FOR_VIDEO_CHECK":"a[href] div[data-test-id=\\"pinrep-video\\"] > div:not([data-test-id=\\"pinrep-image\\"]):not([data-test-id=\\"pinrep-carousel\\"]), a[href] video, a[href] div[data-test-id^=\\"pinrep-video--placeholder\\"]","ADVERTISER_NAME_QUERY":"a > div > div > div ~ span, a[class] div ~ div > div ~ div, div[data-test-id=\\"pinrep-footer\\"] a[aria-label] > div > div[style] > div:nth-child(1):not([style])","ADVERTISER_PINTEREST_URL_QUERY":"a[class]","TARGET_URL_QUERY":"a[href][aria-label], a[href][rel=\\"nofollow\\"]","TITLE_TEXT_QUERY":"div[data-test-id=\\"pointer-events-wrapper\\"] div[data-test-id=\\"otpp\\"] > div[data-test-id] > a[href][aria-label]","STYLE_FIXES":[{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"svg[role=\\"img\\"]","NEW_RULES":"margin: 0;"},{"ELEMENT_QUERY":"div[data-test-id=\\"pinWrapper\\"] > div[aria-hidden] > div","NEW_RULES":"height: ${__HEIGHT__}px;"}],"DETECTOR_OPTIONS":{"detectorName":"PinterestAds:PinPage","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/pin/"}},"UNIQUE_ATTRIBUTE":"data-test-pin-id","ADDITIONAL_LOADER_CONFIG":{"PIN_PAGE_URL_PATTERN":"https://www.pinterest.com/pin/[PIN_ID]/","TITLE_QUERY":"<h1.[^>]*>(.[^<]*)</h1>","DESCRIPTION_QUERY":"did_it_disabled.*\\"description\\":\\"(?<description>.[^\\"]{5,5000})\\".*\\"(reaction_counts|created_at)","GET_SCRIPT_WITH_DATA_QUERY":["<script.[^id]*id=\\"__PWS_DATA__\\".[^>]*>(.[^<]*)","<script.[^id]*id=\\"__PWS_INITIAL_PROPS__\\".[^>]*>(.[^<]*)"],"CHECK_ON_PRIORITY_ADV_URL":"https?:\\\\/\\\\/(www\\\\.|)pinterest\\\\.","GET_USERNAME_QUERY":"https?:\\\\/\\\\/(www\\\\.|)pinterest\\\\.(com|ca|at|ch|cl|co\\\\.kr|com\\\\.au|com\\\\.mx|co\\\\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/(.[^/]*)","PATH_TO_ADVERTISER_URL":[["props","initialReduxState","pins","[PIN_ID]","pinner","domain_url"],["props","initialReduxState","pins","[PIN_ID]","domain"]],"PATH_TO_ADVERTISER_ID":[["props","initialReduxState","pins","[PIN_ID]","pinner","id"]]},"VIDEO_TRAFFIC_CONFIG":{"PROPERTIES_FOR_VIDEO_DATA":[{"NAME":"detectionTime","PATH_NAME:":null},{"NAME":"videoUrl","PATH_NAME":"PATH_TO_VIDEO_URL"},{"NAME":"videoId","PATH_NAME":"VIDEO_ID_REGEXP"},{"NAME":"previewImageUrl","PATH_NAME":"PATH_TO_THUMBNAIL"},{"NAME":"title","PATH_NAME":"PATH_TO_TITLE"},{"NAME":"promoter","PATH_NAME":"PATH_TO_ADVERTISER_NAME"}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"www\\\\.pinterest\\\\.(com|ca|at|ch|cl|co\\\\.kr|com\\\\.au|com\\\\.mx|co\\\\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)\\\\/resource\\\\/BaseSearchResource|UserHomefeedResource|RelatedModulesResource\\\\/get\\\\/(\\\\?source_url=)?","PATH_TO_PINS":[["resource_response","data","results"],["resource_response","data"]],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["videos","video_list","V_HLSV4","url"],"PATH_TO_THUMBNAIL":["videos","video_list","V_HLSV4","thumbnail"],"PATH_TO_TITLE":["title"],"PATH_TO_ADVERTISER_NAME":["promoter","full_name"],"VIDEO_ID_REGEXP":"\\\\/(.[^/.]*)\\\\..{2,5}$"},"CHECK_PROPERTIES":["is_promoted","videos"]},{"TYPE":"script","USE":true,"MAX_REPEATS_ACTIVATE":3,"QUERY":"script#__PWS_DATA__:not(data-bis-activated), script#__PWS_INITIAL_PROPS__:not(data-bis-activated)","PATH_TO_PINS":[["initialReduxState","pins"],["props","initialReduxState","pins"]],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["videos","video_list","V_HLSV4","url"],"PATH_TO_THUMBNAIL":["videos","video_list","V_HLSV4","thumbnail"],"PATH_TO_TITLE":["title"],"PATH_TO_ADVERTISER_NAME":["promoter","full_name"],"VIDEO_ID_REGEXP":"\\\\/(.[^/.]*)\\\\..{2,5}$"},"CHECK_PROPERTIES":["is_promoted","videos"]}]}},"instagramConfig":{"PROMOTED_ALIASES":["Sponsored","Geborg","Sponzorovno","Sponsoreret","Anzeige","","Publicidad","Sponsoroitu","Sponsoris","Bersponsor","Sponsorizzato","","","Ditaja","Sponset","Gesponsord","Sponsorowane","Patrocinado","","Sponsrad","","May Sponsor","Sponsorlu","","","","","","Sponzorirano","Hirdets",""," ","","","","    ","Sponzorovan",""," ","c ti tr","","Commandit","Sponsorizat","","Sponsorizat"],"FEED":{"CONTAINER_QUERIES":["main div:not([class]):not([style]) > div[style]:not([class]):not([role])"],"POSTS_QUERY":"article","CONTAINER_MIN_HEIGHT":1000,"IMG_SPACE_PERCENTAGE":30,"PROMOTED_QUERY":"span > div > span, svg > use, div:not([class]) > div:not([class]) > span","ABOUT_PAGE_URL_QUERY":"canvas ~ a, span > span div > a","ADVERTISER_NAME_QUERY":"span a[href] div > span, div > div:not([class]) > span[dir=\\"auto\\"]","TARGET_URL_QUERY":"div:not([class]) div[class] ~ a[target=\\"_blank\\"]","TIMEOUT_OPTIONS":{"MAX_TIME_FOR_DETECT_TRIES":40000,"MIN_TIME_BETWEEN_DETECTS_START":500,"STANDART_INTERVAL_DETECTS":700,"INSTERVAL_MUTATION_CALLBACK":300},"DETECTOR_OPTIONS":{"detectorName":"InstagramAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlInvalidKeyWord":["/stories/","/explore/","/reels/"]}},"STORIES":{"STORY_QUERY":"div:not([class])[style*=\\"height: 100vh\\"] > section > div:nth-child(1) > div > div[style*=\\"scale(1)\\"] > section, section > div:nth-child(1) > div > div[style*=\\"transform\\"] > div:not([aria-label])","IMG_SPACE_PERCENTAGE":80,"PROMOTED_QUERY":"header a ~ div > span, header div > span, svg > use, div[class] > div:not([class]) ~ div[class] > div > span[class], div[class] > div:not([class]) ~ div[class] > div[class] > div[class] > span[class], div:not([class]) > div:not([class]) > span","ADVERTISER_NAME_QUERY":"a ~ div a, header div:not(class) ~ div[class] > div[class] > div:not(class) > a, a[role] span[style] > span, div:not([class]) > span[style][dir] > span","TARGET_URL_QUERY":"div:not([class]) > div > a[target=\\"_blank\\"], a[target=\\"_blank\\"][rel]","ABOUT_PAGE_URL_QUERY":"a ~ div a, header div:not(class) > a, div:not([class]) > a[role]:not([target])","TIMEOUT_OPTIONS":{"MAX_TIME_FOR_DETECT_TRIES":40000,"MIN_TIME_BETWEEN_DETECTS_START":500,"STANDART_INTERVAL_DETECTS":700,"INSTERVAL_MUTATION_CALLBACK":300},"DETECTOR_OPTIONS":{"detectorName":"InstagramAds:Stories","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":false,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/stories/"}},"TAGS_FOR_LOADING_CHECK":"img, video","TAGS_FOR_VIDEO_CHECK":"video","TRAFFIC_LISTENER_CONFIG":{"PROPERTIES_FOR_VIDEO_DATA":[{"NAME":"detectionTime","PATH_NAME:":null,"IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"videoSrc","PATH_NAME":"PATH_TO_VIDEO_SRC","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"itemCode","PATH_NAME":"PATH_TO_CODE","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"previewImageUrl","PATH_NAME":"PATH_TO_THUMBNAIL","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"advertiserName","PATH_NAME":"PATH_TO_ADVERTISER_NAME","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"fullText","PATH_NAME":"PATH_TO_FULL_TEXT","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"headlineText","PATH_NAME":"PATH_TO_HEADLINE_TEXT","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"targetUrl","PATH_NAME":"PATH_TO_TARGET_URL","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"carouselSlidesSources","PATH_NAME":"PATH_TO_SLIDES","IS_NECESSARY":false,"DEFAULT_VALUE":[]}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"www\\\\.instagram\\\\.com\\\\/(api\\\\/|)(QUERY_AD_TYPE_0)|(QUERY_AD_TYPE_1)(\\\\/query|)","MATCH_HEADERS":{"x-fb-friendly-name":["PolarisFeedTimelineRootQuery","PolarisFeedRootPaginationQuery_subscribe","PolarisFeedRootPaginationCachedQuery_subscribe","PolarisFeedTimelineRootV2Query","PolarisFeedRootPaginationCachedDirectQuery_subscribe","PolarisStoriesV3AdsPoolQuery"]},"AD_TYPES_WAYS_TO_PROPERTIES":[{"AD_TYPE":"feed","QUERY_URL_PATH":"graphql","PATH_TO_POSTS":["data","xdt_api__v1__feed__timeline__connection","edges"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["node","ad","items",0,"video_versions",0,"url"],"PATH_TO_THUMBNAIL":["node","ad","items",0,"image_versions2","candidates",0,"url"],"PATH_TO_CODE":["node","ad","items",0,"code"],"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"],"PATH_TO_HEADLINE_TEXT":["node","ad","items",0,"headline","text"],"PATH_TO_SLIDES":["node","ad","items","*","image_versions2","candidates",0,"url"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"video_versions"],["node","ad","items","*"]],"RULES_TO_GET_FULL_TEXT":{"PATHS_GET_PROPERTIES":{"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_HEADLINE_TEXT":["node","ad","items",0,"headline","text"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"caption"]]}},{"AD_TYPE":"story","QUERY_URL_PATH":"v1/injected_story_units","PATH_TO_POSTS":["ad_media_items","*","items"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["video_versions",0,"url"],"PATH_TO_THUMBNAIL":["image_versions2","candidates",0,"url"],"PATH_TO_CODE":["code"],"PATH_TO_ADVERTISER_NAME":["user","username"],"PATH_TO_FULL_TEXT":["caption","text"],"PATH_TO_TARGET_URL":["link"]},"PATH_CHECK_PROPERTIES":[["image_versions2"]]},{"AD_TYPE":"story","QUERY_URL_PATH":"graphql","PATH_TO_POSTS":["data","xdt_injected_story_units","ad_media_items","*","items"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["video_versions",0,"url"],"PATH_TO_THUMBNAIL":["image_versions2","candidates",0,"url"],"PATH_TO_CODE":["code"],"PATH_TO_ADVERTISER_NAME":["user","username"],"PATH_TO_FULL_TEXT":["caption","text"],"PATH_TO_TARGET_URL":["link"]},"PATH_CHECK_PROPERTIES":[["image_versions2"]]}]},{"TYPE":"script","USE":true,"REGEXP_FILTER":"xdt_api__v1__feed__timeline__connection","AD_TYPE":"feed","PATH_TO_POSTS":["require",0,3,0,"__bbox","require",0,3,1,"__bbox","result","data","xdt_api__v1__feed__timeline__connection","edges"],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_SRC":["node","ad","items",0,"video_versions",0,"url"],"PATH_TO_THUMBNAIL":["node","ad","items",0,"image_versions2","candidates",0,"url"],"PATH_TO_CODE":["node","ad","items",0,"code"],"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"],"PATH_TO_HEADLINE_TEXT":["node","ad","items",0,"headline","text"],"PATH_TO_SLIDES":["node","ad","items","*","image_versions2","candidates",0,"url"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"video_versions"],["node","ad","items","*"]],"RULES_TO_GET_FULL_TEXT":{"PATHS_GET_PROPERTIES":{"PATH_TO_ADVERTISER_NAME":["node","ad","items",0,"user","username"],"PATH_TO_HEADLINE_TEXT":["node","ad","items",0,"headline","text"],"PATH_TO_FULL_TEXT":["node","ad","items",0,"caption","text"]},"PATH_CHECK_PROPERTIES":[["node","ad","items",0,"caption"]]}}]},"LOAD_USER_DATA":{"ENABLED":true,"HEADERS_VALUES_QUERIES":[["X-Ig-App-Id","X-IG-App-ID\\":\\"(.[^\\"]*)\\""]],"PATH_TO_ADERTISER_URL":["data","user","external_url"]}},"linkedinConfig":{"PROMOTED_ALIASES":["promoted","","propagovno","promoveret","anzeige","promocionado","post sponsoris","  ","dipromosikan","post sponsorizzato","","","gepromoot","promotert","tre promowana","patrocinado","promovat","","marknadsfrt","","nai-promote","ne karlan ierik","","","","","","","","mainostettu","kiemelt",""," ","promovido","c qung b","  "," "],"FEED":{"DETECTOR_OPTIONS":{"detectorName":"LinkedinAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlValidationByKeyWord":"/feed"},"COLLECT_AD_TYPE_EVENT":false,"QUERY_CHECK_AD_TYPE_EVENT":"time, li-icon[type=\\"video-camera\\"]","REGEXP_IFRAME_SRC":"media\\\\.licdn\\\\.com\\\\/embeds\\\\/.{1,100}\\\\.html\\\\?","CLASS_TO_REMOVE_LOADER_ELEMENT":"ssplayer-carousel-loader-template","REGEXP_IFRAME_IMAGES":"data-src=","QUERY_CONTAINER":"div[data-finite-scroll-hotkey-context=\\"FEED\\"]","QUERIES_IS_PROMOTED":["div > a span div span[aria-hidden]","a[data-test-app-aware-link][target=\\"_self\\"] > span > span[aria-hidden]","a[data-test-app-aware-link][target=\\"_self\\"] ~ span > span[aria-hidden]"],"QUERY_TARGET_URL":"a[target=\\"_blank\\"]","QUERY_ADVERTISER_URL":"div > a[target=\\"_self\\"][aria-label]","IMG_SPACE_PERCENTAGE":25,"REGEXP_ADVERTISER_NAME":"company/(.[^/]*)","QUERY_ADVERTISER_NAME":"a ~ div > a[target=\\"_self\\"] span[aria-hidden] span:not([class]), a ~ div > a[target=\\"_self\\"] span[dir] span[aria-hidden","QUERY_GET_UNIQUE_ID":"*[data-id]","REGEXP_FILTER_TARGET_URL":"leadGenForm\\\\/urn\\\\:li","PARAMS_GET_VIDEO_ID":{"REGEXP_VIDEO_ID":"dms/image/(v2/|)(?<videoId>.[^/]*)/","QUERY_VIDEO_TAG_GET_VIDEO_ID":"video[poster]","ATTRIBUTE_NAME_WITH_VIDEO_ID":"poster"},"PARAMS_GET_CAROUSEL_SLIDES":{"QUERY_CODE_ELEMENTS":"code","QUERY_FIRST_IMG":"ul[id] li img","REGEXP_IMG_ID":"media\\\\.licdn\\\\.com/dms/image/(.[^/]*)/","PATH_TO_SOCIAL_ADV_URL":["actor","navigationContext","actionTarget"],"PATH_TO_IMAGES_DATA":["leadGenFormContentV2","carouselContent","items"],"PATH_TO_IMAGES_PATH_URL":["content","image","attributes",0,"vectorImage","artifacts",0,"fileIdentifyingUrlPathSegment"],"PATH_TO_IMAGES_ROOT_URL":["content","image","attributes",0,"vectorImage","rootUrl"],"PATH_TO_SLIDE_TEXT":["content","headline","text"]}},"RIGHT_COLUMN":{"DETECTOR_OPTIONS":{"detectorName":"LinkedinAds:RightColumn","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"useObserver":true,"useOnScroll":true,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"maxActualizeDetectorWaitTimeMs":30000},"QUERY_CONTAINER":"main + aside","QUERY_AD_CONTAINER":"section.ad-banner-container","QUERY_IS_IFRAME":"iframe","QUERY_IS_PROMOTED":"header a","QUERIES_IFRAME_AD":["section.ta-creative","a[data-testid=\'text-ad\']"],"QUERY_IFRAME_STYLES_CONTAINER":"main, div[data-testid=\\"text-ads-container\\"]","QUERIES_IFRAME_AD_WRAPPER":[".ta__ads","main","div[data-testid=\\"text-ads-container\\"]"],"QUERY_TARGET_URL":"div a[target=\'_blank\']"},"ADDITIONAL_LOADER_CONFIG":{"CHECK_ON_PRIORITY_ADV_URL":"https?:\\\\/\\\\/(www\\\\.|)linkedin\\\\.","REGEXP_GET_ADVERTISER_URL":"websiteUrl(\\"|&quot;):(\\"|&quot;)(?<websiteUrl>(https?:\\\\/\\\\/|).[^\\"]*?)(&quot;|\\")","REPLACE_PARAMS_IN_URL":["posts","about"]},"TAGS_FOR_VIDEO_CHECK":"video","TAGS_FOR_LOADING_CHECK":"img, video, div[style*=\\"background-image\\"]","TRAFFIC_LISTENER_CONFIG":{"PROPERTIES_FOR_VIDEO_DATA":[{"NAME":"detectionTime","PATH_NAME:":null,"IS_NECESSARY":false,"DEFAULT_VALUE":"","TYPE_OF_DATA":"videoData"},{"NAME":"videoSrc","PATH_NAME":null,"IS_NECESSARY":false,"DEFAULT_VALUE":"","TYPE_OF_DATA":"videoData"},{"NAME":"slidePathUrl","PATH_NAME":"PATH_TO_SLIDE_URL_PATH","IS_NECESSARY":true,"DEFAULT_VALUE":"","TYPE_OF_DATA":"slidesData"},{"NAME":"slideText","PATH_NAME":"PATH_TO_SLIDE_TEXT","IS_NECESSARY":true,"DEFAULT_VALUE":"","TYPE_OF_DATA":"slidesData"},{"NAME":"slideRootUrl","PATH_NAME":"PATH_TO_SLIDE_ROOT_URL","IS_NECESSARY":true,"DEFAULT_VALUE":"","TYPE_OF_DATA":"slidesData"},{"NAME":"socialAdvertiserUrl","PATH_NAME":"PATH_TO_ADV_LINK","IS_NECESSARY":false,"DEFAULT_VALUE":"","TYPE_OF_DATA":"slidesData"}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY_VIDEO_REQ":"dms\\\\.licdn\\\\.com\\\\/playlist\\\\/vid\\\\/pl\\\\/.*&t=.*$","QUERY_SLIDES_REQ":"linkedin\\\\.com\\\\/voyager\\\\/api\\\\/(feed\\\\/updatesV2|graphql)\\\\?.[^&]*&queryId=voyagerFeedDashMainFeed","PARAMS_FOR_SLIDES":{"PATHS_TO_FIELD_NAME_ENTITY_URNS":[["*elements"],["data","data","feedDashMainFeedByMainFeed","*elements"]],"ENTITY_URN_MUST_HAVE":"sponsoredContentV2"},"PATHS":{"PATH_TO_SLIDE_URL_PATH":[["carouselContent","items","*","content","image","attributes",0,"vectorImage","artifacts",0,"fileIdentifyingUrlPathSegment"],["leadGenFormContentV2","carouselContent","items","*","content","image","attributes",0,"vectorImage","artifacts",0,"fileIdentifyingUrlPathSegment"],["carouselContent","items","*","content","creativeComponent","image","attributes",0,"detailData","vectorImage","artifacts",0,"fileIdentifyingUrlPathSegment"]],"PATH_TO_SLIDE_TEXT":[["carouselContent","items","*","content","headline","text"],["leadGenFormContentV2","carouselContent","items","*","content","headline","text"],["carouselContent","items","*","content","creativeComponent","headline","text"]],"PATH_TO_SLIDE_ROOT_URL":[["carouselContent","items","*","content","image","attributes",0,"vectorImage","rootUrl"],["leadGenFormContentV2","carouselContent","items","*","content","image","attributes",0,"vectorImage","rootUrl"],["carouselContent","items","*","content","creativeComponent","image","attributes",0,"detailData","vectorImage","rootUrl"]],"PATH_TO_ADV_LINK":[["actor","navigationContext","actionTarget"]]}}]}},"twitchConfig":{"COLLECT_INSTREAM_ADS":false,"URL_PATTERN_TO_GET_HLS":"https://usher.ttvnw.net/api/channel/hls/${channel}.m3u8?allow_source=true&browser_family=${browserFamily}&browser_version=${browserVersion}&cdm=wv&fast_bread=true&os_name=${osName}&os_version=${osVersion}&p=${p}&platform=web&play_session_id=${playSessionId}&player_backend=mediaplayer&player_version=1.35.0-rc.2&playlist_include_framerate=true&reassignments_supported=true&sig=${signature}&supported_codecs=av1,h265,h264&token=${token}&transcode_mode=cbr_v1","CONTENT_TYPE":"application/vnd.apple.mpegurl","MEDIA_TYPE":"TEXT","DEFAULT_TIMEOUT_BEFORE_REQUEST_HLS_DATA":10000,"CHECK_WORDS_IS_AD":["twitch-stitched-ad"]},"tiktokConfig":{"FEED":{"CONTAINER_QUERIES":["main div"],"VIDEO_CONTAINER_QUERIES":["[class*=\\"player\\"]"],"CONTAINER_MIN_HEIGHT":300,"PROMOTED_QUERIES":["[data-e2e*=\'ttam-ads-cta\']"],"PREVIEW_QUERIES":["picture img"],"DETECTOR_OPTIONS":{"detectorName":"TiktokAds:Feed","firstDetectionAfterActivationTimeoutMs":300,"secondDetectionAfterActivationTimeoutMs":900,"detectionIntervalMs":1000,"minTimeAfterLastDetectionMs":500,"useObserver":true,"useOnScroll":false,"onScrollTimeout":5000,"observerNodesChecksMaxAmount":20,"observerNodesCheckIntervalMs":1000,"maxActualizeDetectorWaitTimeMs":30000,"extractAdStaticPartTimeoutMs":1500,"extractAdRandomPartTimeoutMs":500,"urlInvalidKeyWord":[]}},"TRAFFIC_LISTENER_CONFIG":{"PROPERTIES_FOR_AD_DATA":[{"NAME":"videoUrl","PATH_NAME":"PATH_TO_VIDEO_URL","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"coverImage","PATH_NAME":"PATH_TO_COVER_IMAGE","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"videoId","PATH_NAME":"PATH_TO_VIDEO_ID","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"ctaButtonText","PATH_NAME":"PATH_TO_CTA_BUTTON_TEXT","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"ctaButtonLink","PATH_NAME":"PATH_TO_CTA_BUTTON_LINK","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"campaignText","PATH_NAME":"PATH_TO_CAMPAING_TEXT","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"targetUrl","PATH_NAME":"PATH_TO_TARGET_URL","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"pageName","PATH_NAME":"PATH_TO_PAGE_NAME","IS_NECESSARY":true,"DEFAULT_VALUE":""},{"NAME":"pageLink","PATH_NAME":"PATH_TO_PAGE_LINK","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"advertiser","PATH_NAME":"PATH_TO_ADVERTISER","IS_NECESSARY":false,"DEFAULT_VALUE":""},{"NAME":"pageSecId","PATH_NAME":"PATH_TO_PAGE_SEC_ID","IS_NECESSARY":true,"DEFAULT_VALUE":""}],"PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"/(tiktok\\\\.com\\\\/api\\\\/(recommend|preload|topic|related)\\\\/)item_list\\\\/\\\\?/","CONTENT_QUERY":"itemList","PATHS_CHECK_AD":[["isAd"]],"PATHS_GET_PROPERTIES":{"PATH_TO_VIDEO_URL":["video","playAddr"],"PATH_TO_COVER_IMAGE":["video","cover"],"PATH_TO_VIDEO_ID":["video","id"],"PATH_TO_CTA_BUTTON_TEXT":["ad_info","button_text"],"PATH_TO_CTA_BUTTON_LINK":["ad_info","web_url"],"PATH_TO_CAMPAING_TEXT":["desc"],"PATH_TO_TARGET_URL":["ad_info","web_url"],"PATH_TO_PAGE_NAME":["author","nickname"],"PATH_TO_PAGE_LINK":["author","secUid"],"PATH_TO_ADVERTISER":["ad_info","about_this_ad_info","advertiser_items","0","orientation_info","0","orientation_track"],"PATH_TO_PAGE_SEC_ID":["author","secUid"]}}]}},"bannerAdsConfig":{"QUERIES":{"FULL_IMG_COLLECTION":"A[href]:not([bis_size]) > img[src]:not([bis_size])","ON_EVENT_IMG_COLLECTION":"img[onclick][onload][src]:not([bis_size])"}},"HTML5AdsConfig":{"QUERIES":{"IFRAMES_COLLECTION":"iframe[src]:not([bis_size]):not([allowfullscreen]), iframe[srcdoc]:not([bis_size]):not([allowfullscreen]), iframe[aria-label=\\"Advertisement\\"]:not([bis_size]):not([allowfullscreen]), frame[src]:not([bis_size]):not([allowfullscreen]), frame[srcdoc]:not([bis_size]):not([allowfullscreen]), iframe[data-kiosked-adframe]:not([bis_size]):not([allowfullscreen]), iframe[loading=\\"lazy\\"]:not([bis_size]):not([allowfullscreen]), iframe[title=\\"Advertisement\\"]:not([bis_size]):not([allowfullscreen]), iframe[id*=\\"lsadvert-\\"][banner-id]:not([bis_size]):not([allowfullscreen])","ACCEPTABLE_NODES_IN_IFRAME":"a[href], iframe, frame","UNACCEPTABLE_NODES_IN_IFRAME":"textarea, input[type=\\"email\\"]"},"PRECISE_ADVERTISING_IDENTIFIERS":{"MAX_TRIES_FIND_ADS":20,"QUERY_SELECTORS":["iframe[id*=\\"google_ads_iframe\\"]","iframe[id*=\\"-roxotAd-\\"]","iframe[id*=\\"aswift\\"][data-google-container-id]"],"IDS_REG_EXP":[],"TARGET_URLS_REG_EXP":[],"IFRAME_SOURCES_REG_EXP":[]}},"skinAdsConfig":{"QUERIES":{"FULL_HREF_COLLECTION":"A[href]:not([bis_skin_checked]):not([href=\\"#\\"]):not([href=\\"\\"]):not([href=\\"/\\"])","FULL_DIV_COLLECTION":"div:not([bis_skin_checked])"}},"aiMessagesConfig":{"CLAUDE":{"CHATBOT_NAME":"claude.ai","URL_PATTERN":"/claude\\\\.ai/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"QUERY":"/\\\\/api\\\\/organizations\\\\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\\\/chat_conversations\\\\/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}\\\\/completion$/","RETRY_QUERY":"//api/organizations/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/chat_conversations/[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}/retry_completion$/","SEND_MESSAGE":{"MESSAGE_LIMIT":10000,"CONTENT_QUERY":["prompt"]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"LINE_START_QUERY":"data: ","CONTENT_TYPE":"content_block_delta","TEXT_PART_QUERY":["delta","text"]}}]},"COPILOT":{"CHATBOT_NAME":"copilot.microsoft.com","URL_PATTERN":"/copilot\\\\.microsoft\\\\.com/","PARSERS":[{"TYPE":"WS","USE":true,"SEND_MESSAGE":{"MESSAGE_LIMIT":10000,"EVENT_TYPE_QUERY":["event"],"EVENT_TYPE":"send","CONVERSATION_ID_QUERY":["conversationId"],"CONTENT_QUERY":["content"],"CONTENT_TYPE_QUERY":["type"],"CONTENT_TYPE_TEXT":"text","CONTENT_TEXT_QUERY":["text"]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"EVENT_TYPE_QUERY":["event"],"START_EVENT_TYPE":"startMessage","APPEND_EVENT_TYPE":"appendText","DONE_EVENT_TYPE":"done","CONVERSATION_ID_QUERY":["conversationId"],"TEXT_QUERY":["text"]}}]},"PERPLEXITY":{"CHATBOT_NAME":"perplexity.ai","URL_PATTERN":"/perplexity\\\\.ai/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"SEND_MESSAGE":{"MESSAGE_LIMIT":10000,"ATTACHMENTS_QUERY":["params","attachments"],"SOURCE_QUERY":["params","query_source"],"IGNORED_SOURCES":["retry"],"MESSAGE_QUERY":["query_str"]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"DATA_OBJ_QUERY":["data","blocks"],"MESSAGE_QUERY":["markdown_block","answer"]},"QUERY":"/\\\\/rest\\\\/sse\\\\/perplexity_ask$/"}]},"META_AI":{"CHATBOT_NAME":"meta.ai","URL_PATTERN":"/meta\\\\.ai/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"SEND_MESSAGE":{"MESSAGE_LIMIT":10000,"DATA_QUERY":"variables","MESSAGE_QUERY":["message","sensitive_string_value"],"SESSION_ID_QUERY":["externalConversationId"]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"DATA_FILTER":"{","MESSAGE_QUERY":["data","node","bot_response_message","snippet"]}}]},"CHATGPT":{"CHATBOT_NAME":"chatgpt.com","URL_PATTERN":"/chatgpt\\\\.com/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"REGEXP_URL_CHECK":"chatgpt\\\\.com\\\\/backend-(api|anon)\\\\/(|.{1,10}\\\\/)conversation$","REGEXP_SESSION_ID_FROM_STREAM":"conversation_id\\":(\\\\s| |)\\"(?<sessionId>.[^\\"]*)\\"","REQUEST_METHOD":"POST","SENT_MESSAGE":{"MESSAGE_LIMIT":10000,"RULES_GET_USER_VALUES":[{"NAME":"sessionId","PATH":["conversation_id"]},{"NAME":"messageText","PATH":["messages",0,"content","parts"]}]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"INVALID_VALUES_TO_PARSE":["[DONE]"],"RULES_GET_SYSTEM_VALUES":[{"NAME":"messageText","REDUCE_PARAMS":{"KEY":"v","TYPE":"string","CHECK_KEY":"o","CHECK_VALUE":"append","FINISH_VALUE":"finished_successfully","ALT_PATHS_TO_TEXT":[["message","content","parts"],[0,"v"]],"ALT_TYPE":"object","RED_FLAG_PATH":["v","message","metadata","image_gen_async"],"RED_FLAG_VALUE":true,"INVALID_TEXT_VALUES":["finished_successfully"]}}]}}]},"GEMINI":{"CHATBOT_NAME":"gemini.google.com","URL_PATTERN":"/gemini\\\\.google\\\\.com/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"REGEXP_URL_CHECK":"(gemini\\\\.google\\\\.com|\\\\/_)\\\\/.*StreamGenerate\\\\?","REQUEST_METHOD":"POST","SENT_MESSAGE":{"MESSAGE_LIMIT":10000,"SEPARATOR_PARAMETERS":"&at","REPLACEMENT_PARAMETER":"(^.[^=]*=)|(&$)","REPLACEMENT_PREFIX_SESSION_ID":"^.[^_]*_","MESSAGE_TYPE":"user","REGEXP_SESSION_ID_FROM_URL":"^.*app(\\\\/|)(?<sessionId>.[^?/]*)(\\\\?|/|)"},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"REGEXP_GET_MESSAGE_TEXT":",\\\\[\\\\[\\\\\\\\{0,5}\\".[^\\\\[]*,\\\\[\\\\\\\\{0,5}\\"(?<message>.[^\\\\]]*)\\\\\\\\{0,5}\\"","REGEXP_REMOVE_GARBAGE":"^\\\\)(\\n|)\\\\](\\n|)\\\\}\'","REGEXP_SPLITER":"\\n\\\\d{1,10}\\n","MESSAGE_TYPE":"system","RED_FLAG_VALUES_FOR_MEDIA":["image_generation"],"REGEXP_SESSION_ID_FROM_URL":"^.*app(\\\\/|)(?<sessionId>.[^?/]*)(\\\\?|/|)"}}]},"DEEPSEEK":{"CHATBOT_NAME":"chat.deepseek.com","URL_PATTERN":"/chat\\\\.deepseek\\\\.com/","PARSERS":[{"TYPE":"XMLHttpRequest","USE":true,"REGEXP_URL_CHECK":"\\\\/api\\\\/(|.[^/]{1,5}\\\\/)chat\\\\/(completion|regenerate|edit_message)$","REQUEST_METHOD":"POST","PATH_GET_SESSION_ID":["chat_session_id"],"SENT_MESSAGE":{"MESSAGE_LIMIT":10000,"RULES_GET_USER_VALUES":[{"NAME":"messageText","PATH":["prompt"]},{"NAME":"messageType","CONSTANT_VALUE":"user"}]},"RECEIVED_MESSAGE":{"MESSAGE_LIMIT":30000,"RULES_GET_SYSTEM_VALUES":[{"NAME":"messageText","REDUCE_PARAMS":{"KEY":"v","TYPE":"string","INVALID_VALUES":["INCOMPLETE","FINISHED"],"RED_FLAG_PATH":[],"RED_FLAG_VALUE":""}},{"NAME":"messageType","CONSTANT_VALUE":"system"}]}}]}},"adBlockInspectorConfig":{"active":true,"needsActiveAgentIntervalSec":50,"agentActivationTimeoutSec":5,"adRemovingTimeoutSec":2,"detectionClassName":"adsbox ads ad adsbox doubleclick ad-placement carbon-ads","detectionSrcPatterns":["https://safeframe.googlesyndication.com/safeframe/1-0-40/html"]},"useSensitiveDataFilter":true,"html5TargetUrlDetectionConfig":{"WINDOW_TARGET_URL_PROPERTY_KEY_WORDS":["targeturl","clickurl","clicktag","destinationurl","trackingurl","finalurl","redirecturl","url"],"WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL":10,"TARGET_URL_CLICK_ELEMENTS_SELECTOR":"*[onclick]:not(a), div, button, gwd-taparea, iframe#x2_ad","WINDOW_PROPERTY_NAMES":["clickTag","clickTAG","PARAMS_B64","adData","_bannerflow"]}}'},5517:x=>{var $=function(){var x=String.fromCharCode,$="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",C={};function D(x,$){if(!C[x]){C[x]={};for(var v=0;v<x.length;v++)C[x][x.charAt(v)]=v}return C[x][$]}var V={compressToBase64:function(x){if(null==x)return"";var v=V._compress(x,6,(function(x){return $.charAt(x)}));switch(v.length%4){default:case 0:return v;case 1:return v+"===";case 2:return v+"==";case 3:return v+"="}},decompressFromBase64:function(x){return null==x?"":""==x?null:V._decompress(x.length,32,(function(v){return D($,x.charAt(v))}))},compressToUTF16:function($){return null==$?"":V._compress($,15,(function($){return x($+32)}))+" "},decompressFromUTF16:function(x){return null==x?"":""==x?null:V._decompress(x.length,16384,(function($){return x.charCodeAt($)-32}))},compressToUint8Array:function(x){for(var $=V.compress(x),v=new Uint8Array(2*$.length),C=0,D=$.length;C<D;C++){var p=$.charCodeAt(C);v[2*C]=p>>>8,v[2*C+1]=p%256}return v},decompressFromUint8Array:function($){if(null==$)return V.decompress($);for(var v=new Array($.length/2),C=0,D=v.length;C<D;C++)v[C]=256*$[2*C]+$[2*C+1];var p=[];return v.forEach((function($){p.push(x($))})),V.decompress(p.join(""))},compressToEncodedURIComponent:function(x){return null==x?"":V._compress(x,6,(function(x){return v.charAt(x)}))},decompressFromEncodedURIComponent:function(x){return null==x?"":""==x?null:(x=x.replace(/ /g,"+"),V._decompress(x.length,32,(function($){return D(v,x.charAt($))})))},compress:function($){return V._compress($,16,(function($){return x($)}))},_compress:function(x,$,v){if(null==x)return"";var C,D,V,p={},K={},Z="",O="",U="",G=2,w=3,M=2,_=[],e=0,u=0;for(V=0;V<x.length;V+=1)if(Z=x.charAt(V),Object.prototype.hasOwnProperty.call(p,Z)||(p[Z]=w++,K[Z]=!0),O=U+Z,Object.prototype.hasOwnProperty.call(p,O))U=O;else{if(Object.prototype.hasOwnProperty.call(K,U)){if(U.charCodeAt(0)<256){for(C=0;C<M;C++)e<<=1,u==$-1?(u=0,_.push(v(e)),e=0):u++;for(D=U.charCodeAt(0),C=0;C<8;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1}else{for(D=1,C=0;C<M;C++)e=e<<1|D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D=0;for(D=U.charCodeAt(0),C=0;C<16;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1}0==--G&&(G=Math.pow(2,M),M++),delete K[U]}else for(D=p[U],C=0;C<M;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1;0==--G&&(G=Math.pow(2,M),M++),p[O]=w++,U=String(Z)}if(""!==U){if(Object.prototype.hasOwnProperty.call(K,U)){if(U.charCodeAt(0)<256){for(C=0;C<M;C++)e<<=1,u==$-1?(u=0,_.push(v(e)),e=0):u++;for(D=U.charCodeAt(0),C=0;C<8;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1}else{for(D=1,C=0;C<M;C++)e=e<<1|D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D=0;for(D=U.charCodeAt(0),C=0;C<16;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1}0==--G&&(G=Math.pow(2,M),M++),delete K[U]}else for(D=p[U],C=0;C<M;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1;0==--G&&(G=Math.pow(2,M),M++)}for(D=2,C=0;C<M;C++)e=e<<1|1&D,u==$-1?(u=0,_.push(v(e)),e=0):u++,D>>=1;for(;;){if(e<<=1,u==$-1){_.push(v(e));break}u++}return _.join("")},decompress:function(x){return null==x?"":""==x?null:V._decompress(x.length,32768,(function($){return x.charCodeAt($)}))},_decompress:function($,v,C){var D,V,p,K,Z,O,U,G=[],w=4,M=4,_=3,e="",u=[],z={val:C(0),position:v,index:1};for(D=0;D<3;D+=1)G[D]=D;for(p=0,Z=Math.pow(2,2),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;switch(p){case 0:for(p=0,Z=Math.pow(2,8),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;U=x(p);break;case 1:for(p=0,Z=Math.pow(2,16),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;U=x(p);break;case 2:return""}for(G[3]=U,V=U,u.push(U);;){if(z.index>$)return"";for(p=0,Z=Math.pow(2,_),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;switch(U=p){case 0:for(p=0,Z=Math.pow(2,8),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;G[M++]=x(p),U=M-1,w--;break;case 1:for(p=0,Z=Math.pow(2,16),O=1;O!=Z;)K=z.val&z.position,z.position>>=1,0==z.position&&(z.position=v,z.val=C(z.index++)),p|=(K>0?1:0)*O,O<<=1;G[M++]=x(p),U=M-1,w--;break;case 2:return u.join("")}if(0==w&&(w=Math.pow(2,_),_++),G[U])e=G[U];else{if(U!==M)return null;e=V+V.charAt(0)}u.push(e),G[M++]=V+e.charAt(0),V=e,0==--w&&(w=Math.pow(2,_),_++)}}};return V}();x.exports=$},6025:function(x,$){"use strict";var v=this&&this.__awaiter||function(x,$,v,C){return new(v||(v=Promise))((function(D,V){function p(x){try{Z(C.next(x))}catch(x){V(x)}}function K(x){try{Z(C.throw(x))}catch(x){V(x)}}function Z(x){var $;x.done?D(x.value):($=x.value,$ instanceof v?$:new v((function(x){x($)}))).then(p,K)}Z((C=C.apply(x,$||[])).next())}))},C=this&&this.__generator||function(x,$){var v,C,D,V,p={label:0,sent:function(){if(1&D[0])throw D[1];return D[1]},trys:[],ops:[]};return V={next:K(0),throw:K(1),return:K(2)},"function"==typeof Symbol&&(V[Symbol.iterator]=function(){return this}),V;function K(V){return function(K){return function(V){if(v)throw new TypeError("Generator is already executing.");for(;p;)try{if(v=1,C&&(D=2&V[0]?C.return:V[0]?C.throw||((D=C.return)&&D.call(C),0):C.next)&&!(D=D.call(C,V[1])).done)return D;switch(C=0,D&&(V=[2&V[0],D.value]),V[0]){case 0:case 1:D=V;break;case 4:return p.label++,{value:V[1],done:!1};case 5:p.label++,C=V[1],V=[0];continue;case 7:V=p.ops.pop(),p.trys.pop();continue;default:if(!(D=p.trys,(D=D.length>0&&D[D.length-1])||6!==V[0]&&2!==V[0])){p=0;continue}if(3===V[0]&&(!D||V[1]>D[0]&&V[1]<D[3])){p.label=V[1];break}if(6===V[0]&&p.label<D[1]){p.label=D[1],D=V;break}if(D&&p.label<D[2]){p.label=D[2],p.ops.push(V);break}D[2]&&p.ops.pop(),p.trys.pop();continue}V=$.call(x,p)}catch(x){V=[6,x],C=0}finally{v=D=0}if(5&V[0])throw V[1];return{value:V[0]?V[1]:void 0,done:!0}}([V,K])}}};$.__esModule=!0;var D="*****",V="SensitiveDataFilter:",p=function(){function x(x){if("string"!=typeof x.host)throw"Server host is undefined";this.host=x.host,this.logging=!!x.logging}return x.prototype.init=function(){return v(this,void 0,void 0,(function(){return C(this,(function(x){switch(x.label){case 0:return[4,this.updateRules()];case 1:return x.sent(),[2]}}))}))},x.prototype.transformUrl=function(x){var $=this;if(!x||!this.rules||!this.rules.filters)return x;var v=new URL(x),C=v.host;v.password.length&&(v.password=D),v.username.length&&(v.username=D),this.rules.filters.forEach((function(x){C.match(x.domain)&&(v.pathname=$.processFilterRules(x.rules,v.pathname),v.search=$.processFilterRules(x.rules,v.search),v.hash=$.processFilterRules(x.rules,v.hash))}));var p=v.toString();return this.logging&&this.log(V+" Transformed url: "+x+" -> "+p),p},x.prototype.transformTitle=function(x,$){var v=this;if(!this.rules||!this.rules.titles)return $;var C=this.rules.titles,p=$;return C.forEach((function($){x.match($.domain)&&$.rules.forEach((function(x){x.value&&(p=v.applyRegexp(x.value,p,D))}))})),this.logging&&this.log(V+" Transformed title: "+$+" -> "+p),p},x.prototype.updateRules=function(){return v(this,void 0,void 0,(function(){var x,$,v,D;return C(this,(function(C){switch(C.label){case 0:x=this.host+"/api/privacy/data/rules/exclusions",C.label=1;case 1:return C.trys.push([1,4,,5]),[4,fetch(x,{headers:{"Content-type":"application/json;charset=utf-8"}})];case 2:return $=C.sent(),v=this,[4,$.json()];case 3:return v.rules=C.sent(),[3,5];case 4:throw D=C.sent(),new Error(D);case 5:return[2]}}))}))},x.prototype.processFilterRules=function(x,$){var v=this,C=$;return x.forEach((function(x){if(x.value&&x.type)switch(x.type){case"parameter":C=v.applyRegexp("([?&]"+x.value+"=)([^&]+)",C,"$1"+D);break;case"path":C=v.applyPathFilter(x.value,C,D);break;default:v.logging&&v.log(V+" Unknown rule type: "+x.type)}})),C},x.prototype.applyPathFilter=function(x,$,v){var C,D=new RegExp(x,"i"),V=$.match(D);if(!V)return $;var p=V[0],K=V[1];return C=v+K+v,0===p.indexOf(K)&&(C=K+v),K&&K.length&&p.indexOf(K)===p.length-K.length&&(C=v+K),$.replace(p,C)},x.prototype.applyRegexp=function(x,$,v){var C=new RegExp(x,"ig");return $.replace(C,v)},x.prototype.log=function(){},x}();$.default=p},8458:()=>{}},$={};function v(C){var D=$[C];if(void 0!==D)return D.exports;var V=$[C]={exports:{}};return x[C].call(V.exports,V,V.exports,v),V.exports}v(7452);var C=new(v(3432));globalThis.ActivatePanelOS=()=>{C.UpdateActiveStatus(!0)},globalThis.DeactivatePanelOS=()=>{C.UpdateActiveStatus(!1)},globalThis.UpdatePanelOSConfig=()=>{C.UpdateConfig()},globalThis.GetAdBlockerStatus=(x,$)=>{C.GetAdBlockerStatus(x,$)},globalThis.GetAdBlockerCounters=(x,$,v)=>{C.GetAdBlockerCounters(x,$,v)},globalThis.EnableAdBlocker=(x,$,v)=>{C.EnableAdBlocker(x,$,v)},globalThis.DisableAdBlocker=(x,$,v)=>{C.DisableAdBlocker(x,$,v)},globalThis.GetExcludeList=(x,$,v)=>{C.GetExcludeList(x,$,v)},globalThis.AddIntoExcludeList=(x,$,v,D)=>{C.AddIntoExcludeList(x,$,v,D)},globalThis.RemoveFromExcludeList=(x,$,v,D)=>{C.RemoveFromExcludeList(x,$,v,D)},globalThis.HasItemInExcludeList=(x,$,v,D)=>{C.HasItemInExcludeList(x,$,v,D)},globalThis.AddCurrentDomainIntoExcludeList=(x,$)=>{C.AddCurrentDomainIntoExcludeList(x,$)},globalThis.AddCurrentPageIntoExcludeList=(x,$)=>{C.AddCurrentPageIntoExcludeList(x,$)},globalThis.GetCurrentDomain=(x,$)=>{C.GetCurrentDomain(x,$)},globalThis.GetCurrentPageUrl=(x,$)=>{C.GetCurrentPageUrl(x,$)},globalThis.EnableDataCollection=(x,$)=>{C.EnableDataCollection(x,$)},globalThis.DisableDataCollection=(x,$)=>{C.DisableDataCollection(x,$)},globalThis.GetDataCollectionStatus=(x,$)=>{C.GetDataCollectionStatus(x,$)},C.Init()})();