(()=>{var x={7452:x=>{var $=function(x){"use strict";var $,v=Object.prototype,C=v.hasOwnProperty,D="function"==typeof Symbol?Symbol:{},V=D.iterator||"@@iterator",p=D.asyncIterator||"@@asyncIterator",K=D.toStringTag||"@@toStringTag";function Z(x,$,v){return Object.defineProperty(x,$,{value:v,enumerable:!0,configurable:!0,writable:!0}),x[$]}try{Z({},"")}catch(x){Z=function(x,$,v){return x[$]=v}}function O(x,$,v,C){var D=$&&$.prototype instanceof u?$:u,V=Object.create(D.prototype),p=new L(C||[]);return V._invoke=function(x,$,v){var C=G;return function(D,V){if(C===M)throw new Error("Generator is already running");if(C===_){if("throw"===D)throw V;return i()}for(v.method=D,v.arg=V;;){var p=v.delegate;if(p){var K=I(p,v);if(K){if(K===e)continue;return K}}if("next"===v.method)v.sent=v._sent=v.arg;else if("throw"===v.method){if(C===G)throw C=_,v.arg;v.dispatchException(v.arg)}else"return"===v.method&&v.abrupt("return",v.arg);C=M;var Z=U(x,$,v);if("normal"===Z.type){if(C=v.done?_:w,Z.arg===e)continue;return{value:Z.arg,done:v.done}}"throw"===Z.type&&(C=_,v.method="throw",v.arg=Z.arg)}}}(x,v,p),V}function U(x,$,v){try{return{type:"normal",arg:x.call($,v)}}catch(x){return{type:"throw",arg:x}}}x.wrap=O;var G="suspendedStart",w="suspendedYield",M="executing",_="completed",e={};function u(){}function z(){}function b(){}var a={};Z(a,V,(function(){return this}));var F=Object.getPrototypeOf,k=F&&F(F(N([])));k&&k!==v&&C.call(k,V)&&(a=k);var A=b.prototype=u.prototype=Object.create(a);function m(x){["next","throw","return"].forEach((function($){Z(x,$,(function(x){return this._invoke($,x)}))}))}function X(x,$){function v(D,V,p,K){var Z=U(x[D],x,V);if("throw"!==Z.type){var O=Z.arg,G=O.value;return G&&"object"==typeof G&&C.call(G,"__await")?$.resolve(G.__await).then((function(x){v("next",x,p,K)}),(function(x){v("throw",x,p,K)})):$.resolve(G).then((function(x){O.value=x,p(O)}),(function(x){return v("throw",x,p,K)}))}K(Z.arg)}var D;this._invoke=function(x,C){function V(){return new $((function($,D){v(x,C,$,D)}))}return D=D?D.then(V,V):V()}}function I(x,v){var C=x.iterator[v.method];if(C===$){if(v.delegate=null,"throw"===v.method){if(x.iterator.return&&(v.method="return",v.arg=$,I(x,v),"throw"===v.method))return e;v.method="throw",v.arg=new TypeError("The iterator does not provide a 'throw' method")}return e}var D=U(C,x.iterator,v.arg);if("throw"===D.type)return v.method="throw",v.arg=D.arg,v.delegate=null,e;var V=D.arg;return V?V.done?(v[x.resultName]=V.value,v.next=x.nextLoc,"return"!==v.method&&(v.method="next",v.arg=$),v.delegate=null,e):V:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,e)}function n(x){var $={tryLoc:x[0]};1 in x&&($.catchLoc=x[1]),2 in x&&($.finallyLoc=x[2],$.afterLoc=x[3]),this.tryEntries.push($)}function l(x){var $=x.completion||{};$.type="normal",delete $.arg,x.completion=$}function L(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(n,this),this.reset(!0)}function N(x){if(x){var v=x[V];if(v)return v.call(x);if("function"==typeof x.next)return x;if(!isNaN(x.length)){var D=-1,p=function v(){for(;++D<x.length;)if(C.call(x,D))return v.value=x[D],v.done=!1,v;return v.value=$,v.done=!0,v};return p.next=p}}return{next:i}}function i(){return{value:$,done:!0}}return z.prototype=b,Z(A,"constructor",b),Z(b,"constructor",z),z.displayName=Z(b,K,"GeneratorFunction"),x.isGeneratorFunction=function(x){var $="function"==typeof x&&x.constructor;return!!$&&($===z||"GeneratorFunction"===($.displayName||$.name))},x.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,b):(x.__proto__=b,Z(x,K,"GeneratorFunction")),x.prototype=Object.create(A),x},x.awrap=function(x){return{__await:x}},m(X.prototype),Z(X.prototype,p,(function(){return this})),x.AsyncIterator=X,x.async=function($,v,C,D,V){void 0===V&&(V=Promise);var p=new X(O($,v,C,D),V);return x.isGeneratorFunction(v)?p:p.next().then((function(x){return x.done?x.value:p.next()}))},m(A),Z(A,K,"Generator"),Z(A,V,(function(){return this})),Z(A,"toString",(function(){return"[object Generator]"})),x.keys=function(x){var $=[];for(var v in x)$.push(v);return $.reverse(),function v(){for(;$.length;){var C=$.pop();if(C in x)return v.value=C,v.done=!1,v}return v.done=!0,v}},x.values=N,L.prototype={constructor:L,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=$,this.done=!1,this.delegate=null,this.method="next",this.arg=$,this.tryEntries.forEach(l),!x)for(var v in this)"t"===v.charAt(0)&&C.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=$)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if("throw"===x.type)throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var v=this;function D(C,D){return K.type="throw",K.arg=x,v.next=C,D&&(v.method="next",v.arg=$),!!D}for(var V=this.tryEntries.length-1;V>=0;--V){var p=this.tryEntries[V],K=p.completion;if("root"===p.tryLoc)return D("end");if(p.tryLoc<=this.prev){var Z=C.call(p,"catchLoc"),O=C.call(p,"finallyLoc");if(Z&&O){if(this.prev<p.catchLoc)return D(p.catchLoc,!0);if(this.prev<p.finallyLoc)return D(p.finallyLoc)}else if(Z){if(this.prev<p.catchLoc)return D(p.catchLoc,!0)}else{if(!O)throw new Error("try statement without catch or finally");if(this.prev<p.finallyLoc)return D(p.finallyLoc)}}}},abrupt:function(x,$){for(var v=this.tryEntries.length-1;v>=0;--v){var D=this.tryEntries[v];if(D.tryLoc<=this.prev&&C.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var V=D;break}}V&&("break"===x||"continue"===x)&&V.tryLoc<=$&&$<=V.finallyLoc&&(V=null);var p=V?V.completion:{};return p.type=x,p.arg=$,V?(this.method="next",this.next=V.finallyLoc,e):this.complete(p)},complete:function(x,$){if("throw"===x.type)throw x.arg;return"break"===x.type||"continue"===x.type?this.next=x.arg:"return"===x.type?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):"normal"===x.type&&$&&(this.next=$),e},finish:function(x){for(var $=this.tryEntries.length-1;$>=0;--$){var v=this.tryEntries[$];if(v.finallyLoc===x)return this.complete(v.completion,v.afterLoc),l(v),e}},catch:function(x){for(var $=this.tryEntries.length-1;$>=0;--$){var v=this.tryEntries[$];if(v.tryLoc===x){var C=v.completion;if("throw"===C.type){var D=C.arg;l(v)}return D}}throw new Error("illegal catch attempt")},delegateYield:function(x,v,C){return this.delegate={iterator:N(x),resultName:v,nextLoc:C},"next"===this.method&&(this.arg=$),e}},x}(x.exports);try{regeneratorRuntime=$}catch(x){"object"==typeof globalThis?globalThis.regeneratorRuntime=$:Function("r","regeneratorRuntime = r")($)}},8384:x=>{x.exports=class{static get B(){return"2.0.26"}static get V(){return 1}static get p(){return 5}static get K(){return 5}static get i(){return"https://authentication.urban-vpn.com"}static get C(){return"https://analytics-toolbar.urban-vpn.com"}static get Z(){return"/tickets"}static get D(){return"/install"}static get M(){return`/configuration?pv=${this.B}`}static get U(){return!1}static get O(){return!0}static get t(){return!1}static get W(){return!1}static get $(){return!0}static get N(){return!0}static get v(){return!0}static get G(){return!0}static get L(){return!1}static get S(){return!1}}},3326:(x,$,v)=>{const C=v(5364),D=v(1568);x.exports=class{constructor(x){this.id=x,this.init=!1,this.InspectorConfig=null,this.hasActiveAdblock=!1}Init(x){return this.InspectorConfig=x,!this.init&&this.InspectorConfig&&this.InspectorConfig.active&&(this.init=!0,setTimeout(this.CheckForActiveAdblocker.bind(this),1e3*this.GetAgentActivationTimeout())),this.init}CheckForActiveAdblocker(){document.readyState===D.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.CheckAdblockerActivityStatus.bind(this)):document.readyState!==D.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==D.DOCUMENT_READYSTATE_COMPLETE||this.CheckAdblockerActivityStatus()}CheckAdblockerActivityStatus(){let x=this.CreateDumpAdElements(),$=x.length,v=0;for(;0!==$||this.hasActiveAdblock;){$-=1;let C=setTimeout((()=>{this.CheckAndRemoveTestAd(x[v]),v+=1,C&&clearTimeout(C)}),1e3*this.GetAdblockerAdRemovingTimeout())}}IsElementHidden(x){return!!x&&0===x.offsetHeight}CreateDumpAdElements(){let x=this.GetAdblockerDetectingSrcPatterns();return x&&x.length||(x=[""]),x.map((x=>{let $=document.createElement("iframe");return $.innerHTML="&nbsp;",$.className=this.GetAdblockerDetectionClassName(),$.style.position="absolute",$.style.visibility="hidden",$.style.zIndex="-9999",x&&($.src=x),document.body.appendChild($),$}))}CheckAndRemoveTestAd(x){let $={};$.hasActiveAdblock=this.IsElementHidden(x),x.remove(),C.SendAdBlockInspectorAgentReport(this.id,$,null)}GetAdblockerDetectionClassName(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionClassName}GetAdblockerDetectingSrcPatterns(){return this.init&&this.InspectorConfig&&this.InspectorConfig.detectionSrcPatterns}GetAgentActivationTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.agentActivationTimeoutSec}GetAdblockerAdRemovingTimeout(){return this.init&&this.InspectorConfig&&this.InspectorConfig.adRemovingTimeoutSec}}},3522:(x,$,v)=>{const C=v(8384),D=v(1568),V=v(2880),p=v(5364);x.exports=class{constructor(x,$){this.id=x,this.IOManager=$,this.init=!1,this.tabId=null,this.status=V.GetDefaultAdblockerStatus(),this.excludeList={domains:[],pages:[]},this.IOManager&&(this.IOManager.onAdBlockerStatusChanged=this.onAdBlockerStatusChanged.bind(this),this.IOManager.onAdBlockerSetHiddenAmount=this.SetHiddenAmount.bind(this))}GetStatus(){return this.status}Init(x,$,v){return!this.init&&C.$&&(this.tabId=v,this.status=x,this.excludeList=$,this.init=!0),this.init}onAdBlockerStatusChanged(x){this.status=x}SetHiddenAmount(x){x>0&&p.SendHiddenAdCandidatesAmount(this.id,x)}IsEnabled(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_DISPLAY]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForFacebook(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_FACEBOOK]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTwitter(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_TWITTER]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForReddit(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_REDDIT]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForPinterest(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_PINTEREST]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForInstagram(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_INSTAGRAM]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForTiktok(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_TIKTOK]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsEnabledForLinkedin(){return this.init&&C.$&&this.status[D.ADBLOCKER_FOR_LINKEDIN]===D.ADBLOCKER_STATUS_ENABLED&&this.IsNotExcluded()}IsConfigUseLocal(){return this.init&&this.status[D.USE_LOCAL_CONFIG]===D.ADBLOCKER_STATUS_ENABLED}GetCurrentDomain(){return window.location.origin}GetCurrentPageUrl(){return window.location.href}IsExcluded(){return this.IsExcludedByDomainRule()||this.IsExcludedByPageRule()}IsNotExcluded(){return!this.IsExcluded()}IsExcludedByDomainRule(){return-1!==this.excludeList.domains.indexOf(this.GetCurrentDomain())}IsExcludedByPageRule(){return-1!==this.excludeList.pages.indexOf(this.GetCurrentPageUrl())}IsElementHidden(x){return"hidden"===x.getAttribute(D.ATTRIBUTE_BIS_HIDE_STATUS)}}},9346:(x,$,v)=>{const C=v(9358),D=v(533),V=v(2880),p=v(1568),K=v(8384);x.exports=class extends D{constructor(x){super(),this.id=x,this.active=!1,this.candidates=[],this.hiddenAmount=0,this.pageUrl="",this.ticketId="",this.onPageRefreshed=null,this.isActive=!1,this.available=!1,this.elementId=0}getGlobalContainer(){}sendAdCandidatesToBackground(){}getUniqueContentId(){}get CandidatesCount(){return this.candidates.length}get Candidates(){return this.candidates}get HiddenAmount(){return this.hiddenAmount}get PageUrl(){return this.pageUrl}get TicketId(){return this.ticketId}get IsActive(){return this.active}Activated(){this.active=!0}CandidateHidden(){this.hiddenAmount=this.hiddenAmount+1}ClearHiddenCounter(){this.hiddenAmount=0}ClearCandidates(){this.candidates=[]}AddCandidate(x){this.candidates.push(x)}PageRefreshed(x,$){this.pageUrl=x,this.ticketId=$,this.onPageRefreshed&&this.onPageRefreshed(x,$)}getSponsorTwitterScreenName(x){let $=this.getSponsorPageRelativeUrl(x),v=$.lastIndexOf("/")+1;return $.substring(v)}getSponsorRedditScreenName(x){let $=this.getSponsorScreenNameReddit(x);return $?$.replace(/^.*\/user\//gi,"").replace(/\/.*/gi,""):""}getSponsorPageRelativeUrl(x){let $="",v=x.querySelectorAll("a");if(v.length){$=v[0].getAttribute("href");let x=v[0].getBoundingClientRect().x;v.forEach((v=>{v.getBoundingClientRect().x<x&&($=v.getAttribute("href"),x=v.getBoundingClientRect().x)}))}return $}getSponsorScreenNameReddit(x){let $,v=Array.from(x.querySelectorAll("a[href]"));for(let x of v){const v=new RegExp(/^\/user\/.*/),C=x.getAttribute("href");if(C&&v.test(C)){$=C.replace(/\/user\//,"").replace(/\/.*/,"");break}}return $}get Context(){return this}getAdTwitterObject(x,$,v,D){let p=V.SetFullSizeToElement($),K=V.GetCookie("ct0");return{content:C.encode(x.outerHTML),screenName:this.getSponsorTwitterScreenName(x),stylesByElementBisId:D?{}:this.getStylesByElementsBisId(x),adPlacementType:v,size:p,userDataByScreenName:"",token:K}}getAdRedditObject(x,$,v,D){let p=V.SetFullSizeToElement(x);return{content:C.encode($.outerHTML),screenName:this.getSponsorRedditScreenName($),adPlacementType:D,targetUrl:v,size:p}}getAdLinkedinObject(x,$,v,D,p,K,Z=null){let O=V.SetFullSizeToElement(x);return{content:C.encode($.outerHTML),socialAdvertiserUrl:p,advertiserName:K,advertiserUrl:"",adPlacementType:v,targetUrl:D,size:O,cookie:V.GetAllCookies(),uniqueDataId:Z}}getAdPinterestObject(x,$,v,D,p,K,Z){let O=V.SetFullSizeToElement(x),U=this.getUniqueContentId($);return{content:C.encode($.outerHTML),screenName:v,adPlacementType:Z,targetUrl:D,size:O,adText:p,advertiserUrl:K,uniqueContentId:U}}getAdInstagramObject(x,$,v,D,p,K){let Z=V.SetFullSizeToElement(x);return{content:C.encode($.outerHTML),screenName:v,adPlacementType:K,targetUrl:D,size:Z,aboutPageUrl:p}}setSizesAndIdForAllElements(x){if(x&&x.setAttribute){let $=this.getElementId();x.setAttribute(p.ATTRIBUTE_BIS_ELEMENT_ID,$),x.querySelectorAll("*").forEach((x=>{let $=this.getElementId();x.setAttribute&&(x.setAttribute(p.ATTRIBUTE_BIS_ELEMENT_ID,$),V.SetFullSizeToElement(x))}))}}isEmpty(x){return void 0===x||0===x.length}getElementId(){return this.elementId++}set setActive(x){"boolean"==typeof x&&(this.isActive=x)}set setAvailable(x){"boolean"==typeof x&&(this.available=x)}HideElement(x){x&&x.style&&(x.style.cssText+=p.STYLES_HIDE_ELEMENT,x.setAttribute(p.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}HideElementForInstagramFeedOnly(x){x&&x.style&&(x.firstElementChild.style.cssText+=p.STYLES_HIDE_INSTAGRAM_FEED_AD[0],x.style.cssText+=p.STYLES_HIDE_INSTAGRAM_FEED_AD[1],x.setAttribute(p.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"),this.CandidateHidden())}UnhideElement(x){if(x&&x.style){let $=x.style.cssText;$.includes(p.STYLES_HIDE_ELEMENT)&&($=$.replace(p.STYLES_HIDE_ELEMENT,""),x.style.cssText=$)}}removeCloneElement(x){x.remove()}isCarousel(x){let $=x.querySelector("ul");return!!$&&$.offsetHeight>40}isVideo(x,$){return!(!x||!x.querySelectorAll($).length)}doesElementExists(x){if(!x)return!1;let $=x.outerHTML;return document.querySelector("html").outerHTML.includes($)}addRedBorderForCandidates(x){K.t&&(x.style.cssText+="border: 6px solid red !important;")}}},1153:(x,$,v)=>{const C=v(1568),D=v(2880),V=v(7235),p=v(3210),K=v(4430),Z=v(855),O=v(97),U=v(4919),G=v(5465),w=v(2075),M=v(3375),_=v(9181),e=v(5849),u=v(9203),z=v(1368);x.exports=class{constructor(x,$,v,C){if(this.id=x,this.Config=$,this.AdBlockerAgent=C,this.IOManager=v,this.PageUrl=document.location.href,this.FacebookAds=null,this.TwitterAds=null,this.RedditAds=null,this.SkinAds=null,this.HTML5Ads=null,this.VideoAds=null,this.PinterestAds=null,this.InstagramAds=null,this.LinkedinAds=null,this.TwitchAds=null,this.TiktokAds=null,this.IsBlacklistedPublisher=D.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),!this.IsBlacklistedPublisher)switch(!0){case D.IsFacebookUrl(this.PageUrl):this.FacebookAds=new O(this.id,this.Config,this.AdBlockerAgent);break;case D.IsTwitterUrl(this.PageUrl):this.TwitterAds=new U(this.id,this.Config,this.AdBlockerAgent);break;case D.IsRedditUrl(this.PageUrl):this.RedditAds=new G(this.id,this.Config,this.AdBlockerAgent);break;case D.IsTiktokUrl(this.PageUrl):this.TiktokAds=new e(this.id,this.Config,this.AdBlockerAgent);break;case D.IsPinterestUrl(this.PageUrl):this.PinterestAds=new w(this.id,this.Config,this.AdBlockerAgent);break;case D.IsInstagramUrl(this.PageUrl):this.InstagramAds=new M(this.id,this.Config,this.AdBlockerAgent);break;case D.IsLinkedinUrl(this.PageUrl):this.LinkedinAds=new _(this.id,this.Config,this.AdBlockerAgent);break;case D.IsTwitchUrl(this.PageUrl)&&this.Config.twitchConfig.COLLECT_INSTREAM_ADS:this.TwitchAds=new u(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new p(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new K(this.id,this.Config,this.IOManager,this.AdBlockerAgent);break;case D.isAI(this.PageUrl,this.Config):this.AIManager=new z(this.id,this.Config,this.PageUrl);break;default:this.SkinAds=new V(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.BannerAds=new p(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.HTML5Ads=new K(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.VideoAds=new Z(this.id,this.Config,this.IOManager)}}ActivateAdsdetectors(){this.IsBlacklistedPublisher||(document.readyState===C.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.StartAdsdetectors.bind(this)):document.readyState!==C.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==C.DOCUMENT_READYSTATE_COMPLETE||this.StartAdsdetectors())}StartAdsdetectors(){this.SkinAds&&this.SkinAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.BannerAds&&this.BannerAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.HTML5Ads&&this.HTML5Ads.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.VideoAds&&this.VideoAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.FacebookAds&&this.FacebookAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.TwitterAds&&this.TwitterAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.RedditAds&&this.RedditAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.PinterestAds&&this.PinterestAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.InstagramAds&&this.InstagramAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.LinkedinAds&&this.LinkedinAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER),this.TwitchAds&&this.TwitchAds.ActivateDetector(C.ACTIVATION_BY_ADS_MANAGER)}PageRefreshed(x,$){this.SkinAds&&this.SkinAds.PageRefreshed(x,$),this.BannerAds&&this.BannerAds.PageRefreshed(x,$),this.HTML5Ads&&this.HTML5Ads.PageRefreshed(x,$),this.VideoAds&&this.VideoAds.PageRefreshed(x,$),this.FacebookAds&&this.FacebookAds.PageRefreshed(x,$),this.TwitterAds&&this.TwitterAds.PageRefreshed(x,$),this.RedditAds&&this.RedditAds.PageRefreshed(x,$),this.PinterestAds&&this.PinterestAds.PageRefreshed(x,$),this.InstagramAds&&this.InstagramAds.PageRefreshed(x,$),this.LinkedinAds&&this.LinkedinAds.PageRefreshed(x,$),this.TiktokAds&&this.TiktokAds.PageRefreshed(x,$),this.TwitchAds&&this.TwitchAds.pageRefreshed(x,$),this.AIManager&&this.AIManager.pageRefreshed(x,$)}GetHtml5CandidatesPrebuildInfo(){return this.HTML5Ads&&this.HTML5Ads.IsActive?this.HTML5Ads.GetPrebuildInfo():[]}}},1104:(x,$,v)=>{const C=v(6882);x.exports=class{constructor(x,$){this.id=x,this.onGotWindowMessageCallback=$,this.mesToFrameDeactivationIntervalId=null}SetId(x){this.id=x}ActivateMesToFrameContentListener(x){this.mesToFrameDeactivationIntervalId||(this.mesToFrameDeactivationIntervalId=setInterval(this.CheckMesToFrameContent.bind(this),300),setTimeout(this.DeactivateMesToFrameContentListener.bind(this),3e3))}CheckMesToFrameContent(){try{let x=document.body.getAttribute("bis_mes_to_fr");if(x&&x){let $=JSON.parse(x);document.body.setAttribute("bis_mes_to_fr",""),C.IsValid($)&&this.onGotWindowMessageCallback&&this.onGotWindowMessageCallback($),this.DeactivateMesToFrameContentListener()}}catch(x){}}DeactivateMesToFrameContentListener(){this.mesToFrameDeactivationIntervalId&&(clearInterval(this.mesToFrameDeactivationIntervalId),this.mesToFrameDeactivationIntervalId=null)}}},3210:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(9358),p=v(9346),K=v(5364),Z=v(1568);x.exports=class extends p{constructor(x,$,v,C){super(x),this.Config=$,this.bannerAdsConfig=this.Config.BannerAdsConfig,this.IOManager=v,this.IOManager.onGotBannerCandidatesExtractionStatusesCallback=this.onGoBannerCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=C}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),350),setInterval((()=>{this.DetectCandidates()}),700)}PushCandidate(x,$){let v={bisId:$,content:V.encode(x)};this.AddCandidate(v)}IsValidCandidateSize(x){return x&&x.width>70&&x.height>40&&x.height<1100}SetBorderToCandidate(x){x&&C.t&&(C.W?x.style.cssText+=Z.STYLES_BORDER_BANNER_URL_EXTRACTED:x.style.cssText+="border: 6px solid red !important;")}SendCandidatesToBackground(){this.Candidates.length&&K.SendAdCandidates(this.id,this.Candidates,Z.MESSAGE_TYPE_CANDIDATES_DATA_BANNERS,null)}DetectCandidates(){this.ClearCandidates();let x=D.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.FULL_IMG_COLLECTION);for(let $=0;$<x.length;$++){let v=x[$];if(!v)continue;let C=v.src.toLowerCase(),V=this.getTagWithHref(v);if(!V)continue;let p=V.href.toLowerCase(),K=!1;if((!this.filterNonAdBanner(v)||this.isRedirectInHref(V))&&(D.IsInFilterList(this.Config.BlacklistBannerHref,p)||D.IsInFilterList(this.Config.BlacklistBannerImgSrc,C)||v.hasAttribute("bis_skin_element")||(D.isValidUrl(C)&&D.isValidUrl(p)||D.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,C)||D.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,p))&&(K=!0),K)){let x=v.getBoundingClientRect();if(this.IsValidCandidateSize(x)){this.SetBorderToCandidate(v),D.SetFullSizeToElement(v),D.SetFullSizeToElement(V);let x=D.GenerateAndSetBisIdToBanner(v);this.PushCandidate(V.outerHTML,x)}}}let $=D.QuerySelectorAll(document,this.bannerAdsConfig.QUERIES.ON_EVENT_IMG_COLLECTION);for(let x=0;x<$.length;x++){let v=$[x],C=v.src.toLowerCase();if(!D.IsInFilterList(this.Config.BlacklistBannerImgSrc,C)&&(D.isValidUrl(C)&&!D.IsUrlFromHost(document.location.host,C)||D.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,C))){let x=v.getBoundingClientRect();if(this.IsValidCandidateSize(x)){this.SetBorderToCandidate(v),D.SetFullSizeToElement(v);let x=D.GenerateAndSetBisIdToBanner(v);this.PushCandidate(v.outerHTML,x)}}}this.SendCandidatesToBackground()}filterNonAdBanner(x){let $=window.location.host||"__NULL__",v=x.src.toLowerCase(),C=v.match(/\/\/(www\.)?[A-Za-z0-9.]+/),V=this.getTagWithHref(x),p=V?V.href.match(/\/\/(www\.)?[A-Za-z0-9.]+/):"",K=document.querySelector("head").outerHTML,Z=D.IsUrlFromHost($,V.href);return p=p?p[0].replace("//",""):"",C=C?C[0].replace("//",""):"__NULL__",$=0===$.indexOf("www")?$.replace("www.",""):$,Z||K.includes(p)||v.includes($)&&Z||-1!==v.search(/^data/)}isRedirectInHref(x){let $=x.href;return!!$&&$.search(/=https?/)>0}onGoBannerCandidatesExtractionStatuses(x){if(C.t&&C.W&&x&&x.length)for(let $=0;$<x.length;$++){let v=D.QuerySelector(document,`*[bis_id="${x[$].bannerId}"]`);v&&D.UpdateCandidateStatusBorderColor(v,x[$].extractionStatus)}}getTagWithHref(x){let $=x.parentElement;for(let x=0;x<5&&"A"!==$.tagName;x++)$=$.parentElement;return"A"!==$.tagName&&($=null),$}}},1245:(x,$,v)=>{v(1568);const C=v(9358);x.exports=class{constructor(x,$){this.id=x,this.configEncoded=$,this.config=JSON.parse(C.decode($)),this.counterTriesToSave=0,this.SaveToStorageConfig()}GetConfigEncoded(){return this.configEncoded}get BlacklistPublishers(){return this.config.filterLists.blacklistPublishers}get BlacklistBannerImgSrc(){return this.config.filterLists.blacklistBannerImgSrc}get BlacklistBannerHref(){return this.config.filterLists.blacklistBannerHref}get BlacklistIframeSrc(){return this.config.filterLists.blacklistIframeSrc}get BlacklistIframeId(){return this.config.filterLists.blacklistIframeId}get WhitelistCandidatesUrlKeyWords(){return this.config.filterLists.whitelistCandidatesUrlKeyWords}get WhitelistRedirectionCode(){return this.config.filterLists.whitelistRedirectionCode}GetVideoValidatorsForHTML(){return this.config.videoValidatorsForHTML}GetVideoValidatorsForJS(){return this.config.videoValidatorsForJS}GetVideoValidatorsForXHR(){return this.config.videoValidatorsForXHR}get FacebookConfig(){return this.config.facebookConfig}get TwitterConfig(){return this.config.twitterConfig}get RedditConfig(){return this.config.redditConfig}get PinterestConfig(){return this.config.pinterestConfig}get LinkedinConfig(){return this.config.linkedinConfig}get TiktokConfig(){return this.config.tiktokConfig}get GetInstagramConfig(){return this.config.instagramConfig}GetAdBlockInspectorConfig(){return this.config.adBlockInspectorConfig}get BannerAdsConfig(){return this.config.bannerAdsConfig}get Html5AdsConfig(){return this.config.HTML5AdsConfig}get _(){return this.config.aiMessagesConfig||{}}get u(){return this._.CLAUDE}get F(){return this._.CHATGPT}get k(){return this._.COPILOT}get m(){return this._.PERPLEXITY}get X(){return this._.META_AI}get I(){return this._.DEEPSEEK}get l(){return this._.GEMINI}get BlacklistTargetUrl(){return this.config.filterLists.blacklistTargetUrl}get BlacklistKeyWordsInContent(){return this.config.filterLists.blacklistKeyWordsInContent}GetHtml5TargetUrlDetectionConfig(){return this.config.html5TargetUrlDetectionConfig}get twitchConfig(){return this.config.twitchConfig}static get CheckBisDataExist(){try{return!!sessionStorage.getItem("bis_data")}catch(x){return null}}SaveToStorageConfig(){const x=JSON.stringify({id:this.id,config:this.config});sessionStorage.setItem("bis_data",x),this.counterTriesToSave++}get amountTriesSaveConfig(){return this.counterTriesToSave}}},5364:(x,$,v)=>{const C=v(1568),D=v(6882),V=v(2880);class p{constructor(x,$){this.id=x,this.init=!1,this.onGotHTML5CandidatesExtractionStatusesCallback=null,this.onGotSkinAdCandidatesExtractionStatusesCallback=null,this.onGotBannerCandidatesExtractionStatusesCallback=null,this.onGotVideoXHRTrafficCallback=null,this.onGotTwitchVideoInstreamDataCallback=null,this.onAdBlockerStatusChanged=null,this.onAdBlockerSetHiddenAmount=null,this.onTabUrlChanged=null,this.twitterVideoInfoCandidates=[],this.twitterAdCandidate=[],this.ConfigAgent=$}IsInit(){return this.init}Init(){this.init||(this.init=!0,window.addEventListener("message",(x=>{try{let $=x.data;if(D.IsValid($)){const x=$.type;switch(x){case C.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE:this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback($.content);break;case C.MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA:this.onGotTwitchVideoInstreamDataCallback&&this.onGotTwitchVideoInstreamDataCallback($.content);break;case C.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA:p.SendFBInStreamData(this.id,$.content);break;case C.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA:V.IsFBVideoDataValid($.content)&&p.SendFBVideoData(this.id,$.content);break;case C.MESSAGE_TYPE_PINTEREST_VIDEO_DATA:p.SendPinterestVideoData(this.id,$.content);break;case C.MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA:case C.MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES:case C.MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA:case C.MESSAGE_TYPE_INSTAGRAM_STORY_DATA:p.SendInstagramDataToBgStorage(this.id,$.content,x);break;case C.MESSAGE_TYPE_LINKEDIN_VIDEO_DATA:case C.MESSAGE_TYPE_LINKEDIN_SLIDES_DATA:p.SendLinkedinDataToBgStorage(this.id,$.content,x);break;case C.MESSAGE_TYPE_TWITTER_VIDEO_DATA:p.SendTWVideoData(this.id,$.content);break;case C.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA:p.SendTWCarouselData(this.id,$.content);break;case C.MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES:p.SendTiktokDataToBgStorage(this.id,$.content,x),this.SetAdBlockerHiddenAmount(1);break;case C.MESSAGE_TYPE_REDDIT_VIDEO_DATA:p.SendRedditVideoData(this.id,$.content);break;case C.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA:p.SendRedditRightColumnData(this.id,$.content);break;case C.MESSAGE_TYPE_CLAUDE_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_CLAUDE_DATA);break;case C.MESSAGE_TYPE_CHATGPT_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_CHATGPT_DATA);break;case C.MESSAGE_TYPE_DEEPSEEK_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_DEEPSEEK_DATA);break;case C.MESSAGE_TYPE_COPILOT_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_COPILOT_DATA);break;case C.MESSAGE_TYPE_PERPLEXITY_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_PERPLEXITY_DATA);break;case C.MESSAGE_TYPE_META_AI_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_META_AI_DATA);break;case C.MESSAGE_TYPE_GEMINI_DATA:p.sendAIMessageCandidates(this.id,$.content,C.MESSAGE_TYPE_GEMINI_DATA);break;case C.MESSAGE_TYPE_CONFIG_NOT_FOUND:this.ConfigAgent.SaveToStorageConfig(),this.sendResponseConfigSaved()}}}catch(x){}}),!1),V.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((x=>{let $=x;D.IsValid($)&&$.to===this.id&&($.type===C.MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES?this.onGotHTML5CandidatesExtractionStatusesCallback&&this.onGotHTML5CandidatesExtractionStatusesCallback($.content):$.type===C.MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES?this.onGotBannerCandidatesExtractionStatusesCallback&&this.onGotBannerCandidatesExtractionStatusesCallback($.content):$.type===C.MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES?this.onGotSkinAdCandidatesExtractionStatusesCallback&&this.onGotSkinAdCandidatesExtractionStatusesCallback($.content):$.type===C.MESSAGE_TYPE_TAB_URL_CHANGED?this.onTabUrlChanged&&this.onTabUrlChanged($.content):$.type===C.MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED&&this.onAdBlockerStatusChanged&&this.onAdBlockerStatusChanged($.content))})))}SetAdBlockerHiddenAmount(x){this.onAdBlockerSetHiddenAmount&&this.onAdBlockerSetHiddenAmount(x)}SendTicket(x){let $=D.EmptyMessage;$.type=C.MESSAGE_TYPE_OUT_TICKET,$.from=this.id,$.to="bg",$.content=x,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage($).then(this.onTicketSend.bind(this)).catch((()=>{}))}onTicketSend(x){x&&x.status}static SendHiddenAdCandidatesAmount(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}static SendInitMes(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_TAB_INITIALIZATION,v.to="bg",v.content=x,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).then((x=>{x&&x.config&&$&&$(x.config)})).catch((()=>{}))}static SendSinglePageReinitMes(x){let $=D.EmptyMessage;$.type=C.MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION,$.to="bg",$.content=x,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage($).catch((()=>{}))}static SendNewPageCreatedTicket(x){let $=D.EmptyMessage;$.type=C.MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET,$.to="bg",$.content=x,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage($).catch((()=>{}))}static SendPanelRegulatorResult(x){let $=D.EmptyMessage;$.type=C.MESSAGE_TYPE_PANEL_REGULATOR_RESULT,$.to="bg",$.content=x,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage($).catch((()=>{}))}static SendMesToBackground(x,$,v,C){let p=D.EmptyMessage;p.type=$,p.from=x,p.to="bg",p.content=v,V.IsOnChromeRuntime()&&(C?chrome.runtime.sendMessage(p).then(C).catch((()=>{})):chrome.runtime.sendMessage(p).catch((()=>{})))}static SendAdCandidates(x,$,v,C){p.SendMesToBackground(x,v,$,C)}static sendAIMessageCandidates(x,$,v){p.SendMesToBackground(x,v,$)}static SendCandidatePlacementsCount(x,$,v,C){p.SendMesToBackground(x,v,$,C)}static SendHtml5CandidatePlacements(x,$,v){p.SendMesToBackground(x,C.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5,$,v)}static SendAdBlockInspectorAgentReport(x,$){p.SendMesToBackground(x,C.MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT,$,null)}static SendTWVideoData(x,$){p.SendMesToBackground(x,C.MESSAGE_TYPE_TWITTER_VIDEO_DATA,$,null)}static SendTWCarouselData(x,$){p.SendMesToBackground(x,C.MESSAGE_TYPE_TWITTER_CAROUSEL_DATA,$,null)}static SendRedditVideoData(x,$){p.SendMesToBackground(x,C.MESSAGE_TYPE_REDDIT_VIDEO_DATA,$,null)}static SendRedditRightColumnData(x,$){p.SendMesToBackground(x,C.MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA,$,null)}static SendVideoHar(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_VIDEO_HAR,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}SendTwitchInstreamData(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}static SendFBVideoData(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_FACEBOOK_VIDEO_DATA,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}static SendPinterestVideoData(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_PINTEREST_VIDEO_DATA,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}static SendInstagramDataToBgStorage(x,$,v){let C=D.EmptyMessage;C.type=v,C.from=x,C.to="bg",C.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(C).catch((()=>{}))}static SendTiktokDataToBgStorage(x,$,v){let C=D.EmptyMessage;C.type=v,C.from=x,C.to="bg",C.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(C).catch((()=>{}))}static SendLinkedinDataToBgStorage(x,$,v){let C=D.EmptyMessage;C.type=v,C.from=x,C.to="bg",C.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(C).catch((()=>{}))}static SendInstagramFullTextData(x,$,v){let C=D.EmptyMessage;C.type=v,C.from=x,C.to="bg",C.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(C).catch((()=>{}))}static SendFBInStreamData(x,$){let v=D.EmptyMessage;$.encodedText=$.content,$.alias=C.VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON,$.mediaType=C.VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON,$.frameId=0,$.framesChain=[],$.contentType="json",delete $.content,v.type=C.MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}static SendInitRequestListener(x,$){let v=D.EmptyMessage;v.type=C.MESSAGE_TYPE_INIT_REQUEST_LISTENER,v.from=x,v.to="bg",v.content=$,V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}sendResponseConfigSaved(){if(this.ConfigAgent.amountTriesSaveConfig>4)return;let x=D.EmptyMessage;x.type=C.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,window.postMessage(x,"*")}}x.exports=p},8229:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x,$,v,C){this.init=!1,this.Config=C,this.chainId=x,this.frameId=$,this.bisId=v,this.documentObj=null,this.onInputsDetectedCallback=null,this.onRedirectsDetectedCallback=null,this.detectedValidationInfo={inputs:!1,redirect:!1}}Init(x,$,v){return!this.init&&x&&(this.init=!0,this.fullIdStr=C.GetFullIdStr(this.chainId,this.frameId,this.bisId),this.documentObj=x,this.onInputsDetectedCallback=$,this.onRedirectsDetectedCallback=v,this.ValidateContent()),this.init}ValidateContent(){if(!this.detectedValidationInfo.inputs){this.GetInputsAmount()>0&&!this.IsIFrameWithInputsException()&&(this.detectedValidationInfo.inputs=!0,this.onInputsDetectedCallback&&this.onInputsDetectedCallback())}this.detectedValidationInfo.redirect||this.HasRedirect()&&(this.detectedValidationInfo.redirect=!0,this.onRedirectsDetectedCallback&&this.onRedirectsDetectedCallback())}GetInputsAmount(){let x=0;try{let $=C.QuerySelectorAll(this.documentObj,"input");$&&$.length&&$.forEach(($=>{let v=$.getBoundingClientRect();v.width>0&&v.height>0&&(x+=1)}))}catch(x){}return x}IsIFrameWithInputsException(){let x=!1,$=C.QuerySelector(this.documentObj,"html");return $&&-1!==$.innerHTML.search(/var clicktag/i)&&(x=!0),x}IsWhiteListedRedirectionCode(x){let $=!1;try{if(x&&x.length&&this.Config){let v=this.Config.WhitelistRedirectionCode;for(let C=0;C<v.length&&!$;C++)x.includes(v[C])&&($=!0)}}catch(x){}return $}HasRedirect(){let x=!1,$=C.QuerySelectorAll(this.documentObj,"script");for(let v=0;v<$.length&&!x;v++){let C=$[v].innerHTML;C.length&&C.includes("location.replace")&&(x=!this.IsWhiteListedRedirectionCode(C))}return x}}},3870:(x,$,v)=>{const C=v(9358),D=v(2880),V=v(6882),p=v(1568),K=v(4503),Z=v(8229),O=v(9877),U=v(855),G=v(1245);class w{constructor(){this.id=null,this.frameId=null,this.chainId=null,this.fullIdStr="",this.init=!1,this.chainActivated=!1,this.finalFrame=!1,this.activated=!1,this.contentSenderTimer=null,this.activationInfo=null,this.IframesIO=null,this.TargetUrlDetector=null,this.ContentValidator=null,this.VideoAds=null,this.Config=null,this.recheckerInterval=null,this.PageUrl=document.location.href,this.counter=10,this.timeoutHandlerForBlockedFrame=null,this.isBlockedFrameInfoGot=!1}Init(){this.init||(this.init=!0,setTimeout(this.SendInitMessage.bind(this),700))}SetBisStatus(){document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_status","ok")}RecheckBisStatus(){document&&document.body&&document.body.getAttribute&&"ok"!==document.body.getAttribute("bis_status")&&this.SetBisStatus()}StopRechecker(){this.recheckerInterval&&(clearInterval(this.recheckerInterval),this.recheckerInterval=null)}SendInitMessage(){let x=document.querySelector("html"),$=x?x.innerHTML:"",v=V.EmptyMessage;v.type=p.MESSAGE_TYPE_IFRAME_INITIALIZATION,v.from=this.id,v.to="bg",v.content={location:document.location.href,contentForSave:{depth:this.findDepthForClosedFrame(window,0),src:document.location.href,content:C.encode($)}},D.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).then(this.onGotInitMesResponse.bind(this)).catch((()=>{}))}findDepthForClosedFrame(x,$=0){const v=x.parent;return v&&v!==top?($++,this.findDepthForClosedFrame(v,$)):$}onGotInitMesResponse(x){const $=x.mes.content.location;this.Config=new G(this.id,x.mes.content.configuration);const v=this.Config?.LinkedinConfig?.FEED.REGEXP_IFRAME_SRC;if(!v)throw new Error("Not found this.Config.LinkedinConfig.FEED.REGEXP_IFRAME_SRC in PosdFrameContent.onGotInitMesResponse");if(!0===new RegExp(v).test($))this.linkedinScenario(x);else this.commonScenario(x)}commonScenario(x){if(x&&x.status&&"ok"===x.status&&V.IsValid(x.mes)&&x.mes.content.activeStatus&&(this.frameId=x.mes.content.frameId,this.fullIdStr=D.GetFullIdStr(this.chainId,this.frameId,this.id),x.mes.content.isMaster)){this.Config=new G(this.id,x.mes.content.configuration);const $=D.IsPublisherInBlacklist(this.PageUrl,this.Config.BlacklistPublishers),v=D.IsInFilterList(this.Config.BlacklistIframeSrc,this.PageUrl),C=D.IsInFilterList(this.Config.BlacklistKeyWordsInContent,document.querySelector("html").innerHTML);if($||v||C)return;this.SetBisStatus(),setTimeout(this.StopRechecker.bind(this),1e4),this.recheckerInterval=setInterval(this.RecheckBisStatus.bind(this),300),this.IframesIO=new K(this.id),this.IframesIO.Init(),this.IframesIO.onGotChainActivationCallback=this.onGotChainActivation.bind(this),this.IframesIO.onGotContentMesCallback=this.onGotContentMes.bind(this),this.VideoAds=new U(this.id,this.Config,this.IframesIO,!$),document&&document.body&&document.body.setAttribute&&document.body.setAttribute("bis_frame_id",this.frameId),"null"===self.origin&&(this.timeoutHandlerForBlockedFrame=setInterval((()=>{this.counter--,this.isBlockedFrameInfoGot||this.counter<=0?clearInterval(this.timeoutHandlerForBlockedFrame):this.requestHeaderInfoFromBG()}),1e3))}}linkedinScenario(x){if(!(x&&x.status&&"ok"===x.status&&V.IsValid(x.mes)))return;let $=document?.documentElement;if(!$)return;let v=$.querySelector("body");if(v){let x=1e3;v.setAttribute(p.ATTRIBUTE_BIS_ELEMENT_ID,x),v.querySelectorAll("*").forEach(($=>{x++,$.setAttribute&&($.setAttribute(p.ATTRIBUTE_BIS_ELEMENT_ID,x),D.SetFullSizeToElement($))}))}let C=setTimeout((()=>{let x=$.outerHTML,v=document.querySelector('span[class="ssplayer-topbar-title-text ssplayer-topbar-ellipsis"]')?.textContent;this.storeLinkedinFrameContent(x,v),clearTimeout(C)}),100)}storeLinkedinFrameContent(x,$){let v=V.EmptyMessage;v.type=p.MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE,v.from=this.id,v.to="bg",v.content={content:C.encode(x),title:$},D.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}requestHeaderInfoFromBG(){let x=V.EmptyMessage;x.type=p.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME,x.from=this.id,x.to="bg",x.content={src:document.location.href},D.IsOnChromeRuntime()&&(this.setMessageListenerForThisIFrame(),chrome.runtime.sendMessage(x).catch((()=>{})))}setMessageListenerForThisIFrame(){chrome.runtime.onMessage.addListener(this.callbackForHeaderInfoRequest.bind(this))}callbackForHeaderInfoRequest(x){let $=arguments.callee;if(x&&x.type&&x.type===p.MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE){let v=x.parentInfo;if(chrome.runtime.onMessage.removeListener($),v){this.isBlockedFrameInfoGot=!0;let x=O.DetectTargetUrlFromWindowObj(this.id,self,this.Config),$={depth:v.depth,headerInfo:v.headerInfo,chainId:v.chainId,configEncoded:this.Config.configEncoded,targetUrlCandidates:x.length?x:[]};this.onGotChainActivation($)}}}onGotChainActivation(x){if(this.chainActivated)return null;if(this.chainActivated=!0,!(x&&x.headerInfo&&x.headerInfo.bisId))return null;this.id=x.headerInfo.bisId,this.IframesIO.SetId(this.id),this.chainId=x.chainId,this.fullIdStr=D.GetFullIdStr(this.chainId,this.frameId,this.id),this.StopRechecker(),this.activationInfo=x,this.Config||x.configEncoded&&x.configEncoded.length&&(this.Config=new G(this.id,x.configEncoded)),this.ContentValidator=new Z(this.chainId,this.frameId,this.id,this.Config),this.ContentValidator.Init(document,this.onContentInputsDetected.bind(this),this.onContentRedirectsDetected.bind(this)),this.TargetUrlDetector=new O(this.chainId,this.frameId,this.id,this.activationInfo.targetUrlCandidates,this.Config),this.TargetUrlDetector.Init(this.IframesIO),w.SetBisId(document,window,this.id),D.SetBisDepth(document.body,x.depth),D.SetBisChainId(document.body,x.chainId),this.InjectJs();let $=setTimeout((()=>{this.onGotActivationMes(),clearTimeout($)}),50)}onGotActivationMes(){if(!this.activated){this.activated=!0;var x=D.QuerySelectorAll(document,"iframe, frame");if(x.length)for(let $=0;$<x.length;$++){const v=x[$];if(D.SetFullSizeToElement(v,w.GetAbsoluteCoordinates(this.activationInfo)),D.GenerateAndSetBisIdToFrame(v),D.SetBisDepth(v,this.activationInfo.depth+1),D.SetBisChainId(v,this.activationInfo.chainId),D.IsIframeHasContentScript(x[$]))w.SendActivationMesToFrame(this.id,this.activationInfo.chainId,v,this.activationInfo.depth+1,this.Config);else{let x=w.GetInvalidChainSegmentContent(this.id,this.activationInfo.chainId,v,this.activationInfo.depth+1,this.Config);w.SendInvalidChainSegmentContent(this.id,x)}}this.TargetUrlDetector.DetectTargetUrl(1e3,this.onTargerUrlDetected.bind(this))}}onTargerUrlDetected(){if(!this.contentSenderTimer){let x=D.GetRandomIntInRange(0,200);this.contentSenderTimer=setTimeout(this.SendContent.bind(this),x)}}SendContent(){w.PrepareContent(this.fullIdStr,document,w.GetAbsoluteCoordinates(this.activationInfo)),w.RemoveInjectedJs(this.fullIdStr,document);let x=document.querySelector("html");if(!x)return;let $=x.outerHTML;if($.length){let x=V.EmptyMessage;x.type=p.MESSAGE_TYPE_IFRAME_CONTENT,x.from=this.id,x.to="bg",x.content={isValid:!0,headerInfo:this.activationInfo.headerInfo,contentFinal:C.encode($),targetUrl:this.TargetUrlDetector.FrameTargetUrl},D.IsOnChromeRuntime()&&chrome.runtime.sendMessage(x).catch((()=>{}))}}onGotChainActivationResponse(){}onGotContentMes(){}onContentInputsDetected(){this.IframesIO.SendInputsDetected()}onContentRedirectsDetected(){this.IframesIO.SendRedirectDetected()}static SetBisId(x,$,v){$&&($.bis_id=v),x&&(x.bis_id=v),x.body&&x.body.setAttribute&&x.body.setAttribute("bis_body_id",v)}static RemoveInjectedJs(x,$){try{let x=$.head.querySelectorAll("script[bis_script]");if(x&&x.length)for(let $=0;$<x.length;$++)x[$].remove()}catch(x){}}static GetAbsoluteCoordinates(x){return{x:x.headerInfo.size.abs_x,y:x.headerInfo.size.abs_y}}static PrepareContent(x,$,v){for(var C=D.QuerySelectorAll($,"*:not(html):not(script):not(head):not(meta):not(link):not(title):not(style):not(param)"),V=0;V<C.length;V++){var p=C[V];if(p)try{var K=!1,Z=window.getComputedStyle(p).backgroundImage;if(Z&&Z.length&&"none"!=Z&&Z.includes("url")&&(Z=Z.replace(/"/g,"'"),K=!0),p.hasAttribute("style")){var O=p.getAttribute("style");O&&p.setAttribute&&(O=O.replace(/"/g,"'"),p.setAttribute("style",O),K&&(p.style.cssText+="background-image: "+Z+";",p.setAttribute("bis_label","style")))}else K&&p.setAttribute&&(p.setAttribute("style","background-image: "+Z+";"),p.setAttribute("bis_label","style"));try{if(p.attributes&&p.attributes.length)for(var U=0;U<p.attributes.length;U++)p.attributes[U]&&p.attributes[U].value&&p.attributes[U].value.length&&"src"!==p.attributes[U].name&&p.attributes[U].value.includes('"')&&(p.attributes[U].value=p.attributes[U].value.replace(/"/g,"'"))}catch(x){}D.SetFullSizeToElement(p,v)}catch(x){}}}static ExtractContent(x,$){return $.document.querySelector("html").outerHTML}static GetFrameHeaderInfo(x,$,v){let D={depth:v,chainId:x,frameId:$.id,src:$.src,size:JSON.parse($.getAttribute("bis_size")),bisId:$.getAttribute("bis_id")};return 0===v&&(D.topHeaderContent=C.encode($.outerHTML)),D}static SendActivationMesToFrame(x,$,v,K,Z){let U=!1;try{const G=document.querySelector("body"),M=self===top?0:G?+G.getAttribute("bis_frame_id"):null;let _="";if(Z&&Z.GetConfigEncoded&&(_=Z.GetConfigEncoded()),v){let G,e=V.EmptyMessage;try{G=v.contentWindow&&Object.keys(v.contentWindow).includes("origin")?v.contentWindow.origin:v.src}catch(x){G=v.src}e.type=p.MESSAGE_TYPE_CHAIN_ACTIVATION,e.from=x,e.to="fr",e.content={chainId:$,depth:K,headerInfo:w.GetFrameHeaderInfo($,v,K),configEncoded:_,targetUrlCandidates:[]};let u=V.EmptyMessage;if(u.type=p.MESSAGE_TYPE_HEADER_INFO_TO_STORAGE,u.from=x,u.to="bg",u.content={chainId:$,depth:K,frameId:M,headerInfo:w.GetFrameHeaderInfo($,v,K)},D.IsOnChromeRuntime()&&chrome.runtime.sendMessage(u).catch((()=>{})),D.IsIframeSecure(v)){if(v.contentWindow&&v.contentWindow.postMessage)try{v.contentWindow.postMessage(e,G)}catch(x){}}else{try{let $=O.DetectTargetUrlFromWindowObj(x,v.contentWindow,Z);$.length&&(e.content.targetUrlCandidates=$)}catch(x){}v.contentWindow.document.body.setAttribute&&v.contentWindow.document.body.setAttribute("bis_activation",C.encode(JSON.stringify(e)))}U=!0}}catch(x){}return U}static GetInvalidChainSegmentContent(x,$,v,V,p){let K={},Z=!1,U=w.GetFrameHeaderInfo($,v,V),G={x:U.size.x,y:U.size.y};try{let M=D.QuerySelectorAll(v.contentWindow.document,"iframe, frame");if(0===M.length)Z=!0;else{Z=!1;for(let v=0;v<M.length;v++)D.SetFullSizeToElement(M[v],G),D.GenerateAndSetBisIdToFrame(M[v]),D.SetBisDepth(M[v],V+1),w.SendActivationMesToFrame(x,$,M[v],V+1,p)}w.PrepareContent(x,v.contentWindow.document,G),K.isValid=!1,K.isChainCompleted=Z,K.headerInfo=U,K.contentFinal=C.encode(w.ExtractContent(x,v.contentWindow)),K.targetUrl=O.DetectTargetUrlFromWindowObj(x,v.contentWindow,p)}catch(x){}return K}static SendInvalidChainSegmentContent(x,$){if($){let v=V.EmptyMessage;v.type=p.MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT,v.from=x,v.to="bg",v.content=$,D.IsOnChromeRuntime()&&chrome.runtime.sendMessage(v).catch((()=>{}))}}InjectJs(){if(document.querySelector('script[bis_script="display"]'))return;let x=document.createElement("script"),$=document.querySelector("head");this.setAttributes(x),$&&$.appendChild(x)}setAttributes(x){const $=D.getURL("../executors/frame.js");x.setAttribute("bis_use","true"),x.setAttribute("bis_script","display"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("bis_id",this.id),x.src=$}}x.exports=w},4430:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(1568),p=v(9346),K=v(3870),Z=v(5364);x.exports=class extends p{constructor(x,$,v,C){super(x),this.Config=$,this.HTML5AdsConfig=this.Config.Html5AdsConfig,this.IOManager=v,this.IOManager.onGotHTML5CandidatesExtractionStatusesCallback=this.onGotHTML5CandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=C,this.topFramesCandidates=[],this.onDetectedCallback=null,this.chainIdCounter=0,this.maxTriesForPreciseAds=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.MAX_TRIES_FIND_ADS}ActivateDetector(){this.Activated(),this.sequentialDetection().catch((()=>{}))}async sequentialDetection(){let x=await this.asyncStartDetectPreciseAds();this.startDetectCandidates(x)}startDetectCandidates(x){x?setInterval(this.startDetectPreciseAds.bind(this),600):setTimeout(this.sequentialDetection.bind(this),500)}startDetectPreciseAds(){this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter();let x=this.detectByQuerySelectors();if(!x.length)return void this.startDetectHTML5AdsCandidates();let $=0;for(let v=0;v<x.length;v++){const C=x[v];C.setAttribute&&(C.setAttribute(V.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(C,!0),this.addRedBorderForCandidates(C),$++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(C))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.startToProcessCandidates($),this.startDetectHTML5AdsCandidates()}asyncStartDetectPreciseAds(){return new Promise((x=>{this.AdBlockerAgent.IsEnabled()&&this.ClearHiddenCounter(),this.maxTriesForPreciseAds<=0&&(this.maxTriesForPreciseAds--,x(!0));let $=this.detectByQuerySelectors();if(!$.length)return x(!1),void this.maxTriesForPreciseAds--;let v=0;for(let x=0;x<$.length;x++){const C=$[x];C.setAttribute&&(C.setAttribute(V.ATTRIBUTE_BIS_PRECISE_AD,1),this.buildCandidateObject(C,!0),this.addRedBorderForCandidates(C),v++,this.AdBlockerAgent.IsEnabled()&&this.HideElement(C))}this.AdBlockerAgent.IsEnabled()&&this.AdBlockerAgent.SetHiddenAmount(this.HiddenAmount),this.maxTriesForPreciseAds--,this.startToProcessCandidates(v),x($.length>0)}))}detectByQuerySelectors(){const x=this.HTML5AdsConfig.PRECISE_ADVERTISING_IDENTIFIERS.QUERY_SELECTORS;let $=[];for(let v of x){let x=Array.from(D.QuerySelectorAll(document,`${v}:not([${V.ATTRIBUTE_BIS_PRECISE_AD}]):not([${V.ATTRIBUTE_BIS_SIZE}])`));x.length&&($=$.concat(...x))}return $}startDetectHTML5AdsCandidates(){let x=D.QuerySelectorAll(document,this.HTML5AdsConfig.QUERIES.IFRAMES_COLLECTION),$=0;if(x.length){for(let v=0;v<x.length;v++){const C=x[v];if(C.getAttribute(V.ATTRIBUTE_BIS_PRECISE_AD))continue;let p=C.src?C.src.toLowerCase():C.src;this.preCheckFrameContent(C)&&(D.IsInFilterList(this.Config.BlacklistIframeSrc,p)||D.IsInFilterList(this.Config.BlacklistIframeId,C.id)?D.SetFullSizeToElement(C):!this.IsFrameFromSite(p)||D.IsInFilterList(this.Config.WhitelistCandidatesUrlKeyWords,p)?(this.buildCandidateObject(C,!1),$+=1,this.addRedBorderForCandidates(C)):D.SetFullSizeToElement(C))}$>0&&this.startToProcessCandidates($)}}startToProcessCandidates(x){Z.SendHtml5CandidatePlacements(this.id,x,null);for(let x=0;x<this.topFramesCandidates.length;x++)this.topFramesCandidates[x].status===V.CANDIDATE_PROCESS_STATUS_DETECTED&&(this.topFramesCandidates[x].status=V.CANDIDATE_PROCESS_STATUS_START_PROCESSING,setTimeout((()=>{this.ActivateCandidateProcessing(this.topFramesCandidates[x])}),3e3+D.GetRandomIntInRange(0,500)))}buildCandidateObject(x,$){let v=x.getBoundingClientRect();if(!$&&v.width<=70&&v.height<=40&&v.height>=1100)return;D.SetFullSizeToElement(x);let C=D.GenerateAndSetBisIdToFrame(x);this.chainIdCounter=this.chainIdCounter+1;let p={ticketId:this.TicketId,pageUrl:this.PageUrl,bisId:C,chainId:this.chainIdCounter,detectionTime:(new Date).getTime(),processingStartTime:null,frame:x,isSecure:D.IsIframeSecure(x),hasContentScript:D.IsIframeHasContentScript(x),status:V.CANDIDATE_PROCESS_STATUS_DETECTED};this.topFramesCandidates.push(p),D.SetBisDepth(x,0),D.SetBisChainId(x,this.chainIdCounter)}preCheckFrameContent(x){if(!x.contentDocument)return!0;const $=x.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.ACCEPTABLE_NODES_IN_IFRAME),v=x.contentDocument.querySelectorAll(this.HTML5AdsConfig.QUERIES.UNACCEPTABLE_NODES_IN_IFRAME);let C=!1;return $.length&&!v.length&&(C=!0),C}onGotHTML5CandidatesExtractionStatuses(x){if(x&&x.length)for(let $=0;$<x.length;$++)if(this.AdBlockerAgent.IsEnabled()&&x[$].extractionStatus.filteredOut)this.UnhideElement(D.QuerySelector(document,`iframe[bis_chainid="${x[$].chainId}"]`));else if(C.t&&C.W){let v=D.QuerySelector(document,`iframe[bis_chainid="${x[$].chainId}"]`);v&&D.UpdateCandidateStatusBorderColor(v,x[$].extractionStatus)}}ActivateCandidateProcessing(x){if(x&&x.status&&x.status===V.CANDIDATE_PROCESS_STATUS_START_PROCESSING){x.processingStartTime=(new Date).getTime(),x.status=V.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED;let $=D.IsIframeSecure(x.frame);x.isSecure!==$&&(x.isSecure=$);let v=D.IsIframeHasContentScript(x.frame);if(x.hasContentScript!==v&&(x.hasContentScript=v),x.hasContentScript)K.SendActivationMesToFrame(this.id,x.chainId,x.frame,0,this.Config);else{let $=K.GetInvalidChainSegmentContent(this.id,x.chainId,x.frame,0,this.Config);if(C.t&&C.W&&$.isChainCompleted){let v={fullContentExtracted:!1,targetUrlExtracted:!1,sentToBackend:!1};$.contentFinal&&$.contentFinal.length&&(v.fullContentExtracted=!0),$.targetUrl&&$.targetUrl.length&&(v.targetUrlExtracted=!0),D.UpdateCandidateStatusBorderColor(x.frame,v)}K.SendInvalidChainSegmentContent(this.id,$)}}}GetPrebuildInfo(){let x=[],$=(new Date).getTime();for(let v=0;v<this.topFramesCandidates.length;v++)this.topFramesCandidates[v].status===V.CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED&&(this.topFramesCandidates[v].status=V.CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT,x.push({ticketId:this.topFramesCandidates[v].ticketId,pageUrl:this.topFramesCandidates[v].pageUrl,bisId:this.topFramesCandidates[v].bisId,chainId:this.topFramesCandidates[v].chainId,timeAfterDetection:$-this.topFramesCandidates[v].detectionTime,timeAfterProcessingStart:$-this.topFramesCandidates[v].processingStartTime}));return x}IsFrameFromSite(x){let $=!1,v=x;if(v.length){let C=v.indexOf("?");C>0?v=x.substring(0,C):(C=v.indexOf("#"),C>0&&(v=x.substring(0,C))),-1!==v.indexOf(window.location.host)?$=!0:D.isValidUrl(v)||"about:blank"===v||($=!0)}return $}}},4503:(x,$,v)=>{const C=v(6882),D=v(1568),V=v(2880),p=v(9358),K=v(1104);x.exports=class{constructor(x){this.id=x,this.init=!1,this.AtrMessageListeners=[],this.webNavigationIframes=[],this.chainActivationListernerIntervalId=null,this.onWindowEmbeddedTargetUrlDetectionCallback=null,this.onGotContentMesCallback=null,this.onGotChainActivationCallback=null,this.onGotVideoXHRTrafficCallback=null,this.chainActivationEventProcessed=!1,this.processedMessages=[]}IsInit(){return this.init}get Context(){return this}SetId(x){this.id=x,this.AtrMessageListener&&this.AtrMessageListener.SetId(x)}Init(){this.init||(this.init=!0,window.addEventListener("message",(x=>{try{var $=x.data;this.ProcessWindowMessage($)}catch(x){}}),!1),V.IsOnChromeRuntime()&&chrome.runtime.onMessage.addListener((x=>{var $=x;C.IsValid($)&&($.type===D.MESSAGE_TYPE_GET_FRAME_CONTENT?$.multiTo.includes(this.id)&&(this.webNavigationIframes=$.content,this.onGotContentMesCallback&&this.onGotContentMesCallback()):$.type===D.MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK&&$.multiTo.includes(this.id)&&this.ActivateWindowClickTargetUrlDetection($.content))})),this.chainActivationListernerIntervalId=setInterval((()=>{try{if(!this.chainActivationEventProcessed&&document&&document.body){let x=document.body.getAttribute("bis_activation");if(x&&x.length){let $=p.decode(x);if("{"===$[0]&&"}"===$[$.length-1]){let x=JSON.parse($);C.IsValid(x)&&x.type===D.MESSAGE_TYPE_CHAIN_ACTIVATION&&(this.chainActivationEventProcessed=!0,clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null,document.body.setAttribute("bis_activation","done"),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(x.content))}}document.body.removeAttribute("bis_activation")}}catch(x){}}),500))}ProcessWindowMessage(x){C.IsValid(x)&&x.posdHash&&!this.processedMessages.includes(x.posdHash)&&(x.posdHash&&x.posdHash.length&&this.processedMessages.push(x.posdHash),x.type===D.MESSAGE_TYPE_CHAIN_ACTIVATION?(this.chainActivationListernerIntervalId&&(clearInterval(this.chainActivationListernerIntervalId),this.chainActivationListernerIntervalId=null),this.onGotChainActivationCallback&&this.onGotChainActivationCallback(x.content)):x.type===D.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND?this.onWindowEmbeddedTargetUrlDetectionCallback&&this.onWindowEmbeddedTargetUrlDetectionCallback(x.content.targetUrlList):x.type===D.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND?(x.to="bg",V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(x).catch((()=>{}))):x.type===D.MESSAGE_TYPE_VIDEO_XHR_CANDIDATE&&this.onGotVideoXHRTrafficCallback&&this.onGotVideoXHRTrafficCallback(x.content))}ActivateWindowEmbeddedTargetUrlDetection(x){try{this.onWindowEmbeddedTargetUrlDetectionCallback=x;let v=C.EmptyMessage;v.type=D.MESSAGE_TYPE_GET_WINDOW_TARGET_URL,v.from=this.id,v.to=this.id+"_w",window.postMessage&&window.postMessage(v,"*");var $=new K(this.id,this.ProcessWindowMessage.bind(this));$.ActivateMesToFrameContentListener(D.MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND),this.AtrMessageListeners.push($)}catch(x){}}ActivateWindowClickTargetUrlDetection(x){try{let v=C.EmptyMessage;v.type=D.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL,v.from=this.id,v.to=this.id+"_w",v.content=x,window.postMessage&&window.postMessage(v,"*");var $=new K(this.id,this.ProcessWindowMessage.bind(this));$.ActivateMesToFrameContentListener(D.MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL),this.AtrMessageListeners.push($)}catch(x){}}SendInputsDetected(){let x=C.EmptyMessage;x.type=D.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS,x.from=this.id,x.to="bg",V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(x).catch((()=>{}))}SendRedirectDetected(){let x=C.EmptyMessage;x.type=D.MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS,x.from=this.id,x.to="bg",V.IsOnChromeRuntime()&&chrome.runtime.sendMessage(x).catch((()=>{}))}}},9700:(x,$,v)=>{v(1568);const C=v(2880);x.exports=class{#x;#$;#v;constructor(x){this.#x=x}injectDetector(x){if(this.#$=x.className,this.#v=x.fileName,document.head){let $=document.createElement("script");this.#C($),x.injectBeforeFirstChild?document.head.insertBefore($,document.head.firstChild):document.head.appendChild($)}}#C(x){const $=C.getURL(`../executors/${this.#v}.js`);x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}}},3129:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(7584),p=v(1153),K=v(5364),Z=v(3522),O=v(3326),U=v(1245),G=v(7376);x.exports=class{constructor(){this.id=null,this.tabId=null,this.init=!1,this.panalyticsId="",this.adsCandidatesDetectionInterval=null,this.ticket=null,this.cycleNumber=0,this.RefreshTicket(),K.SendNewPageCreatedTicket(C.ToJSON(this.ticket))}RefreshTicket(){this.pageUrl=document.location.href,this.ticketId=C.GenerateUUID(),this.cycleNumber=0,this.ticket=V.GetSingleOutTicket(this.panalyticsId,this.ticketId,this.tabId),this.init&&this.AdsManager&&this.AdsManager.PageRefreshed(this.pageUrl,this.ticketId)}Init(){this.init||K.SendInitMes({ticketId:this.ticketId,url:this.pageUrl},this.onGetInitConfig.bind(this))}onGetInitConfig(x){return x.activeStatus?this.init?null:(this.init=!0,this.tabId=x.tabId,this.id="mp_"+x.tabId,this.panalyticsId=x.panalyticsId,this.ticket.tabId=this.tabId,this.ticket[D.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.Config=new U(this.id,x.configuration),this.IOManager=new K(this.id,this.Config),this.IOManager.onTabUrlChanged=this.onTabUrlChanged.bind(this),this.IOManager.Init(),this.AdBlockerAgent=new Z(this.id,this.IOManager),this.AdBlockerAgent.Init(x.adBlockerStatus,x.excludeList,x.tabId),this.AdsManager=new p(this.id,this.Config,this.IOManager,this.AdBlockerAgent),this.PanelsRegulator=new G(this.id),this.PanelsRegulator.Init(this.AdBlockerAgent,this.onGotRegulatorRespond.bind(this)),void(x.activeAdBlockInspectorAgent&&(this.AdBlockInspectorAgent=new O(this.id),this.AdBlockInspectorAgent.Init(this.Config.GetAdBlockInspectorConfig())))):null}onGotRegulatorRespond(x){return!!this.init&&(!!x&&(this.adsCandidatesDetectionInterval=setInterval(this.onAdsCandidatesDetected.bind(this),1e4),this.AdsManager.ActivateAdsdetectors(),K.SendNewPageCreatedTicket(C.ToJSON(this.ticket)),void K.SendPanelRegulatorResult(x)))}onTabUrlChanged(x){return!(!x?.newUrl||!x?.initedTicketId)&&((x.newUrl!==this.pageUrl||x.initedTicketId===this.ticketId)&&(this.RefreshTicket(),K.SendSinglePageReinitMes({ticketId:this.ticketId,url:this.pageUrl}),void K.SendNewPageCreatedTicket(C.ToJSON(this.ticket))))}onAdsCandidatesDetected(){return!!this.init&&(C.IsOnChromeRuntime()?!!this.panalyticsId.length&&(this.cycleNumber=this.cycleNumber+1,this.ticket[D.TICKET_ALIAS_PANALYTICSID]=this.panalyticsId,this.ticket.windowSize=C.GetWindowSize(),this.ticket.firstVisit=this.cycleNumber<=1,this.ticket.adCandidatesHtml5=this.AdsManager.GetHtml5CandidatesPrebuildInfo(),void this.IOManager.SendTicket(C.ToJSON(this.ticket))):(this.adsCandidatesDetectionInterval&&clearInterval(this.adsCandidatesDetectionInterval),!1))}}},7376:(x,$,v)=>{const C=v(8384),D=v(1568),V=v(2880),p=v(9358);x.exports=class{constructor(x){this.id=x,this.init=!1,this.extensionId=""+chrome.runtime.id,this.AdBlockerAgent=null,this.onInitCallback=null}Init(x,$){!this.init&&x&&(this.onInitCallback=$,this.init=!0,this.AdBlockerAgent=x,document.readyState===D.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.ActivateRegulator.bind(this)):document.readyState!==D.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==D.DOCUMENT_READYSTATE_COMPLETE||this.ActivateRegulator())}ActivateRegulator(){this.RegisterPanel(),setTimeout(this.Regulate.bind(this),500)}Regulate(){let x=!0,$="",v=[];try{let C=document.body.getAttribute("bis_register");if(C&&C.length){v=JSON.parse(p.decode(C));for(let x=0;x<v.length&&0===$.length;x++)v[x].master&&($=v[x].extensionId);$.length&&this.extensionId!==$&&(x=!1)}}catch(x){}this.onInitCallback&&this.onInitCallback(x)}GetPanelScore(){let x=C.B.split("."),$=1e4*parseInt(x[0])+100*parseInt(x[1])+parseInt(x[2]),v=this.AdBlockerAgent.GetStatus();return V.IsFacebookUrl(document.location.href)?v[D.ADBLOCKER_FOR_FACEBOOK]===D.ADBLOCKER_STATUS_ENABLED&&($*=10):V.IsTwitterUrl(document.location.href)?v[D.ADBLOCKER_FOR_TWITTER]===D.ADBLOCKER_STATUS_ENABLED&&($*=10):V.IsRedditUrl(document.location.href)?v[D.ADBLOCKER_FOR_REDDIT]===D.ADBLOCKER_STATUS_ENABLED&&($*=10):v[D.ADBLOCKER_FOR_DISPLAY]===D.ADBLOCKER_STATUS_ENABLED&&($*=10),$}UpdateRegister(x){let $={master:!0,extensionId:this.extensionId,adblockerStatus:this.AdBlockerAgent.GetStatus(),version:C.B,score:this.GetPanelScore()},v=!0;for(let C=0;C<x.length&&v;C++)x[C].extensionId===this.extensionId&&(v=!1,x[C]=$);v&&x.push($)}ChooseWinner(x){if(x&&x.length)if(1===x.length);else{let $=0,v=x[$].score;for(let C=0;C<x.length;C++)x[C].master=!1,x[C].score>v&&(v=x[C].score,$=C);x[$].master=!0}}RegisterPanel(){try{let x=[],$=document.body.getAttribute("bis_register");$&&$.length&&(x=JSON.parse(p.decode($))),this.UpdateRegister(x),this.ChooseWinner(x),document.body.setAttribute("bis_register",p.encode(JSON.stringify(x)))}catch(x){}}}},7235:(x,$,v)=>{const C=v(2880),D=v(8384),V=v(9346),p=v(5364),K=v(1568);x.exports=class extends V{constructor(x,$,v,C){super(x),this.Config=$,this.skinAdsConfig=$.config.skinAdsConfig,this.IOManager=v,this.IOManager.onGotSkinAdCandidatesExtractionStatusesCallback=this.onGotSkinAdCandidatesExtractionStatuses.bind(this),this.AdBlockerAgent=C}ActivateDetector(){this.DetectCandidates(),setTimeout((()=>{this.DetectCandidates()}),500),setInterval((()=>{this.DetectCandidates()}),1e3)}SendCandidatesToBackground(){this.Candidates.length&&p.SendAdCandidates(this.id,this.Candidates,K.MESSAGE_TYPE_CANDIDATES_DATA_SKINADS,null)}DetectCandidates(){this.ClearCandidates(),this.GetSkinAdFromBodyBackground(),0==this.CandidatesCount&&this.GetSkinAdFromDivBackground(),this.SendCandidatesToBackground()}GetSkinAdFromBodyBackground(){var x,$={source:[],targetUrl:[]},v=document.body;if(v&&!v.hasAttribute("bis_skin_checked")&&(x=C.GetUrlFromStyleStr(window.getComputedStyle(v).backgroundImage)),x&&C.isValidUrl(x)){v.setAttribute("bis_skin_checked","1");var D={type:"single",src:x,size:C.GetFullElementSize(v)};$.source.push(D);for(var V=C.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION),p=0;p<V.length;p++){var K=V[p];K.setAttribute&&K.setAttribute("bis_skin_checked","1");var Z=K.getBoundingClientRect(),O=K.firstElementChild?K.firstElementChild.getBoundingClientRect():null;K.href&&(Z.width>50&&Z.height>=100&&0==Z.left||O&&O.width>50&&O.height>=100&&0==O.left)&&C.isValidUrl(K.href)&&!$.targetUrl.includes(K.href)&&$.targetUrl.push(K.href),this.findElementsByHref($.targetUrl,K)}}$.source.length&&$.targetUrl.length&&this.AddCandidate($)}GetSkinAdFromDivBackground(){let x={source:[],targetUrl:[]},$=!1,v=C.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_DIV_COLLECTION);for(let D=0;D<v.length&&!$;D++){let V=v[D];V.setAttribute&&V.setAttribute("bis_skin_checked","1");let p=V.getBoundingClientRect();if(p.width>50&&p.height>500&&0==p.left){let v=C.GetUrlFromStyleStr(window.getComputedStyle(V).backgroundImage);if(v&&C.isValidUrl(v)){let D={type:"single",src:v,size:C.GetFullElementSize(V)};x.source.push(D),$=!0}}}if($){let $=C.QuerySelectorAll(document,this.skinAdsConfig.QUERIES.FULL_HREF_COLLECTION);for(let v=0;v<$.length;v++){let D=$[v];D.setAttribute&&D.setAttribute("bis_skin_checked","1");let V=D.getBoundingClientRect();D.href&&0==V.left&&(V.width>50&&V.height>500||V.width>500&&V.height>50)&&C.isValidUrl(D.href)&&!x.targetUrl.includes(D.href)&&x.targetUrl.push(D.href)}}x.source.length&&x.targetUrl.length&&this.AddCandidate(x)}findElementsByHref(x,$){const v=$.href;x.includes(v)&&(this.SetBorderToCandidate($),$.setAttribute("bis_skin_element","1"))}SetBorderToCandidate(x){const $=x.getBoundingClientRect();x&&($.width>1&&$.height>1?x.style.cssText+="border: 6px solid red !important; display: block;":x.firstElementChild.style.cssText+="border: 6px solid red !important; display: block;")}onGotSkinAdCandidatesExtractionStatuses(x){if(D.t&&D.W&&x&&x.length)for(let $=0;$<x.length;$++){let v=C.QuerySelectorAll(document,x[$].query);v&&v.forEach((v=>{v&&C.UpdateCandidateStatusBorderColor(v,x[$].extractionStatus)}))}}}},7584:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(1568);x.exports=class{static GetSingleOutTicket(x,$,v){let p={tabId:v,ticketFormatVersion:3,partnerId:C.p,distributorId:C.K,ticketId:$,firstVisit:!1,url:document.location.href,userAgent:navigator.userAgent,creationTime:D.GetCurrentDataTimeStr(),windowSize:D.GetWindowSize(),timeOnPage:0,adCandidatesSkinAd:[],adCandidatesBanner:[],adCandidatesHtml5:[],adsFacebook:[],adsTwitter:[],adsReddit:[],adsPinterest:[],adsInstagram:[],adsLinkedin:[],adsTiktok:[],aiMessages:[],adCandidatePlacements:{skinAd:0,banner:0,html5:0,facebook:0,twitter:0,reddit:0,pinterest:0,tiktok:0,instagram:0,linkedin:0},videoTraffics:[],activeAdBlocker:!1};p[V.TICKET_ALIAS_PANALYTICSID]=x,p[V.TICKET_ALIAS_PINSTANCEID]=C.V;let K=D.GetBaseHref();""!==K&&(p.base=K);let Z=chrome.runtime.getManifest();return p.extensionVersion=Z.version,p.panelosVersion=C.B,p}}},855:(x,$,v)=>{const C=v(1568),D=v(9358),V=v(2880),p=v(1936),K=v(2938),Z=v(8940),O=v(5364);x.exports=class{constructor(x,$,v){this.id=x,this.Config=$,this.IOManager=v,this.onDetectVideoHarCallback=null,this.VideoTrafficValidator=new Z(this.id,this.Config),this.VideoTrafficDetector=new K(this.id),this.VideoTrafficDetector.InjectXhrDetector(this.Config),this.IOManager.onGotVideoXHRTrafficCallback=this.ProcessVideoXHRTraffic.bind(this)}ActivateDetector(){this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS()}PageRefreshed(x,$){V.IsYouTubeUrl(x)||(this.CheckVideoTrafficInHTML(),this.CheckVideoTrafficInJS())}CheckVideoTrafficInHTML(){let x=new p(C.VIDEO_TRAFFIC_SOURCE_HTML,"GET",window.location.href,"text/html",document.documentElement.outerHTML),$=this.VideoTrafficValidator.Validate(x);$&&this.SendVideoTraffic(x,$)}CheckVideoTrafficInJS(){let x=V.QuerySelectorAll(document,"script");for(let $=0;$<x.length;$++){let v=new p(C.VIDEO_TRAFFIC_SOURCE_JS,"GET",x[$].src,"text/javascript",x[$].innerHTML),D=this.VideoTrafficValidator.Validate(v);D&&this.SendVideoTraffic(v,D)}}ProcessVideoXHRTraffic(x){if(p.IsXHRvalid(x)){let $=new p(C.VIDEO_TRAFFIC_SOURCE_XHR,x.requestMethod,x.url,x.type,x.content,x.encodedPostBody),v=this.VideoTrafficValidator.Validate($);v&&this.SendVideoTraffic($,v)}}SendVideoTraffic(x,$){if(x&&$){let v={requestMethod:x.GetRequestMethod(),url:x.GetUrl(),contentType:x.GetType(),mediaType:$.name,alias:$.alias};if(x.IsEncodedPostBodyExist()&&(v.encodedPostBody=x.GetEncodedPostBody()),$.reduceSizeFilter&&$.reduceSizeFilter.active){let C;if(null!==(C=Z.CreateRegExp($.reduceSizeFilter.reducePattern).exec(x.GetContent()))&&C.length>0&&Math.max(...$.reduceSizeFilter.regResIndexes)<C.length){let x=C.filter(((x,v)=>$.reduceSizeFilter.regResIndexes.includes(v)));v.encodedText=D.encode(x.join(" "))}}else v.encodedText=D.encode(x.GetContent());O.SendVideoHar(this.id,v)}}}},1936:(x,$,v)=>{const C=v(9358);x.exports=class{constructor(x,$,v,C,D,V=null){this.trafficSource=x,this.requestMethod=$,this.url=v,this.type=C,this.content=D,this.SetEncodedPostBody(V)}static IsXHRvalid(x){return x&&x.hasOwnProperty("requestMethod")&&x.hasOwnProperty("url")&&""!==x.url}SetEncodedPostBody(x){x&&"string"==typeof x&&x.length>0&&(this.encodedPostBody=C.encode(x))}GetEncodedPostBody(){return this.encodedPostBody?this.encodedPostBody:null}IsEncodedPostBodyExist(){return!!this.encodedPostBody}GetTrafficSource(){return this.trafficSource}GetRequestMethod(){return this.requestMethod}GetUrl(){return this.url}GetType(){return this.type}GetContent(){return this.content}SetContent(x){this.content=x}SetUrl(x){this.url=x}}},2938:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this.id=x}InjectXhrDetector(x){if(document.head){let $=document.createElement("script");this.setAttributes($,x),document.head.appendChild($)}}setAttributes(x,$){const v=C.getURL("../executors/traffic.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("data-bis-config",JSON.stringify($.config.filterLists.blacklistIframeSrc)),x.src=v}}},8940:(x,$,v)=>{const C=v(1568);class D{constructor(x,$){this.id=x,this.Config=$}Validate(x){let $=[],v=!1;if(x&&(x.GetTrafficSource()===C.VIDEO_TRAFFIC_SOURCE_HTML?($=this.Config.GetVideoValidatorsForHTML(),v=!0):x.GetTrafficSource()===C.VIDEO_TRAFFIC_SOURCE_XHR?($=this.Config.GetVideoValidatorsForXHR(),v=!0):x.GetTrafficSource()===C.VIDEO_TRAFFIC_SOURCE_JS&&($=this.Config.GetVideoValidatorsForJS(),v=!0),v))for(let v of $){if(this.ValidateUseConfiguration(x,v))return this.specificFilterCandidate(x,v)}return!1}ValidateUseConfiguration(x,$){const v=Object.keys($);let C=[];for(let x of v)-1!==x.indexOf("Pattern")&&C.push(x);let V=0,p={domainPattern:"GetUrl",mimePattern:"GetType",contentPattern:"GetContent"};for(let v of C)try{let C=D.CreateRegExp($[v]),K=p[v];V+=C.test(x[K]())?1:0}catch(x){}return V===C.length}static CreateRegExp(x){let $=x.replace(/.*\/([gimy]*)$/,"$1"),v=x.replace(new RegExp("^/(.*?)/"+$+"$"),"$1");return new RegExp(v,$)}specificFilterCandidate(x,$){return!(!x.IsEncodedPostBodyExist()&&"YT_FORCING_KEY"===$.alias)&&$}}x.exports=D},1368:(x,$,v)=>{const C=v(1568),D=v(2880),V=v(100),p=v(9587),K=v(778),Z=v(6912),O=v(8065),U=v(8476),G=v(8375);x.exports=class{#x;#D;#V;#p=null;constructor(x,$,v){switch(this.#x=x,this.#D=$,this.#V=v,!0){case D.isClaudeUrl(this.#V,$):this.#p=new V(this.#x,this.#D);break;case D.isChatgptUrl(this.#V,$):this.#p=new p(this.#x,this.#D);break;case D.isCopilotUrl(this.#V,$):this.#p=new K(this.#x,this.#D);break;case D.isPerplexityUrl(this.#V,$):this.#p=new Z(this.#x,this.#D);break;case D.isMetaUrl(this.#V,$):this.#p=new O(this.#x,this.#D);break;case D.isDeepseekUrl(this.#V,$):this.#p=new U(this.#x,this.#D);break;case D.isGeminiUrl(this.#V,$):this.#p=new G(this.#x,this.#D)}this.#K()}#K(){document.readyState===C.DOCUMENT_READYSTATE_LOADING?document.addEventListener("DOMContentLoaded",this.#Z.bind(this)):document.readyState!==C.DOCUMENT_READYSTATE_INTERACTIVE&&document.readyState!==C.DOCUMENT_READYSTATE_COMPLETE||this.#Z.apply(this)}#Z(){this.#p&&this.#p.activateDetector()}pageRefreshed(x,$){}}},9587:(x,$,v)=>{v(1568);const C=v(9700);x.exports=class extends C{#x;#D={};#O={fileName:"chatgpt",className:"PosdChatgptMessagesCollector:Injector"};constructor(x,$){super(x),this.#x=x,this.#D=$.F||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#O))}}},100:(x,$,v)=>{const C=v(9700);v(1568);x.exports=class extends C{#x;#D={};#O={fileName:"claude",className:"PosdClaudeMessagesCollector:Injector"};#U=!1;constructor(x,$){super(x),this.#x=x,this.#D=$.u||{}}activateDetector(){this.#U||(this.#U=!0,this.injectDetector(this.#O))}}},778:(x,$,v)=>{const C=v(9700);v(1568);x.exports=class extends C{#x;#D={};#O={fileName:"copilot",className:"PosdCopilotMessagesCollector:Injector",injectBeforeFirstChild:!0};#U=!1;constructor(x,$){super(x),this.#x=x,this.#D=$.k||{}}activateDetector(){this.#U||(this.#U=!0,this.injectDetector(this.#O))}}},8476:(x,$,v)=>{v(1568);const C=v(9700);x.exports=class extends C{#x;#D={};#O={fileName:"deepseek",className:"PosdDeepseekMessagesCollector:Injector"};constructor(x,$){super(x),this.#x=x,this.#D=$.I||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#O))}}},8375:(x,$,v)=>{v(1568);const C=v(9700);x.exports=class extends C{#x;#D={};#O={fileName:"gemini",className:"PosdGeminiMessagesCollector:Injector"};constructor(x,$){super(x),this.#x=x,this.#D=$.I||{},this.init=!1}activateDetector(){this.init||(this.init=!0,this.injectDetector(this.#O))}}},8065:(x,$,v)=>{const C=v(9700);v(1568);x.exports=class extends C{#x;#D={};#O={fileName:"meta",className:"PosdMetaMessagesCollector:Injector"};#U=!1;constructor(x,$){super(x),this.#x=x,this.#D=$.X||{}}activateDetector(){this.#U||(this.#U=!0,this.injectDetector(this.#O))}}},6912:(x,$,v)=>{const C=v(9700);v(1568);x.exports=class extends C{#x;#D={};#O={fileName:"perplexity",className:"PosdPerplexityMessagesCollector:Injector"};#U=!1;constructor(x,$){super(x),this.#x=x,this.#D=$.m||{}}activateDetector(){this.#U||(this.#U=!0,this.injectDetector(this.#O))}}},655:(x,$,v)=>{const C=v(2880),D=v(1568);x.exports=class{constructor(x,$,v){this.id=x,this.options=$,this.AdBlockerAgent=v,this.active=!1,this.lastDetectTime=C.GetCurrentTimestampMs()-1e3,this.activateDetectorTime=C.GetCurrentTimestampMs(),this.detectorInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.isObserverAlreadySet=!1,this.onScrollListenerHandler=null,this.onScrollListenerIsOn=!1,this.onScrollCallback=null}ActualizeDetector(){}ActivateMutationObserver(){}DeactivateMutationObserver(){}Detector(){}HideAd(x,$,v){}CheckIfAd(x){}CheckIfAdRendered(x){}ExtractAd(x){}ActivateDetector(){this.active||(this.activateDetectorTime=C.GetCurrentTimestampMs(),this.active=!0,this.options.firstDetectionAfterActivationTimeoutMs&&this.options.firstDetectionAfterActivationTimeoutMs>0&&setTimeout((()=>{this.DetectCandidates(D.AD_DETECTOR_INITIATOR_ACTIVATION)}),this.options.firstDetectionAfterActivationTimeoutMs),this.startIntervalDetectCandidates(D.AD_DETECTOR_INITIATOR_TIMER),this.options.useObserver&&this.IsActualByKeyWordInUrl&&(this.observerNodesListenerInterval=setInterval((()=>{this.observerNodesChecksAmount=this.observerNodesChecksAmount+1,this.ActivateMutationObserver(),(this.isObserverAlreadySet||this.observerNodesChecksAmount>this.options.observerNodesChecksMaxAmount)&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.activateOnScrollEvent())}),this.options.observerNodesCheckIntervalMs)))}DeactivateDetector(x){x===D.AD_DETECTOR_INITIATOR_URL&&(this.DeactivateMutationObserver(),(this.onScrollCallback||this.onScrollListenerIsOn)&&(window.removeEventListener("scroll",this.onScrollCallback),this.onScrollCallback=null,this.onScrollListenerIsOn=!1,this.onScrollListenerHandler&&(clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null))),this.detectorInterval&&(clearInterval(this.detectorInterval),this.detectorInterval=null),this.observerNodesListenerInterval&&(clearInterval(this.observerNodesListenerInterval),this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0),this.activateDetectorTime=C.GetCurrentTimestampMs(),this.lastDetectTime=C.GetCurrentTimestampMs()-1e3,this.active=!1}DetectCandidates(x,$){if(!this.ActualizeDetector()||!this.IsActualByKeyWordInUrl)return void this.checkLimits(x);let v=C.GetCurrentTimestampMs();C.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs?(this.checkLimits(x),$&&this.startIntervalDetectCandidates()):v-this.lastDetectTime>this.options.minTimeAfterLastDetectionMs&&(this.lastDetectTime=v,this.Detector())}get IsActualByKeyWordInUrl(){const x=this.options.urlInvalidKeyWord,$=this.options.urlValidationByKeyWord;if(!x&&!$)return!0;const v=window.location.href;let C=!!x&&x.some((x=>v.includes(x))),D=!$||v.includes($);return!C&&D}checkLimits(x){return!this.options.maxActualizeDetectorWaitTimeMs||(!(C.GetCurrentTimestampMs()-this.activateDetectorTime>this.options.maxActualizeDetectorWaitTimeMs)||(this.DeactivateDetector(x),!1))}activateOnScrollEvent(){this.options.useOnScroll&&!this.onScrollListenerIsOn&&this.IsActualByKeyWordInUrl&&this.ActualizeDetector()&&(this.onScrollCallback=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0)}onScroll(x){this.DetectCandidates(D.AD_DETECTOR_INITIATOR_SCROLL_EVENT),this.startIntervalDetectCandidates(D.AD_DETECTOR_INITIATOR_SCROLL_EVENT),window.removeEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!1,this.onScrollListenerHandler=setTimeout((()=>{window.addEventListener("scroll",this.onScrollCallback),this.onScrollListenerIsOn=!0,clearTimeout(this.onScrollListenerHandler),this.onScrollListenerHandler=null}),this.options.onScrollTimeout)}startIntervalDetectCandidates(x){this.detectorInterval||(this.detectorInterval=setInterval((()=>{this.DetectCandidates(x)}),this.options.detectionIntervalMs))}}},97:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(9358),p=v(1568),K=v(9346),Z=v(5364),O=v(7678),U=v(6335),G=v(7948),w=v(1899),M=v(2300),_=v(1454);x.exports=class extends K{constructor(x,$,v){super(x),this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.fbConfig=$.FacebookConfig,this.AdBlockerAgent=v,this.VideoTrafficDetector=new _(this.id),this.VideoTrafficDetector.InjectDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(p.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetector(x){x===p.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.fbContent=document.querySelector(this.fbConfig.FB_CONTENT),this.fbContent&&(this.DetectorFeed=new U(this.id,this.fbConfig.FEED_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorFeed.HideAd=this.HideAd.bind(this),this.DetectorFeed.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorFeed.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorRightColumn=new w(this.id,this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorRightColumn.HideAd=this.HideAd.bind(this),this.DetectorRightColumn.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorRightColumn.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorWatch=new G(this.id,this.fbConfig.FEED_WATCH_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorWatch.HideAd=this.HideAd.bind(this),this.DetectorWatch.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorWatch.ExtractAd=this.ProcessFbCreative.bind(this),this.DetectorMarketplace=new M(this.id,this.fbConfig.MARKETPLACE_ADS_CONFIG.DETECTOR_OPTIONS,this.AdBlockerAgent,this.fbConfig),this.DetectorMarketplace.HideAd=this.HideAd.bind(this),this.DetectorMarketplace.CheckIfAdRendered=this.IsAdContentRendered.bind(this),this.DetectorMarketplace.ExtractAd=this.ProcessFbCreative.bind(this),this.ActivateDetectors())}ActivateDetectors(){this.DetectorRightColumn.ActivateDetector(),this.DetectorFeed.ActivateDetector(),this.DetectorWatch.ActivateDetector(),this.DetectorMarketplace.ActivateDetector()}DeactivateDetectors(x){this.DetectorRightColumn.DeactivateDetector(x),this.DetectorFeed.DeactivateDetector(x),this.DetectorWatch.DeactivateDetector(x),this.DetectorMarketplace.DeactivateDetector(x)}ProcessFbCreative(x,$,v){try{let V=!1,K=!1,U=!1;if(x){let G=document.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${x}]`);if(G)if(V=!0,K=this.IsAdContentRendered(G,O.GetMinImgsSpacePercentag(this.fbConfig,v)),K){U=this.IsVideoCreative(G),Z.SendCandidatePlacementsCount(this.id,1,p.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK,null);let x={x:0,y:0};if(O.IsPostHidden(G)){G.setAttribute(p.ATTRIBUTE_BIS_SIZE,D.ToJSON(O.GetPostContainerSize(G)));let $=G.getAttribute(p.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);$&&(x.x=parseInt($))}else D.SetFullSizeToElement(G);let V=G.querySelectorAll("*");for(let $=0;$<V.length;$++)D.SetFullSizeToElement(V[$],null,x);let K=[];K.push(this.BuildCreative(G,U,$,v)),this.SendFacebookCandidates(K),C.t&&C.W&&(this.IsVideoCreative(G)?G.style.cssText+=p.STYLES_OUTLINE_VIDEO_AD:G.style.cssText+=p.STYLES_OUTLINE_SUCCESS_DETECT)}else G.removeAttribute&&G.removeAttribute(p.ATTRIBUTE_BIS_ID)}}catch(x){}}BuildCreative(x,$,v,C){let D=O.GetPostContainerSize(x),K=Array.from(document.querySelectorAll("link")),Z=Array.from(document.querySelector("head").querySelectorAll("style[nonce]")),U=K.concat(Z),G='<html><head><meta charset="utf-8">';for(let x of U)G+=x.outerHTML;if(G+=`</head><body style='position:absolute; top:0px; left:0px; width:${D.w}px; height:${D.h}px;'>${x.outerHTML}</body></html>`,this.AdBlockerAgent.IsEnabledForFacebook()&&v?.length&&G.includes(v)){let x="";G=G.replace(v,x)}let w="",M=!1;this.fbConfig.ABOUT_SECTION_CONFIG&&this.fbConfig.ABOUT_SECTION_CONFIG.LOAD_ABOUT_PAGE&&(M=!0),this.fbConfig&&M&&(this.DetectorFeed&&C===p.FACEBOOK_AD_PLACEMENT_TYPE_FEED?w=this.DetectorFeed.GetAboutPageLink(x):this.DetectorMarketplace&&C===p.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?w=this.DetectorMarketplace.GetAboutPageLink(x):this.DetectorWatch&&C===p.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH&&(w=this.DetectorWatch.GetAboutPageLink(x)));let _={content:V.encode(G),adPlacementType:C,designVersion:p.FACEBOOK_DESIGN_VERSION_NEW,aboutPageLink:w,aboutSectionContent:"",size:D};return $&&(_.videoData={videoId:"",videoUrl:"",audioUrl:""}),x.setAttribute(p.ATTRIBUTE_BIS_STATUS,"extracted"),_}HideAd(x,$,v){let C="";return x&&$&&x&&x.style&&(C=`position: absolute !important; width: ${$.w}px; overflow: hidden; height: 0px;`,O.IsPostHidden(x)||(x.style.cssText+=C,x.setAttribute(p.ATTRIBUTE_BIS_HIDE_HEIGHT,$.h),x.setAttribute(p.ATTRIBUTE_BIS_HIDE_WIDTH,$.w),x.setAttribute(p.ATTRIBUTE_BIS_HIDE_STATUS,"hidden"))),x.style.cssText}IsAdContentRendered(x,$){let v=O.GetPostContainerSize(x);if(D.GetImagesSpacePercentage(this.fbConfig.TAGS_FOR_LOADING_CHECK,x,v).some((x=>x>=$)))return!0;let C=x.querySelector(`a[${p.ATTRIBUTE_BIS_LABEL}]`);return C&&C.removeAttribute(p.ATTRIBUTE_BIS_LABEL),!1}IsVideoCreative(x){return 0!==x.querySelectorAll("video").length}AddNeededStylesForElement(x,$){try{if($.w<=3&&$.h<=3&&("SPAN"===x.nodeName||"DIV"===x.nodeName)){let $=x.getAttribute("class");if($&&$.includes("accessible_elem")){let $=getComputedStyle(x);x.setAttribute(p.ATTRIBUTE_BIS_STYLE,`clip:${$.getPropertyValue("clip")}; height:${$.getPropertyValue("height")}; overflow:${$.getPropertyValue("overflow")}; position:${$.getPropertyValue("position")}; white-space:${$.getPropertyValue("white-space")}; width:${$.getPropertyValue("width")};`)}}}catch(x){}}LoadAboutPageAndSendCandidates(x){if(x&&x.length){let $=x[0].aboutPageLink;$&&$.length?fetch($,{headers:this.fbConfig.ABOUT_SECTION_CONFIG.HEADERS,method:"GET"}).then(($=>{try{if(200===$.status)return $.text();this.SendFacebookCandidates(x)}catch(x){}})).then(($=>{let v="",C=$.split(/\r?\n/);if(C.length)for(let x=0;x<C.length;x++){!new RegExp(this.fbConfig.ABOUT_SECTION_CONFIG.CONTENT_CHECK_STRING).test(C[x])||v.includes("delegate_page_id")&&v.includes("about_app_sections")||(v+=C[x])}x[0].aboutSectionContent=V.encode(v),this.SendFacebookCandidates(x)})).catch((()=>{this.SendFacebookCandidates(x)})):this.SendFacebookCandidates(x)}}SendFacebookCandidates(x){Z.SendAdCandidates(this.id,x,p.MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK,null),this.AdBlockerAgent.IsEnabledForFacebook()&&this.AdBlockerAgent.SetHiddenAmount(x.length)}}},7678:(x,$,v)=>{const C=v(1568),D=v(2880);class V{static GetVisibleText(x){let $=x.querySelectorAll(":scope > *");if(0!==$.length)return Array.prototype.slice.call($).map(V.GetVisibleText).flat();if("none"!==getComputedStyle(x).display){let $=x.innerText;try{if(0===$.length&&x.getAttribute){let v=x.getAttribute("data-content");v&&v.length&&($=v)}}catch(x){}return $}return""}static GetVisibleSpansText(x,$,v=[]){if(x.hasAttribute&&x.hasAttribute("bis_sponsor_checked")&&3==x.getAttribute("bis_sponsor_checked"))return"";let C=x.querySelectorAll($),D="",V=parseInt(x.getAttribute("bis_sponsor_checked"))||0;return C.forEach((x=>{const $=getComputedStyle(x);if("none"!==$.display&&"absolute"!==$.position)try{let $=Array.from(x.childNodes).filter((x=>3===x.nodeType)).map((x=>x.nodeValue.trim())).reduce(((x,$)=>x+$),"");if(0===$.length&&x.getAttribute){let v=x.getAttribute("data-content");v&&v.length&&($=v)}D+=$}catch(x){}})),x.setAttribute("bis_sponsor_checked",parseInt(V)+1),D&&v.length&&!v.includes(D)&&(D=this.checkLettersOfAlly(D,v)),D}static checkLettersOfAlly(x,$){const v=x.split(""),C=v.length-1,D=$.length;let V=1,p=!1,K=0,Z="";for(;!p&&V<=D;){const D=$[V-1],O=v[K];-1!==D.indexOf(O)&&D.length===v.length?C!==K?K+=1:C===K&&x.length===D.length?(p=!0,Z=D):(V+=1,K=0):(V+=1,K=0)}return Z}static HideSateliteSponsoredString(x,$){try{$&&$.forEach(($=>{if($.innerText){let v=$.innerText;x.SPONSORED_TEXTS.some((x=>-1!==v.indexOf(x)))&&($.style="display:none")}}))}catch(x){}}static GetMinImgsSpacePercentag(x,$){return $===C.FACEBOOK_AD_PLACEMENT_TYPE_FEED?x.FEED_PAGE.MIN_IMGS_SPACE_PERCENTAGE:$===C.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE?x.MARKETPLACE_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:$===C.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN?x.RIGHT_COLUMN_ADS_CONFIG.MIN_IMGS_SPACE_PERCENTAGE:$===C.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH?x.FEED_WATCH_PAGE.MIN_IMGS_SPACE_PERCENTAGE:0}static IsInitiallyRendered(x,$){return!!V.IsPostHidden(x)||$.w>0&&$.h>10}static IsPostHidden(x){return"hidden"===x.getAttribute(C.ATTRIBUTE_BIS_HIDE_STATUS)}static GetPostContainerSize(x){let $=D.GetFullElementSize(x);if(V.IsPostHidden(x)){let v=x.getAttribute(C.ATTRIBUTE_BIS_HIDE_HEIGHT);v&&($.h=parseInt(v));let D=x.getAttribute(C.ATTRIBUTE_BIS_HIDE_WIDTH);D&&($.w=parseInt(D));let V=x.getAttribute(C.ATTRIBUTE_BIS_HIDE_LEFT_OFFSET);V&&($.x=$.x+parseInt(V),$.abs_x=$.abs_x+parseInt(V))}return $}}x.exports=V},6335:(x,$,v)=>{const C=v(655),D=v(7678),V=v(2880),p=v(1568),K=v(6882);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.fbConfig=C,this.fbFeed=null,this.fbFeedObserver=null}ActualizeDetector(){return!!this.isValidUrl&&(this.fbFeed=this.FeedContainer,!!this.fbFeed)}ActivateMutationObserver(){this.fbFeed?(this.fbFeedObserver||(this.fbFeedObserver=new MutationObserver(this.DetectCandidates.bind(this,p.AD_DETECTOR_INITIATOR_MUTATION)),this.fbFeedObserver.observe(this.fbFeed,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedContainer(){const x=this.fbConfig.FEED_PAGE.MIN_HEIGHT,$=this.fbConfig.FEED_PAGE.FEED_QUERIES,v=$.length;let C=!1,D=null;for(let V=0;V<v&&!C;V++){let v=$[V],p=document.querySelector(v);if(p){const $=p.offsetHeight;if(p.children.length>2&&$>x)D=p,C=!0;else if(p.nodeName.search(/span/i)>-1){let $=p.nextElementSibling;if($&&$.children){const v=$.offsetHeight;1===$.children.length&&$.querySelector("h3")?(D=$.querySelector("h3").parentElement,C=!0):2===$.children.length?(p=$.querySelector("div:not([class])"),p&&p.offsetHeight>x&&(D=p,C=!0)):$.children.length>1&&v>x&&(D=$,C=!0)}}}}return D}DeactivateMutationObserver(){this.fbFeedObserver&&(this.fbFeedObserver.disconnect(),this.fbFeedObserver=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.FeedContainer;if(x){let $=Array.from(x.children);if($.length&&1!==$.length||($=document.querySelectorAll(this.fbConfig.FEED_PAGE.POSTS_QUERY)),!$)return;for(let x=0;x<$.length;x++){let v=$[x],C=V.GetElementSize(v);if(!v.hasAttribute(p.ATTRIBUTE_BIS_ID)&&D.IsInitiallyRendered(v,C)&&this.CheckIfAdRendered(v,D.GetMinImgsSpacePercentag(this.fbConfig,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED))&&this.CheckIfAd(v)){let D="";this.AdBlockerAgent.IsEnabledForFacebook()&&(D=this.HideAd($[x],C,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED)),this.addCoverImageSrcAttribute(v);let K=V.GenerateAndSetBisIdToFBAds(v),Z=this.options.extractAdStaticPartTimeoutMs+V.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(v),setTimeout(this.ReadyToExtractAd.bind(this,K,D),Z)}}}}ReadyToExtractAd(x,$){try{if(x){let v=document.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${x}]`);if(!v)return;let C=v.querySelector(`[${p.ATTRIBUTE_BIS_LABEL}="fb_feed_ad"]`);C?this.ExtractAd(x,$,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED):null!==C&&(C.removeAttribute(p.ATTRIBUTE_BIS_ID),v.removeAttribute(p.ATTRIBUTE_BIS_ID))}}catch(x){}}CheckIfAd(x){const $=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let v=!1;for(let C=0;C<$.length&&!v;C++){const D=$[C];let V=x.querySelectorAll(D);if(v=this.GetTextCustom(V),v||(v=this.GetTextFromXlink(V)),v||(v=this.GetTextIfUseCanvas(V)),v){x.firstElementChild.setAttribute(p.ATTRIBUTE_BIS_LABEL,"fb_feed_ad");break}}return!!v}GetTextCustom(x){for(let $=0;$<x.length;$++){const v=x[$];let C=v.innerText,V=v.getAttribute(this.options.attributeWithSponsorAlly),K=V?[C,V]:C;if("string"==typeof C&&C.length&&this.isTagSponsored(K))return!0;if(C&&C.length>=2&&!v.hasAttribute(p.ATTRIBUTE_BIS_LABEL)){let x=D.GetVisibleSpansText(v,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(x!==C&&x!==V&&"string"==typeof x&&x.length&&this.isTagSponsored(x))return!0}}return!1}GetTextFromXlink(x){let $="";for(let v of x){if(!v.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const x=v.parentElement;let C="";if(x?.hasAttribute("bis_processed")&&x?.hasAttribute(p.ATTRIBUTE_BIS_LABEL))continue;const D=Array.from(x.children);if(D&&D.forEach((x=>{let $=x.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const v=document.querySelector($);v&&("text"===v.nodeName.toLowerCase()?C+=v.textContent:"svg"===v.nodeName.toLowerCase()&&(C=this.GetTextFromXlink([v.firstElementChild])))})),x.setAttribute("bis_processed",""),this.isTagSponsored(C))return $=C,x.removeAttribute("bis_processed"),$;$=""}return $}GetTextIfUseCanvas(x){let $="";for(let v of x){if("canvas"!==v.nodeName.toLowerCase()||v.hasAttribute(p.ATTRIBUTE_BIS_LABEL))continue;let x=this.CheckAndGetFieldName(v);if("string"==typeof x&&this.isTagSponsored(x)){$=x;break}}return $}CheckAndGetFieldName(x){if(x.hasAttribute("bis-text"))return x.getAttribute("bis-text");let $=K.EmptyMessage;$.type=p.MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE,$.content={attribute:"bis-text"},window.postMessage({attribute:"bis-text"},window.location.origin)}AddHiddenTextTags(x){const $=x.querySelectorAll("svg>use");if($)for(let x=0;x<$.length;x++){const v=$[x],C=v.parentElement;let D=v.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let V=document.querySelector(D).cloneNode(!0);V.style.display="none",V.id=V.id+"_bis",C&&C.appendChild(V)}}isTagSponsored(x){let $=!1;if(!x)return $;if("string"==typeof x)$=this.fbConfig.SPONSORED_TEXTS.some(($=>$===x));else for(let v of x)if($=this.fbConfig.SPONSORED_TEXTS.some((x=>x===v)),$)break;return $}GetAboutPageLink(x){let $="",v=this.fbConfig.ABOUT_SECTION_CONFIG,C=x.querySelectorAll(v.QUERY_ABOUT_PAGE_HREF);if(!C?.length)return $;let D="";for(let $=0;$<C.length;$++){let V=C[$];if(!V.href)continue;if(!v.ABOUT_PAGE_BAD_WORDS_MATCHES.every((x=>-1===V.href.indexOf(x))))continue;let p=x.getBoundingClientRect().top,K=V.getBoundingClientRect();K.top>p&&K.top-p<=v.MAX_DISTANCE_FROM_POST_TOP&&(D=V.href)}if(!D.length)return $;let V=D.substring(v.HREF_PREFIX.length,D.length),p=V.substring(0,V.search(/(\/|\?)/));if("profile.php"===p&&V.includes("id=")){const x=new RegExp(v.QUERY_GET_USER_ID_FROM_HREF);p=V.match(x),p&&p.length&&p[1]&&(p=p[1])}return $=v.ABOUT_PAGE_TEMPLATE.replace("%1",p),$}get isValidUrl(){return!this.fbConfig.FEED_PAGE.INVALID_URL_PATHS.some((x=>window.location.href.includes(x)))}addCoverImageSrcAttribute(x){let $=x.querySelector(this.fbConfig.FEED_PAGE.COVER_IMAGE_QUERY);if($&&$.hasAttribute("src")){let v=$.getAttribute("src");x.setAttribute("data-cover-image-src",v)}}}},2300:(x,$,v)=>{const C=v(655),D=v(2880),V=v(7678),p=v(1568);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.fbConfig=C,this.fbMarketplace=null,this.fbMarketplaceObserver=null}ActualizeDetector(){return this.fbMarketplace=this.MainContainer,!!this.fbMarketplace}get MainContainer(){return document.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.CONTAINER)}ActivateMutationObserver(){this.fbMarketplace?(this.fbMarketplaceObserver||(this.fbMarketplaceObserver=new MutationObserver(this.DetectCandidates.bind(this,p.AD_DETECTOR_INITIATOR_MUTATION)),this.fbMarketplaceObserver.observe(this.fbMarketplace,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbMarketplaceObserver&&(this.fbMarketplaceObserver.disconnect(),this.fbMarketplaceObserver=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.CARDS);if(x?.length)for(let $=0;$<x.length;$++){const v=x[$];let C=D.GetElementSize(v);if(this.addCoverImageSrcAttribute(v),!v.hasAttribute(p.ATTRIBUTE_BIS_ID)&&V.IsInitiallyRendered(v,C)&&(this.addCoverImageSrcAttribute(v),this.CheckIfAd(v))){let x;if(this.AdBlockerAgent.IsEnabledForFacebook()&&(V.HideSateliteSponsoredString(this.fbConfig,document.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SATELITE_SPONSORED_STRING)),x=this.HideAd(v,C,p.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE)),this.CheckIfAdRendered(v,V.GetMinImgsSpacePercentag(this.fbConfig,p.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE))){let $=D.GenerateAndSetBisIdToFBAds(v),C=this.options.extractAdStaticPartTimeoutMs+D.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.addCoverImageSrcAttribute(v),setTimeout(this.ExtractAd.bind(this,$,x,p.FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE),C)}}}}addCoverImageSrcAttribute(x){let $=x.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.COVER_IMAGE_QUERY);if($&&$.hasAttribute("src")&&!x.hasAttribute("data-cover-image-src")){let v=$.getAttribute("src");x.setAttribute("data-cover-image-src",v)}}CheckIfAd(x){let $=!1;if(!x||!this.MainContainer)return $;const v=x.getBoundingClientRect();let C=Array.from(this.MainContainer.querySelectorAll(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSOR_BLOCKS));if(!C?.length)return $;for(let D of C){const C=D.getBoundingClientRect();if(C.x-v.x<=5&&C.x-v.x>=-5){let v=V.GetVisibleSpansText(D,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((x=>-1!==v.indexOf(x)))){x.setAttribute(p.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),$=!0;break}}else if(this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH){let v=x;for(let x of this.fbConfig.MARKETPLACE_ADS_CONFIG.PREV_SIBLING_SPONSOR_BLOCK_QUERY_PATH)if(v[x])v=v[x];else if(x.includes(",")){const $=x.split(",");v=v[$[0]]($[1])}if(v){let C=V.GetVisibleSpansText(v,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(this.fbConfig.SPONSORED_TEXTS.some((x=>-1!==C.indexOf(x)))){x.setAttribute(p.ATTRIBUTE_BIS_LABEL,"fb_marketplace_ad"),$=!0;break}}}}return $||($=this.checkAHref(x)),$}checkAHref(x){return!!x.querySelector(this.fbConfig.MARKETPLACE_ADS_CONFIG.SPONSORED_HREF_CHECK)}GetAboutPageLink(x){let $="",v=this.fbConfig.ABOUT_SECTION_CONFIG,C=x.querySelector(`*[${p.ATTRIBUTE_BIS_LABEL}='fb_marketplace_ad']`),D=x.querySelectorAll(`a[href^='${v.HREF_PREFIX}'`);if(C&&D&&D.length){let V="",p=C.getBoundingClientRect().top,K=p-x.getBoundingClientRect().top;for(let x=0;x<D.length;x++){let $=D[x].getBoundingClientRect();D[x].href&&$.top<p&&p-$.top<K&&(K=p-$.top,V=D[x].href)}if(V.length){let x=V.substring(v.HREF_PREFIX.length,V.length),C=x.substring(0,x.search(/(\/|\?)/));if("profile.php"===C&&x.includes("id=")){const $=new RegExp(v.QUERY_GET_USER_ID_FROM_HREF);C=x.match($),C&&C.length&&C[1]&&(C=C[1])}$=v.ABOUT_PAGE_TEMPLATE.replace("%1",C)}}return $}}},1899:(x,$,v)=>{const C=v(655),D=v(2880),V=v(7678),p=v(1568),K=v(8384);v(1568);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.fbConfig=C,this.fbRightColumn=null,this.fbRightColumnObserver=null,this.options=$}ActualizeDetector(){return this.fbRightColumn=this.getRightColumnContainer(),!!this.fbRightColumn}ActivateMutationObserver(){this.fbRightColumn?(this.fbRightColumnObserver||(this.fbRightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,p.AD_DETECTOR_INITIATOR_MUTATION)),this.fbRightColumnObserver.observe(this.fbRightColumn,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.fbRightColumnObserver&&(this.fbRightColumnObserver.disconnect(),this.fbRightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CARDS);if(x?.length)for(let $=0;$<x.length;$++){let v=x[$],C=null,Z=Array.from(this.fbRightColumn.querySelectorAll(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.SATELITE_SPONSORED_STRING)),O=D.GetElementSize(v);if(V.IsInitiallyRendered(v,O))if(v.hasAttribute(p.ATTRIBUTE_BIS_ID))this.CheckIfAdRotated(v)&&v.removeAttribute&&(v.removeAttribute(p.ATTRIBUTE_BIS_ID),v.removeAttribute(p.ATTRIBUTE_BIS_SIZE),v.removeAttribute(p.ATTRIBUTE_BIS_STATUS),K.t&&K.W&&"border: 6px solid green !important;"===v.style.cssText&&(v.style.cssText=""));else if(this.CheckIfAd(v,Z)&&(this.AdBlockerAgent.IsEnabledForFacebook()&&(V.HideSateliteSponsoredString(this.fbConfig,Z),C=this.HideAd(v,O,p.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)),this.CheckIfAdRendered(v,V.GetMinImgsSpacePercentag(this.fbConfig,p.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN)))){let x=D.GenerateAndSetBisIdToFBAds(v),$=this.options.extractAdStaticPartTimeoutMs+D.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);setTimeout(this.ExtractAd.bind(this,x,C,p.FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN),$)}}}CheckIfAd(x,$){const v=this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IMPOSSIBLE_HREF_REG_FOR_AD,C=this.fbConfig.SPONSORED_TEXTS;if($?.length)for(let x of $){let $=x.innerText;if(C.some((x=>x===$)))return!0}const D=Array.from(x.querySelectorAll(`${this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.IF_AD}, [${this.options.attributeWithSponsorAlly}]`));return!!D.length&&D.some((x=>{const $=x.href;if(-1===$?.indexOf(v))return!0;const D=x.getAttribute(this.options.attributeWithSponsorAlly);return!!D&&C.some((x=>D===x))}))}CheckIfAdRotated(x){let $=!1;if(x&&"extracted"===x.getAttribute(p.ATTRIBUTE_BIS_STATUS)){let v=0,C=0,D=0,V=x.querySelectorAll("*");V&&V.length&&(V.forEach((x=>{x.getAttribute(p.ATTRIBUTE_BIS_SIZE)?v+=1:C+=1})),0===v&&C>0?$=!0:v>0&&C>0&&(D=C/V.length*100|0,D>50&&($=!0)))}return $}getRightColumnContainer(){return document.querySelector(this.fbConfig.RIGHT_COLUMN_ADS_CONFIG.CONTAINER)}}},1454:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this.id=x}InjectDetector(){if(document.head){let x=document.createElement("script");this.setAttributes(x),document.head.appendChild(x)}}setAttributes(x){const $=C.getURL("../executors/facebook.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}}},7948:(x,$,v)=>{const C=v(655),D=v(7678),V=v(2880),p=v(1568);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.fbConfig=C,this.fbWatch=null,this.fbWatchObserver=null}ActualizeDetector(){return this.fbWatch=this.FeedWatchContainer,!!this.fbWatch}ActivateMutationObserver(){this.fbWatch?(this.fbWatchObserver||(this.fbWatchObserver=new MutationObserver(this.DetectCandidates.bind(this,p.AD_DETECTOR_INITIATOR_MUTATION)),this.fbWatchObserver.observe(this.fbWatch,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}get FeedWatchContainer(){const x=this.fbConfig.FEED_WATCH_PAGE.FEED_WATCH_QUERIES,$=x.length;let v=!1,C=null;for(let D=0;D<$&&!v;D++){let $=x[D],V=Array.from(document.querySelectorAll($));if(!V.length)continue;let p=V.filter((x=>x.children&&x.children.length>2));p.length&&1===p.length&&(C=p[0],v=!0)}return C}DeactivateMutationObserver(){this.fbWatchObserver&&(this.fbWatchObserver.disconnect(),this.fbWatchObserver=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.fbWatch;if(x){let $=Array.from(x.children);for(let x=0;x<$.length;x++){const v=$[x];let C=V.GetElementSize(v);if(!v.hasAttribute(p.ATTRIBUTE_BIS_ID)&&D.IsInitiallyRendered(v,C)&&this.CheckIfAd(v)){let x="";if(this.AdBlockerAgent.IsEnabledForFacebook()&&(x=this.HideAd(v,C,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH)),this.CheckIfAdRendered(v,D.GetMinImgsSpacePercentag(this.fbConfig,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH))){this.addCoverImageSrcAttribute(v);let $=V.GenerateAndSetBisIdToFBAds(v),C=this.options.extractAdStaticPartTimeoutMs+V.GetRandomIntInRange(0,this.options.extractAdRandomPartTimeoutMs);this.AddHiddenTextTags(v),setTimeout(this.ReadyToExtractAd.bind(this,$,x),C)}}}}}ReadyToExtractAd(x,$){try{if(x){let v=document.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${x}]`),C=v.querySelector(`[${p.ATTRIBUTE_BIS_LABEL}="fb_watch_ad"]`);v&&C?this.ExtractAd(x,$,p.FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH):(C.removeAttribute(p.ATTRIBUTE_BIS_ID),v.removeAttribute(p.ATTRIBUTE_BIS_ID))}}catch(x){}}CheckIfAd(x){const $=this.fbConfig.POSSIBLE_SPONSORED_TEXT_QUERIES;let v=!1;for(let C=0;C<$.length&&!v;C++){const D=$[C];let V=x.querySelectorAll(D);if(v=this.GetTextCustom(V),v||(v=this.GetTextFromXlink(V)),v||(v=this.GetTextIfUseCanvas(V)),v){x.firstElementChild.setAttribute(p.ATTRIBUTE_BIS_LABEL,"fb_watch_ad");break}}return!!v}GetTextCustom(x){for(let $=0;$<x.length;$++){const v=x[$];let C=v.innerText,V=v.getAttribute(this.options.attributeWithSponsorAlly),K=V?[C,V]:C;if("string"==typeof C&&C.length&&this.isTagSponsored(K))return!0;if(C&&C.length>=2&&!v.hasAttribute(p.ATTRIBUTE_BIS_LABEL)){let x=D.GetVisibleSpansText(v,this.fbConfig.VISIBLE_SPANS_TEXT,this.fbConfig.SPONSORED_TEXTS);if(x!==C&&x!==V&&"string"==typeof x&&x.length&&this.isTagSponsored(x))return!0}}return!1}GetTextFromXlink(x){let $="";for(let v of x){if(!v.hasAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG))continue;const x=v.parentElement;let C="";if(x?.hasAttribute("bis_processed")&&x?.hasAttribute(p.ATTRIBUTE_BIS_LABEL))continue;const D=Array.from(x.children);if(D&&D.forEach((x=>{let $=x.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);const v=document.querySelector($);v&&("text"===v.nodeName.toLowerCase()?C+=v.textContent:"svg"===v.nodeName.toLowerCase()&&(C=this.GetTextFromXlink([v.firstElementChild])))})),x.setAttribute("bis_processed",""),this.isTagSponsored(C))return $=C,x.removeAttribute("bis_processed"),$;$=""}return $}GetTextIfUseCanvas(x){let $="";for(let v of x){if("canvas"!==v.nodeName.toLowerCase()||v.hasAttribute(p.ATTRIBUTE_BIS_LABEL))continue;let x=this.CheckAndGetFieldName(v);if("string"==typeof x&&this.isTagSponsored(x)){$=x;break}}return $}AddHiddenTextTags(x){const $=x.querySelectorAll("svg>use");if($)for(let x=0;x<$.length;x++){const v=$[x],C=v.parentElement;let D=v.getAttribute(this.fbConfig.XLING_HREF_ATTRIBUTE_FOR_SVG);let V=document.querySelector(D).cloneNode(!0);V.style.display="none",C&&C.appendChild(V)}}isTagSponsored(x){let $=!1;if(!x)return $;if("string"==typeof x)$=this.fbConfig.SPONSORED_TEXTS.some(($=>$===x));else for(let v of x)if($=this.fbConfig.SPONSORED_TEXTS.some((x=>x===v)),$)break;return $}GetAboutPageLink(x){let $="",v=this.fbConfig.ABOUT_SECTION_CONFIG,C=x.querySelectorAll(v.HREF_PREFIX_WATCH);if(!C?.length)return $;let D="";for(let $=0;$<C.length;$++){let V=C[$];if(!V.href)continue;if(!v.ABOUT_PAGE_BAD_WORDS_MATCHES.every((x=>-1===V.href.indexOf(x))))continue;let p=x.getBoundingClientRect().top,K=V.getBoundingClientRect();K.top>p&&K.top-p<=v.MAX_DISTANCE_FROM_POST_TOP&&(D=V.href)}if(!D.length)return $;let V=D.substring(v.HREF_TEMPLATE_WATCH.length,D.length),p=V.substring(0,V.search(/(\/|\?)/));if("profile.php"===p&&V.includes("id=")){const x=new RegExp(v.QUERY_GET_USER_ID_FROM_HREF);p=V.match(x),p&&p.length&&p[1]&&(p=p[1])}return $=v.ABOUT_PAGE_TEMPLATE.replace("%1",p),$}addCoverImageSrcAttribute(x){let $=x.querySelector(this.fbConfig.FEED_WATCH_PAGE.COVER_IMAGE_QUERY);if($&&$.hasAttribute("src")){let v=$.getAttribute("src");x.setAttribute("data-cover-image-src",v)}}}},3162:(x,$,v)=>{const C=v(2880),D=v(9358);class V{static GetHyperlinkEmbeddedTargetUrlDataList(x,$,v){let D,V,p,K=C.QuerySelectorAll($,"A[href]"),Z=[];for(var O=0;O<K.length;O++)if(D=K[O],!C.IsInFilterList(v,D.href)){V=C.GetElementSize(D),p=V.w*V.h;let x=D.querySelectorAll("img, canvas");if(x.length){let $,v;for(var U=0;U<x.length;U++)$=C.GetElementSize(x[U]),v=$.w*$.h,v>p&&(p=v,V.w=$.w,V.h=$.h)}p>=100&&C.isValidUrl(D.href)&&Z.push({href:D.href,square:p})}return Z&&Z.length,Z}static GetDocumentEmbeddedTargetUrlDataList(x,$,v){let C=[this.strategyStrictFinalUrl,this.strategyScriptClickTag,this.strategyAppnexus,this.strategyNoscriptAnchors,this.strategyScriptAndMetaContentJsonKeyWords,this.strategyLookingForPropertyInsideWindow],D=this.processStrategyList($,C,v);return D&&D.length,D}static processStrategyList(x,$,v){let C=[];for(let D of $)try{let $=D(x,v);$&&$.href&&C.push($)}catch(x){}return C}static strategyStrictFinalUrl(x,$){for(var v=C.QuerySelectorAll(x,'script[type="application/json"]'),D=0;D<v.length;D++){var V=v[D].outerText;if(V.length>1&&"{"===V[0]&&"}"===V[V.length-1]&&-1!=V.indexOf("targets")&&-1!=V.indexOf("redirectUrl")&&-1!=V.indexOf("finalUrl")){var p=JSON.parse(V);if(void 0!==p.targets&&void 0!==p.targets.redirectUrl&&void 0!==p.targets.redirectUrl.finalUrl){let x=p.targets.redirectUrl.finalUrl;if(C.isValidUrl(x))return{href:x,square:1e6}}}}}static strategyScriptClickTag(x,$){let v=C.QuerySelectorAll(x,"script");for(let x=0;x<v.length;x++){let $=v[x].outerText;if($.length>1&&-1!==$.indexOf("clickTag")&&($=$.replace(/\s/g,""),$.startsWith('varclickTag="')&&$.endsWith('";'))){let x=$.indexOf('"'),v=$.lastIndexOf('"'),D=$.substring(x+1,v);if(C.isValidUrl(D))return{href:D,square:1e6}}}}static strategyAppnexus(x,$){let v=C.QuerySelectorAll(x,".GoogleActiveViewElement script"),D=Array.from(v).map((x=>x.innerHTML)).filter((x=>x.indexOf("APPNEXUS.placement")>=0));for(let x=0;x<D.length;x++){let $=V(D[x]);if(C.isValidUrl($))return{href:$,square:1e6}}function V(x){let $=(x=x.replace(/(\r\n|\n|\r|\s)/gm,"")).match(/APPNEXUS.placement\(".+","(.+)",.+/);return $&&$.length>1?$[1]:null}}static strategyNoscriptAnchors(x,$){let v=C.QuerySelectorAll(x,"noscript");for(let $=0;$<v.length;$++){let D=x.createElement("div");D.innerHTML=v[$].innerText;let V=D.querySelector("a[href]");if(V){let x=V.getAttribute("href");if(C.isValidUrl(x))return{href:x,square:1}}}}static strategyScriptAndMetaContentJsonKeyWords(x,$,v=null){if(v){let x=V(v,$);return C.isValidUrl(x)?{href:x,square:999999}:void 0}let D=C.QuerySelectorAll(x,"script, meta[content]");for(let x of D){let v="script"===x.nodeName.toLowerCase()?x.outerText:x.getAttribute("content");if(v.length>1&&"{"===v[0]&&"}"===v[v.length-1]){let x=V(JSON.parse(v),$);if(C.isValidUrl(x))return{href:x,square:999999}}}function V(x,$,v=[]){let D=$.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(v.length>D)return null;let K=Object.getOwnPropertyNames(x);for(let D of K)try{let K=x[D];if(!K)return null;let Z=v.concat(D);if("string"==typeof K&&K.length>1&&"{"===K[0]&&"}"===K[K.length-1]){let x=V(JSON.parse(K),$,Z);if(x)return x}if("object"==typeof K){let x=V(K,$,Z);if(x)return x}else if("string"==typeof K&&p(D,$)&&C.isValidUrl(K))return K}catch(x){}return null}function p(x,$){let v=function(x){let $=x.toLowerCase();return $.replace(/[^a-zA-Z]+/g,"")}(x),C=$.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let x of C){if(v===x)return!0}return!1}}static strategyLookingForPropertyInsideWindow(x,$){const v=x.defaultView,C=$.WINDOW_PROPERTY_NAMES;for(let D of C){let C=v[D];if(C){if("string"==typeof C)return!C.search(/^http/)>-1&&(C=p(C)),{href:C,square:1e6};if("object"==typeof C)return V.strategyScriptAndMetaContentJsonKeyWords(x,$,C)}}function p(v){try{const C=D.decode(v);if(C){if("string"==typeof C&&"{"===C[0]){let v=JSON.parse(C);return V.strategyScriptAndMetaContentJsonKeyWords(x,$,v).href}return""}}catch(x){}}}}x.exports=V},9877:(x,$,v)=>{const C=v(2880),D=v(7817),V=v(3162);class p{constructor(x,$,v,D,V){this.id=v,this.fullIdStr=C.GetFullIdStr(x,$,v),this.init=!1,this.targetUrlDataList=[],this.targetUrlDetected=!1,this.IframesIO=null,this.activationTargetUrlCandidates=D,this.html5TargetUrlDetectionConfig=V.GetHtml5TargetUrlDetectionConfig(),this.blacklistedTargetUrls=V.BlacklistTargetUrl,this.detectionTimerId=null,this.onDetectTargetUrlCallBack=null}get FrameTargetUrl(){return this.targetUrlDataList}Init(x){return x&&(this.IframesIO=x,this.init=!0),this.init}DetectTargetUrl(x,$){if(this.init&&!this.targetUrlDetected&&this.html5TargetUrlDetectionConfig)if(this.onDetectTargetUrlCallBack=$,this.detectionTimerId=setTimeout(this.onTargetUrlDetectionTimout.bind(this),x),this.activationTargetUrlCandidates&&this.activationTargetUrlCandidates.length)this.targetUrlDataList=this.activationTargetUrlCandidates,this.TargetUrlDetected();else{let x=V.GetHyperlinkEmbeddedTargetUrlDataList(this.id,document,this.blacklistedTargetUrls);this.targetUrlDataList=this.targetUrlDataList.concat(x);let $=V.GetDocumentEmbeddedTargetUrlDataList(this.id,document,this.html5TargetUrlDetectionConfig);$=p.filterTargetUrlDataList($,this.blacklistedTargetUrls),this.targetUrlDataList=this.targetUrlDataList.concat($),this.targetUrlDataList&&this.targetUrlDataList.length?this.TargetUrlDetected():this.IframesIO.ActivateWindowEmbeddedTargetUrlDetection(this.onGetWindowEmbeddedTargetUrlData.bind(this))}}static filterTargetUrlDataList(x,$){if(!x||0===x.length)return[];return x.filter((x=>{if(x.href&&0===x.href.search(/^http/)&&!C.IsInFilterList($,x.href))return!0}))}onGetWindowEmbeddedTargetUrlData(x){let $=p.filterTargetUrlDataList(x,this.blacklistedTargetUrls);this.targetUrlDataList.push($),this.concatTargetUrlsDataIfNeed(),!$||$.length,this.TargetUrlDetected()}concatTargetUrlsDataIfNeed(){this.targetUrlDataList[0].length&&(this.targetUrlDataList=this.targetUrlDataList.flat(1))}onTargetUrlDetectionTimout(){this.targetUrlDetected||this.TargetUrlDetected()}TargetUrlDetected(){this.targetUrlDetected=!0,this.detectionTimerId&&(clearTimeout(this.detectionTimerId),this.detectionTimerId=null),this.onDetectTargetUrlCallBack&&this.onDetectTargetUrlCallBack()}static DetectTargetUrlFromWindowObj(x,$,v){var C=[];let p=v.GetHtml5TargetUrlDetectionConfig(),K=v.BlacklistTargetUrl;try{let v=V.GetHyperlinkEmbeddedTargetUrlDataList(x,$.document,p);C=C.concat(v)}catch(x){}try{let v=V.GetDocumentEmbeddedTargetUrlDataList(x,$.document,p);v=this.filterTargetUrlDataList(v,K),C=C.concat(v)}catch(x){}try{let v=D.GetWindowEmbeddedTargetUrlDataList(x,$,p,this.defaultWindowProps);v=this.filterTargetUrlDataList(v,K),C=C.concat(v)}catch(x){}return C&&C.length,C}}x.exports=p},7817:x=>{x.exports=class{static GetWindowEmbeddedTargetUrlDataList(x,$,v){let C=[function(x){if(void 0!==x.clickTag&&V(x.clickTag))return{href:x.clickTag,square:1000001}},function(x){if(void 0!==x.adData){if(void 0!==x.adData.destination_url&&V(x.adData.destination_url))return{href:x.adData.destination_url,square:1000001};if(void 0!==x.adData.redirect_url&&V(x.adData.redirect_url))return{href:x.adData.redirect_url,square:1000001}}},function(x){if(void 0!==x.BF&&void 0!==x.BF.Parameters&&void 0!==x.BF.Parameters.targeturl&&V(x.BF.Parameters.targeturl))return{href:x.BF.Parameters.targeturl,square:1000001}},function(x){if(void 0!==x.ADAPT&&void 0!==x.ADAPT.symbols&&void 0!==x.ADAPT.symbols.stage&&void 0!==x.ADAPT.symbols.stage.clickUrl&&V(x.ADAPT.symbols.stage.clickUrl))return{href:x.ADAPT.symbols.stage.clickUrl,square:1000001}},function(x){if(void 0!==x.admixAPI&&void 0!==x.admixAPI.ownerBanner&&void 0!==x.admixAPI.ownerBanner.clickUrl&&V(x.admixAPI.ownerBanner.clickUrl))return{href:x.admixAPI.ownerBanner.clickUrl,square:1000001}},function(x,$){let v=function(x,$,v){let C=function(x,$){let v=Object.getOwnPropertyNames(x);return v.filter((x=>$.WINDOW_PROPERTY_NAMES.indexOf(x)<0))}($,v);if(!C||0===C.length)return null;return p($,C,v)}(0,x,$);if(V(v))return{href:v,square:999999}}],D=function(x,$,v){let C=[];for(let D of $)try{let $=D(x,v);$&&$.href&&C.push($)}catch(x){}return C}($,C,v);return D&&D.length,D;function V(x){return"string"==typeof x&&x.length>0&&(-1!==x.indexOf("http")||-1!==x.indexOf("//"))}function p(x,$,v,C=[]){let D=v.WINDOW_TARGET_URL_SEARCH_DEPTH_LEVEL;if(C.length>D)return null;for(let D of $)try{let $=x[D];if(!$)return null;let Z=C.concat(D);if("object"==typeof $){let x=p($,Object.getOwnPropertyNames($),v,Z);if(x)return x}else if("string"==typeof $&&K(D,v)&&V($))return $}catch(x){}return null}function K(x,$){let v=function(x){let $=x.toLowerCase();return $.replace(/[^a-zA-Z]+/g,"")}(x),C=$.WINDOW_TARGET_URL_PROPERTY_KEY_WORDS;for(let x of C){if(v===x)return!0}return!1}}}},3375:(x,$,v)=>{const C=v(8384),D=v(1568),V=v(5364),p=v(5337),K=v(5972),Z=v(9944),O=v(9346);x.exports=class extends O{constructor(x,$,v){super(x),this.id=x,this.available=!1,this.onPageRefreshed=this.onPageUrlChanged,this.instaConfig=$.GetInstagramConfig,this.AdBlockerAgent=v,this.DetectorFeed=null,this.DetectorStories=null,this.headersEntries=[],this.ActivateVideoTrafficDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(D.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),0)}ActivateDetector(x){x===D.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.DetectorFeed=new p(this.id,this.instaConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.DetectorStories=new Z(this.id,this.instaConfig.STORIES.DETECTOR_OPTIONS,this.AdBlockerAgent,this.instaConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.DetectorFeed.isVideo=this.isVideo.bind(this),this.DetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorFeed.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorFeed.HideElement=this.HideElementForInstagramFeedOnly.bind(this),this.DetectorFeed.isCarousel=this.isCarousel.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this),this.DetectorStories.HideElement=this.HideElement.bind(this),this.DetectorStories.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.DetectorStories.ExtractAd=this.processAndSendInstagramAd.bind(this),this.DetectorStories.getAdInstagramObject=this.getAdInstagramObject.bind(this),this.DetectorFeed.removeCloneElement=this.removeCloneElement.bind(this)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector=new K(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_w",JSON.stringify(this.instaConfig.TRAFFIC_LISTENER_CONFIG))}ActivateDetectors(){this.GetHeadersDataForLoader(),this.DetectorFeed.ActivateDetector(),this.DetectorStories.ActivateDetector()}DeactivateDetectors(x){this.DetectorFeed.DeactivateDetector(x),this.DetectorStories.DeactivateDetector(x)}processAndSendInstagramAd(x,$,v){let p=document.querySelector(`[${D.ATTRIBUTE_BIS_ID}=${x}]`);p&&(this.addFieldsToCandidateAboutHeaders($),V.SendCandidatePlacementsCount(this.id,1,D.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM,null),V.SendAdCandidates(this.id,[$],D.MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM,null),C.t&&C.W&&(p.style.cssText+=v?D.STYLES_OUTLINE_VIDEO_AD:D.STYLES_OUTLINE_SUCCESS_DETECT))}GetHeadersDataForLoader(){let x=this.instaConfig.LOAD_USER_DATA.HEADERS_VALUES_QUERIES;for(let $ of x){let x=new RegExp($[1]),v=$[0],C=new RegExp(v,"i"),D=Array.from(document.querySelectorAll("script")).filter((x=>x.innerHTML.search(C)>-1));if(!D.length)return;let V=D[0].innerHTML.match(x)[1];this.headersEntries.push([v,V])}}addFieldsToCandidateAboutHeaders(x){this.headersEntries.length&&x.aboutPageUrl&&(x.headers=Object.fromEntries(this.headersEntries))}}},5337:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(655);x.exports=class extends V{constructor(x,$,v,C){super(x,$,v),this.instaConfig=C,this.timeOptions=this.instaConfig.FEED.TIMEOUT_OPTIONS,this.id=x,this.adBlockerAgent=v,this.feedContainer=null,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.processInstagramAdsInterval=null}HideElement(x){}setSizesAndIdForAllElements(x){}getAdInstagramObject(x,$,v,C,D,V){}isCarousel(x){}isVideo(x,$){}removeCloneElement(x){}ActualizeDetector(){return this.feedContainer=this.FeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processFeedAds()}get FeedContainer(){const x=this.instaConfig.FEED.CONTAINER_QUERIES,$=this.instaConfig.FEED.CONTAINER_MIN_HEIGHT;for(let v of x){let x=document.querySelector(v);if(x){if(x.offsetHeight>=$)return x}}}checkAdBlockerAndHide(x){this.adBlockerAgent.IsEnabledForInstagram()&&!this.adBlockerAgent.IsElementHidden(x)&&(this.HideElement(x),this.adBlockerAgent.SetHiddenAmount(1))}processFeedAds(){let x=this.detectPromotedPosts();if(x&&x.length)for(let $ of x){C.GetElementSize($);if(!$.hasAttribute(D.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements($);let x=C.GenerateAndSetBisIdToInstagramAds($),v=this.createHTML($);const V=this.getAdvertiserName($),p=this.getTargetUrl($),K=this.getAboutPageUrl($);this.AddHiddenTextTags(v);const Z=this.isCarousel($),O=this.isVideo($,this.instaConfig.TAGS_FOR_VIDEO_CHECK),U=this.getAdInstagramObject($,v,V,p,K,D.INSTAGRAM_AD_PLACEMENT_TYPE_FEED);O&&!Z&&(U.videoData={}),Z&&(U.carouselSlidesSources=[]),this.removeCloneElement(v),this.checkAdBlockerAndHide($);let G=setTimeout((()=>{this.ExtractAd.call(this,x,U,O),clearTimeout(G)}),100)}}}AddHiddenTextTags(x){const $=x.querySelectorAll("svg>use");if($)for(let x=0;x<$.length;x++){const v=$[x],C=v.parentElement;let D=v.getAttribute("xlink:href");let V=document.querySelector(D).cloneNode(!0);V.style.display="none",V.id=V.id+"_bis",C&&C.appendChild(V)}}RemoveHideStylesFromClone(x){let $=x.querySelector("div"),v=$?$.firstElementChild:null,C=v?v.firstElementChild:null;return C?(v.style.cssText=v.style.cssText.replace(D.STYLES_HIDE_INSTAGRAM_FEED_AD[1],""),C.style.cssText=C.style.cssText.replace(D.STYLES_HIDE_INSTAGRAM_FEED_AD[0],""),x):x}detectPromotedPosts(){if(!this.feedContainer)return[];const x=this.instaConfig.FEED.IMG_SPACE_PERCENTAGE,$=this.instaConfig.PROMOTED_ALIASES;let v=Array.from(this.feedContainer.children),C=[];for(let D of v)if(this.IsPostContentRendered(D,x)){const x=D.querySelectorAll(this.instaConfig.FEED.PROMOTED_QUERY);for(let v of x){if(!v)continue;let x=v.hasAttribute("xlink:href")?this.GetTextFromXlink(v):v.innerText;if(x.includes("#"))continue;if($.some(($=>x.search($)>=0))){C.push(D);break}}}return C}GetTextFromXlink(x){let $=x.getAttribute("xlink:href");if($){return document.querySelector($).textContent}return""}IsPostContentRendered(x,$){let v=!1;if(x){let D=C.GetFullElementSize(x);if(D.w>0){C.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,x,D).some((x=>x>=$))&&(v=!0)}}return v}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0),V=this.feedContainer,p=V.cloneNode();return this.styleFixes(p),this.setWrapperStyles(V,p),p.appendChild(D),v.appendChild(p),$.appendChild(C),$.appendChild(v),$}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+` max-width: ${this.maxWidthContainer(x)}`}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}styleFixes(x){x.style.paddingBottom=0}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll('body style, body link[rel="stylesheet"]');return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return $&&$.forEach(($=>{let v=$.cloneNode(!0);x.appendChild(v)})),x}getAboutPageUrl(x){const $=this.instaConfig.FEED.ABOUT_PAGE_URL_QUERY;let v=x.querySelector($);return v&&v.href?v.href:""}getAdvertiserName(x){const $=this.instaConfig.FEED.ADVERTISER_NAME_QUERY;let v=x.querySelector($),C="";if(v){if(C=v.innerText,C)return C;if(C=v.innerHTML,-1===C.search(/\<\//))return C}return""}getTargetUrl(x){const $=this.instaConfig.FEED.TARGET_URL_QUERY;let v=x.querySelector($),C="";return v&&v.href&&(C=v.href),C}}},9944:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(655);x.exports=class extends V{constructor(x,$,v,C){super(x,$,v),this.instaConfig=C,this.id=x,this.adBlockerAgent=v,this.storyContainer=null,this.storiesObserver=null,this.processInstagramAdsInterval=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}HideElement(x){}setSizesAndIdForAllElements(x){}getAdInstagramObject(x,$,v,C,D,V){}removeCloneElement(x){}ActualizeDetector(){return this.storyContainer=this.StoryContainer,!!this.storyContainer}ActivateMutationObserver(){this.storyContainer?(this.storiesObserver||(this.storiesObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.storiesObserver.observe(this.storyContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.storiesObserver&&(this.storiesObserver.disconnect(),this.storiesObserver=null,this.storyContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.processStoriesAds()}processStoriesAds(){let x=this.detectPromotedMarkedStory();if(x&&(C.GetElementSize(x),!x.hasAttribute(D.ATTRIBUTE_BIS_ID))){let $=C.GenerateAndSetBisIdToInstagramAds(x);this.setSizesAndIdForAllElements(x);const v=this.createHTML(x),V=this.getAdvertiserName(x),p=this.getTargetUrl(x),K=this.getAboutPageUrl(x);this.AddHiddenTextTags(v);const Z=this.getAdInstagramObject(x,v,V,p,K,D.INSTAGRAM_AD_PLACEMENT_TYPE_STORY);this.adBlockerAgent.IsEnabledForInstagram(),this.removeCloneElement(v);let O=setTimeout((()=>{this.ExtractAd.call(this,$,Z),clearTimeout(O)}),100)}}AddHiddenTextTags(x){const $=x.querySelectorAll("svg>use");if($)for(let x=0;x<$.length;x++){const v=$[x],C=v.parentElement;let D=v.getAttribute("xlink:href");let V=document.querySelector(D).cloneNode(!0);V.style.display="none",V.id=V.id+"_bis",C&&C.appendChild(V)}}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0),V=document.createElement("div");return this.styleFixes(D),this.setWrapperStyles(x,V),V.appendChild(D),v.appendChild(V),$.appendChild(C),$.appendChild(v),$}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll('body style, body link[rel="stylesheet"]');return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style');return $&&$.forEach(($=>{let v=$.cloneNode(!0);x.appendChild(v)})),x}detectPromotedMarkedStory(){if(!this.storyContainer)return null;const x=this.instaConfig.STORIES.IMG_SPACE_PERCENTAGE,$=this.instaConfig.PROMOTED_ALIASES;let v=this.storyContainer;if(this.IsStoryContentRendered(v,x)){const x=v.querySelectorAll(this.instaConfig.STORIES.PROMOTED_QUERY);for(let C of x){if(!C)continue;let x=C.hasAttribute("xlink:href")?this.GetTextFromXlink(C):C.innerText;if(x.includes("#"))continue;if($.some(($=>x.search($)>=0)))return v}}return null}GetTextFromXlink(x){let $=x.getAttribute("xlink:href");if($){return document.querySelector($).textContent}return""}getAdvertiserName(x){const $=this.instaConfig.STORIES.ADVERTISER_NAME_QUERY;let v=x.querySelector($);return v?v.innerText:""}getTargetUrl(x){const $=this.instaConfig.STORIES.TARGET_URL_QUERY;let v=x.querySelector($),C="";return v&&v.href&&(C=v.href),C}getAboutPageUrl(x){const $=this.instaConfig.STORIES.ABOUT_PAGE_URL_QUERY;let v=x.querySelector($);return v&&v.href?v.href:""}IsStoryContentRendered(x,$){let v=!1;if(x){let D=C.GetFullElementSize(x);if(D.w>0){C.GetImagesSpacePercentage(this.instaConfig.TAGS_FOR_LOADING_CHECK,x,D).some((x=>x>=$))&&(v=!0)}}return v}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+` max-width: ${this.maxWidthContainer(x)}`}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}styleFixes(x){x.style.transform=""}get StoryContainer(){return document.querySelector(this.instaConfig.STORIES.STORY_QUERY)}}},5972:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x,$){this.id=x,this.AdBlockerAgent=$}InjectDetector(x,$){if(document.head){var v=document.createElement("script");this.setAttributes(v),document.head.appendChild(v)}}setAttributes(x){const $=C.getURL("../executors/insta.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),this.AdBlockerAgent.IsEnabledForInstagram()&&x.setAttribute("ad-opt-on",""),x.src=$}}},9181:(x,$,v)=>{const C=v(9346),D=v(9170),V=v(1568),p=v(8384),K=v(5364),Z=v(2880),O=v(1291),U=v(8247);x.exports=class extends C{constructor(x,$,v){super(x),this.id=x,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=v,this.linkedinConfig=$.LinkedinConfig,this.LinkedinDetectorFeed=null,this.LinkedinDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(V.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.LinkedinDetectorFeed.ActivateDetector(),this.LinkedinDetectorRightColumn.ActivateDetector()}DeactivateDetectors(x){this.LinkedinDetectorFeed.DeactivateDetector(x),this.LinkedinDetectorRightColumn.DeactivateDetector(x)}ActivateDetector(x){x===V.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.LinkedinDetectorFeed=new O(this.id,this.linkedinConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.LinkedinDetectorRightColumn=new U(this.id,this.linkedinConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.linkedinConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.LinkedinDetectorFeed.isVideo=this.isVideo.bind(this),this.LinkedinDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorFeed.getAdLinkedinObject=this.getAdLinkedinObject.bind(this),this.LinkedinDetectorFeed.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorFeed.HideElement=this.HideElement.bind(this),this.LinkedinDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorFeed.isCarousel=this.isCarousel.bind(this),this.LinkedinDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.LinkedinDetectorRightColumn.HideElement=this.HideElement.bind(this),this.LinkedinDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.LinkedinDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this),this.LinkedinDetectorRightColumn.ExtractAd=this.processAndSendLinkedinAd.bind(this),this.LinkedinDetectorRightColumn.getAdLinkedinObject=this.getAdLinkedinObject.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new D(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_l",JSON.stringify(this.linkedinConfig)))}IsAdContentRendered(x,$){let v=Z.GetFullElementSize(x);return Z.GetImagesSpacePercentage(this.linkedinConfig.TAGS_FOR_LOADING_CHECK,x,v).some((x=>x>=$))}processAndSendLinkedinAd(x,$,v=!1,C=document){let D=C.querySelector(`[${V.ATTRIBUTE_BIS_ID}=${x}]`);D&&(K.SendCandidatePlacementsCount(this.id,1,V.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN,null),K.SendAdCandidates(this.id,[$],V.MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN,null),p.t&&p.W&&(D.style.cssText+=v?V.STYLES_OUTLINE_VIDEO_AD:V.STYLES_OUTLINE_SUCCESS_DETECT))}}},1291:(x,$,v)=>{const C=v(655),D=v(1568),V=v(2880);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.id=x,this.feedObserver=null,this.linkedinConfig=C,this.feedContainer=null,this.AdBlockerAgent=v,this.adPlacementType=D.LINKEDIN_AD_PLACEMENT_TYPE_FEED}HideElement(){}setSizesAndIdForAllElements(x){}getAdLinkedinObject(x,$,v,C,D,V){}doesElementExists(x){}isCarousel(x){}isVideo(x,$){}IsAdContentRendered(x,$){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds()}processFeedAds(){this.extractOccurrences()}get getFeedContainer(){const x=this.linkedinConfig.FEED.QUERY_CONTAINER;let $=document.querySelector(x);return!$||$.children.length<3?null:$}extractOccurrences(){let{allCells:x,minImgSquarePercentage:$}=this.allCellsAndMinImgSpace();if(x.length)for(let v of x){if(V.GetElementSize(v),v.hasAttribute(D.ATTRIBUTE_BIS_ID))continue;if(!this.IsAdContentRendered(v,$))continue;let x=V.GenerateAndSetBisIdToLinkedinAds(v);this.setSizesAndIdForAllElements(v);const C=this.createHTML(v),p=this.getTargetUrl(v),K=this.getSocialAdvertiserUrl(v),Z=this.getAdvertiserName(v),O=this.isCarousel(v),U=this.isVideo(v,this.linkedinConfig.TAGS_FOR_VIDEO_CHECK),G=this.getUniqueDataId(v);this.removeBisAttribute(C);let w=this.getAdLinkedinObject(v,C,this.adPlacementType,p,K,Z,G);if(this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(v)&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),O&&(w.carouselSlidesData=this.getCarouselSlidesFromDOM(K,v)),v.querySelector("iframe")&&(w.doesHaveIframe=!0),U&&!O){const x=this.getVideoIdAndThumbnail(v);w.videoData=x||{}}setTimeout(this.ExtractAd.bind(this,x,w,U),100)}}allCellsAndMinImgSpace(){let x=[],$=0;return this.feedContainer&&(x=Array.from(this.feedContainer.children),$=this.linkedinConfig.FEED.IMG_SPACE_PERCENTAGE),x=x.filter((x=>this.linkedinConfig.FEED.COLLECT_AD_TYPE_EVENT?this.isPromoted(x):this.isPromoted(x)&&!x.querySelector(this.linkedinConfig.FEED.QUERY_CHECK_AD_TYPE_EVENT))),{allCells:x,minImgSquarePercentage:$}}isPromoted(x){const $=this.linkedinConfig.FEED.QUERIES_IS_PROMOTED,v=this.linkedinConfig.PROMOTED_ALIASES;let C=!1;for(let D of $){let $=Array.from(x.querySelectorAll(D));$.length&&(C=$.some((x=>{let $=x.textContent.trim().toLowerCase();if($)return v.some((x=>$.indexOf(x)>=0))})))}return C}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0),V=this.feedContainer,p=V.cloneNode();return this.styleFixes(p),this.setWrapperStyles(V,p,x),p.appendChild(D),v.appendChild(p),$.appendChild(C),$.appendChild(v),$}setWrapperStyles(x,$,v){$.style.cssText=$.style.cssText+` max-width: ${this.maxWidthContainer(x)}`,$.style.cssText=$.style.cssText+` max-height: ${this.maxHeightContainer(v)}`}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}maxHeightContainer(x){return x?x.offsetHeight+"px":"auto"}styleFixes(x){x.style.overflow="hidden"}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll('body style, body link[rel="stylesheet"]');return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),v=document.createElement("meta");return v.setAttribute("charset","UTF-8"),x.append(v),$&&$.forEach(($=>{let v=$.cloneNode(!0);x.appendChild(v)})),x}getTargetUrl(x){const $=this.linkedinConfig.FEED.QUERY_TARGET_URL;let v=x.querySelector($);return v&&v.href?v.href:""}getSocialAdvertiserUrl(x){const $=this.linkedinConfig.FEED.QUERY_ADVERTISER_URL;let v=x.querySelector($),C="";return v&&v.href?(C=v.href,C):C}getAdvertiserName(x){let $=x.querySelector(this.linkedinConfig.FEED.QUERY_ADVERTISER_NAME);return $?$.innerText.trim():""}getVideoIdAndThumbnail(x){const $=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.QUERY_VIDEO_TAG_GET_VIDEO_ID,v=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.REGEXP_VIDEO_ID),C=x.querySelector($);if(!C)return null;const D=this.linkedinConfig.FEED.PARAMS_GET_VIDEO_ID.ATTRIBUTE_NAME_WITH_VIDEO_ID;let V=C.getAttribute(D);if(!V)return null;let p=V.match(v);return{videoId:p?.groups?.videoId?p.groups.videoId:null,previewImageUrl:V}}getCarouselSlidesFromDOM(x,$){let v=this.searchFirstImage($);if(!v)return[];let C=this.searchMatchedImgId(v);if(!C)return[];let D=this.getAllCodeElements();if(!D.length)return[];let V=this.filterCodeElements(D,C);if(!V.length)return[];let p=this.getSlidesDatas(V,x);return p.length?this.getSlidesImagesSources(p):[]}searchFirstImage(x){return x.querySelector(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_FIRST_IMG)}searchMatchedImgId(x){let $=new RegExp(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.REGEXP_IMG_ID),v=x.src.match($);return v.length&&1!==v.length?v[1]:null}getAllCodeElements(){return Array.from(document.querySelectorAll(this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.QUERY_CODE_ELEMENTS))}filterCodeElements(x,$){return x.filter((x=>x.innerHTML.includes($))).map((x=>"{"===x.innerHTML.trim()[0]?JSON.parse(x.innerHTML):{}))}getSlidesDatas(x,$){const v=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SOCIAL_ADV_URL,C=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_DATA;let D=x.map((x=>{if(!x.included)return{};let D=x.included.filter((x=>{let C=x;for(let x of v)if(C[x]&&(C=C[x]),$===C)return!0}));if(!D.length)return!1;let V=D[0];for(let x of C)V[x]&&(V=V[x]);return V}));return D.length?D[0]:[]}getSlidesImagesSources(x){const $=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_ROOT_URL,v=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_IMAGES_PATH_URL,C=this.linkedinConfig.FEED.PARAMS_GET_CAROUSEL_SLIDES.PATH_TO_SLIDE_TEXT;let D=[];for(let V of x){let x=V,p=V,K=V;for(let v of $)x[v]&&(x=x[v]);if(!x||"string"!=typeof x)break;for(let x of v)p[x]&&(p=p[x]);if(!p||"string"!=typeof p)break;for(let x of C)K[x]&&(K=K[x]);if(!K||"string"!=typeof K)break;let Z=x+p,O={source:this.transformToValidUrl(Z),text:K};D.push(O)}return D}transformToValidUrl(x){return x.replace(/amp\;/g,"")}removeBisAttribute(x){let $=x.querySelectorAll(`*[${D.ATTRIBUTE_BIS_ID}]`);$.length&&$.forEach((x=>{x.removeAttribute(D.ATTRIBUTE_BIS_ID)}))}getUniqueDataId(x){return x.querySelector(this.linkedinConfig.FEED.QUERY_GET_UNIQUE_ID)?.getAttribute("data-id")}}},8247:(x,$,v)=>{const C=v(655),D=v(2880),V=v(1568);v(9358);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.rightColumnContainer=null,this.rightColumnObserver=null,this.linkedinConfig=C,this.adPlacementType=V.LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN,this.promotedHeaderHeaderHeight=0}HideElement(){}setSizesAndIdForAllElements(x){}getAdLinkedinObject(x,$,v,C,D,V){}doesElementExists(x){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer(),!!this.rightColumnContainer}ActivateMutationObserver(){this.getRightColumnContainer()?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,V.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.rightColumnContainer=null,this.isObserverAlreadySet=!1)}getRightColumnContainer(){const x=document.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_CONTAINER);return x&&x.children.length?x:null}isPromoted(x){const $=x?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_PROMOTED),v=this.linkedinConfig.PROMOTED_ALIASES;let C=!1;if($){this.promotedHeaderHeaderHeight=$.parentElement.offsetHeight;let x=$.textContent.trim().toLowerCase();C=v.includes(x)}return C}Detector(){this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer(),this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.rightColumnContainer.querySelectorAll(this.linkedinConfig.RIGHT_COLUMN.QUERY_AD_CONTAINER).forEach((x=>{this.isIframe(x)&&this.processIFrame(x)}))}isIframe(x){return!!x?.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME)}processIFrame(x){const $=x.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IS_IFRAME),v=$?.contentDocument;if(this.isPromoted(v)){const $=[];this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD.forEach((x=>$.push(...v.querySelectorAll(x)))),this.AdBlockerAgent.IsEnabledForLinkedin()&&!this.AdBlockerAgent.IsElementHidden(x)&&(this.HideElement(x),this.AdBlockerAgent.SetHiddenAmount($.length)),this.extractOccurrences($,v)}}extractOccurrences(x,$){x.length&&x.forEach((x=>{if(D.GetElementSize(x),x.hasAttribute(V.ATTRIBUTE_BIS_ID))return;const v=D.GenerateAndSetBisIdToLinkedinAds(x);this.setSizesAndIdForAllElements(x);const C=this.cloneIframeWithAd($,x),p=this.getTargetUrl(x);this.removeBisAttribute(C);const K=this.getAdLinkedinObject(x,C,this.adPlacementType,p,"","");setTimeout(this.ExtractAd.bind(this,v,K,!1,$),100)}))}cloneIframeWithAd(x,$){const v=document.createElement("html"),C=this.cloneHeadWithStyles(x),D=x.querySelector("body").cloneNode(!0),V=this.linkedinConfig.RIGHT_COLUMN.QUERIES_IFRAME_AD_WRAPPER.find((x=>!!D.querySelector(x))),p=D.querySelector(V),K=D.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_IFRAME_STYLES_CONTAINER),Z=D.querySelector("script");return Z&&Z.remove(),K.style.height="auto",K.style.width=`${$.offsetWidth}px`,p.parentNode.style.height="auto",p.replaceChildren(),p.appendChild($.cloneNode(!0)),v.appendChild(C),v.appendChild(D),v}cloneHeadWithStyles(x){const $=x||document,v=document.createElement("head"),C=$.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head style'),D=document.createElement("meta");return D.setAttribute("charset","UTF-8"),v.append(D),C&&C.forEach((x=>{let $=x.cloneNode(!0);v.appendChild($)})),v}getTargetUrl(x){return(x.querySelector(this.linkedinConfig.RIGHT_COLUMN.QUERY_TARGET_URL)||x).href||""}removeBisAttribute(x){let $=x.querySelectorAll(`*[${V.ATTRIBUTE_BIS_ID}]`);$.length&&$.forEach((x=>{x.removeAttribute(V.ATTRIBUTE_BIS_ID)}))}}},9170:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this.id=x}InjectDetector(x,$){if(document.head){let x=document.createElement("script");this.setAttributes(x),document.head.appendChild(x)}}setAttributes(x){const $=C.getURL("../executors/linkedin.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}}},2075:(x,$,v)=>{const C=v(2629),D=v(1050),V=v(2765),p=v(1568),K=v(5364),Z=v(8384),O=v(8792),U=v(9346),G=v(2880);x.exports=class extends U{constructor(x,$,v){super(x),this.id=x,this.AdBlockerAgent=v,this.pinterestConfig=$.PinterestConfig,this.onPageRefreshed=this.onPageUrlChanged,this.available=!1,this.pinterestFeedDetector=null,this.pinterestPinDetector=null,this.pinterestSearchDetector=null,this.VideoTrafficDetector=null,this.ActivateVideoTrafficDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(p.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),100)}PageRefreshed(x,$){this.pageUrl=x,this.ticketId=$,this.onPageUrlChanged&&this.onPageUrlChanged(x,$)}ActivateDetector(x){x===p.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.pinterestFeedDetector=new C(this.id,this.pinterestConfig.FEED_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestSearchDetector=new V(this.id,this.pinterestConfig.SEARCH_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.pinterestPinDetector=new D(this.id,this.pinterestConfig.PIN_PAGE.DETECTOR_OPTIONS,this.pinterestConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.pinterestFeedDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestFeedDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestFeedDetector.isCarousel=this.isCarousel.bind(this),this.pinterestFeedDetector.HideElement=this.HideElement.bind(this),this.pinterestFeedDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestFeedDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestFeedDetector.isVideo=this.isVideo.bind(this),this.pinterestFeedDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestFeedDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestPinDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestPinDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestPinDetector.isCarousel=this.isCarousel.bind(this),this.pinterestPinDetector.HideElement=this.HideElement.bind(this),this.pinterestPinDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestPinDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestPinDetector.isVideo=this.isVideo.bind(this),this.pinterestPinDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestPinDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this),this.pinterestSearchDetector.getGlobalContainer=this.GetGlobalContainer.bind(this),this.pinterestSearchDetector.sendAdCandidatesToBackground=this.sendPinterestAd.bind(this),this.pinterestSearchDetector.isCarousel=this.isCarousel.bind(this),this.pinterestSearchDetector.HideElement=this.HideElement.bind(this),this.pinterestSearchDetector.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.pinterestSearchDetector.getAdPinterestObject=this.getAdPinterestObject.bind(this),this.pinterestSearchDetector.isVideo=this.isVideo.bind(this),this.pinterestSearchDetector.removeCloneElement=this.removeCloneElement.bind(this),this.pinterestSearchDetector.IsPostContentRendered=this.IsPostContentRendered.bind(this)}ActivateDetectors(){this.pinterestFeedDetector.ActivateDetector(),this.pinterestSearchDetector.ActivateDetector(),this.pinterestPinDetector.ActivateDetector()}DeactivateDetectors(x){this.pinterestFeedDetector.DeactivateDetector(x),this.pinterestSearchDetector.DeactivateDetector(x),this.pinterestPinDetector.DeactivateDetector(x)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new O(this.id),this.VideoTrafficDetector.InjectDetector(this.id+"_p",JSON.stringify(this.pinterestConfig)))}GetGlobalContainer(){return document.querySelector(this.pinterestConfig.MAIN_CONTAINER_QUERY)}getUniqueContentId(x){const $=x.querySelector(`div[${this.pinterestConfig.UNIQUE_ATTRIBUTE}]`);return $?$.getAttribute(this.pinterestConfig.UNIQUE_ATTRIBUTE):""}IsPostContentRendered(x,$,v){let C=!1;if(x){let D=G.GetFullElementSize(x);if(D.w>0&&D.h>0){G.GetImagesSpacePercentage(v,x,D).some((x=>x>=$))&&(C=!0)}}return C}sendPinterestAd(x,$){let v=document.querySelector(`[${p.ATTRIBUTE_BIS_ID}=${x}]`);v&&(K.SendCandidatePlacementsCount(this.id,1,p.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST,null),K.SendAdCandidates(this.id,[$],p.MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST,null),Z.t&&Z.W&&($.videoData?v.style.cssText+=p.STYLES_OUTLINE_VIDEO_AD:v.style.cssText+=p.STYLES_OUTLINE_SUCCESS_DETECT))}}},2629:(x,$,v)=>{v(9346);const C=v(1568),D=v(2880),V=v(655);x.exports=class extends V{constructor(x,$,v,D){super(x,$,D),this.id=x,this.pinterestConfig=v,this.adBlockerAgent=D,this.adPlacementType=C.PINTEREST_AD_PLACEMENT_TYPE_FEED,this.feedContainer=null,this.lastFeedAdsCheckTime=0,this.feedObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(x,$){}setSizesAndIdForAllElements(x){}getAdPinterestObject(x,$,v,C,D,V,p){}isVideo(x,$){}removeCloneElement(x){}IsPostContentRendered(x,$,v){}ActualizeDetector(){return!!this.isFeedPageURL()&&(this.feedContainer=this.getFeedContainer(),!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,C.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!0)}Detector(){let x=this.detectPromotedPins();if(x&&x.length)for(let $ of x){D.GetElementSize($);if(!$.hasAttribute(C.ATTRIBUTE_BIS_ID)){let x=D.GenerateAndSetBisIdToPinterestAds($);this.setSizesAndIdForAllElements($);const v=this.createHTML($),V=this.getAdvertiserName($),p=this.getTargetUrl($),K=this.getTitleText($),Z=this.getAdvertiserUrl($),O=this.getAdPinterestObject($,v,V,p,K,Z,C.PINTEREST_AD_PLACEMENT_TYPE_FEED);this.isVideo($,this.pinterestConfig.FEED_PAGE.TAGS_FOR_VIDEO_CHECK)&&(O.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden($)&&(this.HideElement($),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(v);let U=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,x,O),clearTimeout(U)}),100)}}}detectPromotedPins(){if(!this.feedContainer)return[];let x=[],$=this.pinterestConfig.FEED_PAGE.IMG_SPACE_PERCENTAGE,v=this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,C=Array.from(this.feedContainer.childNodes),D=this.pinterestConfig.PROMOTED_ALIASES;for(let V of C)if(this.IsPostContentRendered(V,$,this.pinterestConfig.FEED_PAGE.TAGS_FOR_LOADING_CHECK)){const $=V.querySelector(this.pinterestConfig.FEED_PAGE.PROMOTED_PINS_QUERY);if(!$)continue;let C=$.innerText;if(!C||"style"===$.nodeName.toLowerCase()){let x=window.getComputedStyle($,":before");C=$.textContent,x&&x.content&&!C&&(C=x.content);for(let x of v){if(!C){C="";break}let $=x[0],v=x[1],D="join"!==$?new RegExp(v,"g"):"";"join"!==$||1!==C.length?C="replace"===$?C[$](D,""):C[$](D):C=C[0]}}D.some((x=>C.search(x)>=0))&&x.push(V)}return x}getFeedContainer(){let x=this.getGlobalContainer(),$=null;return x?($=x.querySelector(this.pinterestConfig.FEED_PAGE.CONTAINER_QUERY),$):$}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll("body style");return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head script');return $&&$.forEach(($=>{let v=$.cloneNode();x.appendChild(v)})),x}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0);return this.styleFixes(D),v.appendChild(D),$.appendChild(C),$.appendChild(v),$}getAdvertiserName(x){const $=this.pinterestConfig.FEED_PAGE.ADVERTISER_NAME_QUERY;let v=Array.from(x.querySelectorAll($));for(let x of v)if(x&&x.innerText)return x.innerText;return""}getAdvertiserUrl(x){const $=this.pinterestConfig.FEED_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let v=x.querySelector($);return v?v.href:""}styleFixes(x){x.style.cssText=x.style.cssText.replace(/transform.[^;]*;/,"");for(let $ of this.pinterestConfig.FEED_PAGE.STYLE_FIXES){const v=x.querySelector($.ELEMENT_QUERY);let D=$.NEW_RULES;if(v){if($.NEW_RULES.includes("${")){let x=JSON.parse(v.getAttribute(C.ATTRIBUTE_BIS_SIZE)).h;D=$.NEW_RULES.replace(/\$\{.[^}]*\}/,x)}v.style.cssText+=D}}}getTargetUrl(x){const $=this.pinterestConfig.FEED_PAGE.TARGET_URL_QUERY;let v=x.querySelector($),C="";return v&&v.href&&(C=v.href),C}getTitleText(x){const $=this.pinterestConfig.FEED_PAGE.TITLE_TEXT_QUERY;let v=x.querySelector($),C="";return v&&v.textContent.length&&(C=v.textContent),C}isFeedPageURL(){return-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin|search)\//)}}},1050:(x,$,v)=>{const C=v(1568),D=v(2880),V=v(655);x.exports=class extends V{constructor(x,$,v,D){super(x,$,D),this.id=x,this.pinterestConfig=v,this.adBlockerAgent=D,this.pinContainer=null,this.adPlacementType=C.PINTEREST_AD_PLACEMENT_TYPE_PIN,this.lastPinAdsCheckTime=0,this.pinObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(x,$){}setSizesAndIdForAllElements(x){}getAdPinterestObject(x,$,v,C,D,V,p){}isVideo(x,$){}removeCloneElement(x){}IsPostContentRendered(x,$,v){}ActualizeDetector(){return this.pinContainer=this.getPinContainer(),!!this.pinContainer}ActivateMutationObserver(){this.pinContainer?(this.pinObserver||(this.pinObserver=new MutationObserver(this.DetectCandidates.bind(this,C.AD_DETECTOR_INITIATOR_MUTATION)),this.pinObserver.observe(this.pinContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.pinObserver&&(this.pinObserver.disconnect(),this.pinObserver=null,this.pinContainer=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.detectPromotedPins();if(x&&x.length)for(let $ of x){D.GetElementSize($);if(!$.hasAttribute(C.ATTRIBUTE_BIS_ID)){let x=D.GenerateAndSetBisIdToPinterestAds($);this.setSizesAndIdForAllElements($);const v=this.createHTML($),C=this.getAdvertiserName($),V=this.getTargetUrl($),p=this.getTitleText($),K=this.getAdvertiserUrl($),Z=this.getAdPinterestObject($,v,C,V,p,K,this.adPlacementType);this.isVideo($,this.pinterestConfig.PIN_PAGE.TAGS_FOR_VIDEO_CHECK)&&(Z.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.adBlockerAgent.IsElementHidden($)&&(this.HideElement($),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(v);let O=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,x,Z),clearTimeout(O)}),100)}}}detectPromotedPins(){if(!this.pinContainer)return[];let x=[],$=this.pinterestConfig.PIN_PAGE.IMG_SPACE_PERCENTAGE,v=this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,C=Array.from(this.pinContainer.childNodes),D=this.pinterestConfig.PROMOTED_ALIASES;for(let V of C)if(this.IsPostContentRendered(V,$,this.pinterestConfig.PIN_PAGE.TAGS_FOR_LOADING_CHECK)){const $=V.querySelector(this.pinterestConfig.PIN_PAGE.PROMOTED_PINS_QUERY);if(!$)continue;let C=$.innerText;if(!C||"style"===$.nodeName.toLowerCase()){let x=window.getComputedStyle($,":before");C=$.textContent,x&&x.content&&!C&&(C=x.content);for(let x of v){if(!C){C="";break}let $=x[0],v=x[1],D="join"!==$?new RegExp(v,"g"):"";"join"!==$||1!==C.length?C="replace"===$?C[$](D,""):C[$](D):C=C[0]}}D.some((x=>C.search(x)>=0))&&x.push(V)}return x}getPinContainer(){let x=this.getGlobalContainer(),$=null;return x?($=x.querySelector(this.pinterestConfig.PIN_PAGE.CONTAINER_QUERY),$):$}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll("body style");return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head script');return $&&$.forEach(($=>{let v=$.cloneNode();x.appendChild(v)})),x}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0);return this.styleFixes(D),v.appendChild(D),$.appendChild(C),$.appendChild(v),$}getAdvertiserName(x){const $=this.pinterestConfig.PIN_PAGE.ADVERTISER_NAME_QUERY;let v=Array.from(x.querySelectorAll($));for(let x of v)if(x&&x.innerText)return x.innerText;return""}getAdvertiserUrl(x){const $=this.pinterestConfig.PIN_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let v=x.querySelector($);return v?v.href:""}getTitleText(x){const $=this.pinterestConfig.PIN_PAGE.TITLE_TEXT_QUERY;let v=x.querySelector($),C="";return v&&v.textContent.length&&(C=v.textContent),C}styleFixes(x){x.style.cssText=x.style.cssText.replace(/transform.[^;]*;/,"");for(let $ of this.pinterestConfig.PIN_PAGE.STYLE_FIXES){const v=x.querySelector($.ELEMENT_QUERY);let D=$.NEW_RULES;if(v){if($.NEW_RULES.includes("${")){let x=JSON.parse(v.getAttribute(C.ATTRIBUTE_BIS_SIZE)).h;D=$.NEW_RULES.replace(/\$\{.[^}]*\}/,x)}v.style.cssText+=D}}}getTargetUrl(x){const $=this.pinterestConfig.PIN_PAGE.TARGET_URL_QUERY;let v=x.querySelector($),C="";return v&&v.href&&(C=v.href),C}isPinPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(pin)\//))}}},2765:(x,$,v)=>{const C=v(1568),D=v(2880),V=v(655);x.exports=class extends V{constructor(x,$,v,C){super(x,$,C),this.id=x,this.pinterestConfig=v,this.adBlockerAgent=C,this.searchContainer=null,this.lastSearchPageAdsCheckTime=0,this.searchPageObserver=null,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0}isCarousel(){}HideElement(){}getGlobalContainer(){}sendAdCandidatesToBackground(x,$){}setSizesAndIdForAllElements(x){}getAdPinterestObject(x,$,v,C,D,V,p){}isVideo(x,$){}removeCloneElement(x){}IsPostContentRendered(x,$,v){}ActualizeDetector(){return this.searchContainer=this.getSearchContainer(),!!this.searchContainer}ActivateMutationObserver(){this.searchContainer?(this.searchPageObserver||(this.searchPageObserver=new MutationObserver(this.DetectCandidates.bind(this,C.AD_DETECTOR_INITIATOR_MUTATION)),this.searchPageObserver.observe(this.searchContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.searchPageObserver&&(this.searchPageObserver.disconnect(),this.searchPageObserver=null,this.searchContainer=null,this.isObserverAlreadySet=!1)}Detector(){let x=this.detectPromotedPins();if(x&&x.length)for(let $ of x){D.GetElementSize($);if(!$.hasAttribute(C.ATTRIBUTE_BIS_ID)){let x=D.GenerateAndSetBisIdToPinterestAds($);this.setSizesAndIdForAllElements($);const v=this.createHTML($),V=this.getAdvertiserName($),p=this.getTargetUrl($),K=this.getTitleText($),Z=this.getAdvertiserUrl($),O=this.getAdPinterestObject($,v,V,p,K,Z,C.PINTEREST_AD_PLACEMENT_TYPE_SEARCH);this.isVideo($,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_VIDEO_CHECK)&&(O.videoData={}),this.adBlockerAgent.IsEnabledForPinterest()&&!this.AdBlockerAgent.IsElementHidden($)&&(this.HideElement($),this.adBlockerAgent.SetHiddenAmount(1)),this.removeCloneElement(v);let U=setTimeout((()=>{this.sendAdCandidatesToBackground.call(this,x,O),clearTimeout(U)}),100)}}}detectPromotedPins(){if(!this.searchContainer)return[];let x=[],$=this.pinterestConfig.SEARCH_PAGE.IMG_SPACE_PERCENTAGE,v=this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY_BY_REGEXP,C=Array.from(this.searchContainer.childNodes),D=this.pinterestConfig.PROMOTED_ALIASES;for(let V of C)if(this.IsPostContentRendered(V,$,this.pinterestConfig.SEARCH_PAGE.TAGS_FOR_LOADING_CHECK)){const $=V.querySelector(this.pinterestConfig.SEARCH_PAGE.PROMOTED_PINS_QUERY);if(!$)continue;let C=$.innerText;if(!C||"style"===$.nodeName.toLowerCase()){let x=window.getComputedStyle($,":before");C=$.textContent,x&&x.content&&!C&&(C=x.content);for(let x of v){if(!C){C="";break}let $=x[0],v=x[1],D="join"!==$?new RegExp(v,"g"):"";"join"!==$||1!==C.length?C="replace"===$?C[$](D,""):C[$](D):C=C[0]}}D.some((x=>C.search(x)>=0))&&x.push(V)}return x}getSearchContainer(){let x=this.getGlobalContainer(),$=null;return x?($=x.querySelector(this.pinterestConfig.SEARCH_PAGE.CONTAINER_QUERY),$):$}get cloneBodyWithStyles(){const x=document.createElement("body"),$=document.querySelectorAll("body style");return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}get cloneHeadWithStyles(){const x=document.createElement("head"),$=document.querySelectorAll('head link[rel="stylesheet"], head script');return $&&$.forEach(($=>{let v=$.cloneNode();x.appendChild(v)})),x}createHTML(x){const $=document.createElement("html"),v=this.cloneBodyWithStyles,C=this.cloneHeadWithStyles,D=x.cloneNode(!0);return this.styleFixes(D),v.appendChild(D),$.appendChild(C),$.appendChild(v),$}getAdvertiserName(x){const $=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_NAME_QUERY;let v=Array.from(x.querySelectorAll($));for(let x of v)if(x&&x.innerText)return x.innerText;return""}getAdvertiserUrl(x){const $=this.pinterestConfig.SEARCH_PAGE.ADVERTISER_PINTEREST_URL_QUERY;let v=x.querySelector($);return v?v.href:""}styleFixes(x){x.style.cssText=x.style.cssText.replace(/transform.[^;]*;/,"");for(let $ of this.pinterestConfig.SEARCH_PAGE.STYLE_FIXES){const v=x.querySelector($.ELEMENT_QUERY);let D=$.NEW_RULES;if(v){if($.NEW_RULES.includes("${")){let x=JSON.parse(v.getAttribute(C.ATTRIBUTE_BIS_SIZE)).h;D=$.NEW_RULES.replace(/\$\{.[^}]*\}/,x)}v.style.cssText+=D}}}getTargetUrl(x){const $=this.pinterestConfig.SEARCH_PAGE.TARGET_URL_QUERY;let v=x.querySelector($),C="";return v&&v.href&&(C=v.href),C}getTitleText(x){const $=this.pinterestConfig.SEARCH_PAGE.TITLE_TEXT_QUERY;let v=x.querySelector($),C="";return v&&v.textContent.length&&(C=v.textContent),C}isSearchPageURL(){return!(-1===document.location.href.search(/\.pinterest\..{1,6}\/(search)\//))}}},8792:(x,$,v)=>{const C=v(2880);v(1568);x.exports=class{constructor(x){this.id=x}InjectDetector(x,$){if(document.head){var v=document.createElement("script");this.setAttributes(v),document.head.appendChild(v)}}setAttributes(x){const $=C.getURL("../executors/pinterest.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}}},5465:(x,$,v)=>{const C=v(9346),D=v(9105),V=v(1568),p=v(8384),K=v(5364),Z=v(9431),O=v(1145),U=v(9955);x.exports=class extends C{constructor(x,$,v){super(x),this.id=x,this.RedditVideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=v,this.redditConfig=$.RedditConfig,this.RedditDetectorFeed=null,this.RedditDetectorComments=null,this.RedditDetectorRightColumn=null,this.ActivateTrafficDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(V.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.RedditDetectorFeed.ActivateDetector(),this.RedditDetectorComments.ActivateDetector(),this.RedditDetectorRightColumn.ActivateDetector()}DeactivateDetectors(x){this.RedditDetectorFeed.DeactivateDetector(x),this.RedditDetectorComments.DeactivateDetector(x),this.RedditDetectorRightColumn.DeactivateDetector(x)}ActivateDetector(x){x===V.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.RedditDetectorFeed=new Z(this.id,this.redditConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorComments=new O(this.id,this.redditConfig.COMMENT_PAGE.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.RedditDetectorRightColumn=new U(this.id,this.redditConfig.RIGHT_COLUMN.DETECTOR_OPTIONS,this.AdBlockerAgent,this.redditConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.RedditDetectorFeed.isCarousel=this.isCarousel.bind(this),this.RedditDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorFeed.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorFeed.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorFeed.HideElement=this.HideElement.bind(this),this.RedditDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorComments.HideElement=this.HideElement.bind(this),this.RedditDetectorComments.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorComments.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorComments.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorComments.doesElementExists=this.doesElementExists.bind(this),this.RedditDetectorRightColumn.HideElement=this.HideElement.bind(this),this.RedditDetectorRightColumn.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.RedditDetectorRightColumn.getAdRedditObject=this.getAdRedditObject.bind(this),this.RedditDetectorRightColumn.ExtractAd=this.processAndSendRedditAd.bind(this),this.RedditDetectorRightColumn.doesElementExists=this.doesElementExists.bind(this)}ActivateTrafficDetector(){this.RedditVideoTrafficDetector||(this.RedditVideoTrafficDetector=new D(this.id),this.RedditVideoTrafficDetector.InjectDetector(this.id+"_r",JSON.stringify(this.redditConfig)))}processAndSendRedditAd(x,$,v=!1){let C=document.querySelector(`[${V.ATTRIBUTE_BIS_ID}=${x}]`);if(C){let x=!!C.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK);K.SendCandidatePlacementsCount(this.id,1,V.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT,null),K.SendAdCandidates(this.id,[$],V.MESSAGE_TYPE_CANDIDATES_DATA_REDDIT,null),p.t&&p.W&&(C.style.cssText+=v?V.STYLES_OUTLINE_VIDEO_AD:x?V.STYLES_OUTLINE_TEXT_AD:V.STYLES_OUTLINE_SUCCESS_DETECT)}}}},1145:(x,$,v)=>{const C=v(655),D=v(1568),V=v(2880);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.id=x,this.redditConfig=C,this.commentPageContainer=null,this.AdBlockerAgent=v,this.commentPageObserver=null,this.adPlacementType=D.REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE}HideElement(){}setSizesAndIdForAllElements(x){}getAdRedditObject(x,$,v,C){}doesElementExists(x){}ActualizeDetector(){return this.commentPageContainer=this.getCommentPageContainer,!!this.commentPageContainer}ActivateMutationObserver(){this.commentPageContainer?(this.commentPageObserver||(this.commentPageObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.commentPageObserver.observe(this.commentPageContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.commentPageObserver&&(this.commentPageObserver.disconnect(),this.commentPageObserver=null,this.isObserverAlreadySet=!1)}get getCommentPageContainer(){let x=this.redditConfig.COMMENT_PAGE.QUERIES,$=this.redditConfig.COMMENT_PAGE.MIN_HEIGHT,v=window.innerWidth,C=this.redditConfig.COMMENT_PAGE.QUERY_TO_EXCLUDE,D=this.redditConfig.COMMENT_PAGE.TOP_DISTANCE;for(let V of x){const x=Array.from(document.querySelectorAll(V));for(let V of x){const x=V.getBoundingClientRect(),p=(v-parseInt(V.offsetWidth))/v*100,K=Array.from(V.children);if(parseInt(V.offsetHeight)>$&&p>2&&(parseInt(x.top)>D||parseInt(x.top)<0)&&K.length>=3&&!V.querySelector(C))return V}}return null}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processCommentPageAds(!0),this.isCommentPage&&this.commentPageContainer&&this.processCommentPageAds()}processCommentPageAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let x=[],$=[],v=this.redditConfig.COMMENT_PAGE.IMG_SPACE_PERCENTAGE;return this.commentPageContainer&&(x=Array.from(this.commentPageContainer.children).map((x=>{let v=Array.from(x.querySelectorAll(this.redditConfig.COMMENT_PAGE.QUERY_AD_INSIDE_COMMENT_TREE));if(!v?.length)return x;for(let x of v)$.push(x)})).concat($)),x=x.filter((x=>!!x&&this.isPromoted(x))),{allCells:x,minImgSquarePercentage:v}}extractOccurrences(){let{allCells:x,minImgSquarePercentage:$}=this.allCellsAndMinImgSpace();if(x.length)for(let v of x)if(!v.hasAttribute(D.ATTRIBUTE_BIS_ID)&&!v.hasAttribute(D.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(v,$)&&this.isAvatarImgReady(v)){let x=V.GenerateAndSetBisIdToRedditAds(v),$=this.isVideoPost(v);if(this.isShadowRootExist(v)){const C=this.deepClone(v);let D=this.buildBannerHtml(C,this.adPlacementType),V=this.lookingTargetUrl(D),p=this.getAdRedditObject(v,D,V,this.adPlacementType);$&&(p.videoData=this.lookingForVideoDataInContent(v)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(v)&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),C.remove(),setTimeout(this.ExtractAd.bind(this,x,p,$),100)}else{this.setSizesAndIdForAllElements(v);const C=v.cloneNode(!0);let D=this.buildBannerHtml(C,this.adPlacementType),V=this.lookingTargetUrl(D),p=this.getAdRedditObject(v,D,V,this.adPlacementType);$&&(p.videoData=this.lookingForVideoDataInContent(v)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),C.remove(),setTimeout(this.ExtractAd.bind(this,x,p,$),100)}}}isShadowRootExist(x){if(x.shadowRoot)return!0;return Array.from(x.querySelectorAll("*")).some((x=>x.shadowRoot))}deepClone(x){let $=1;const v=(x,C)=>{const D=(x,$)=>{for(;x;)v(x,$),x=x.nextSibling};if(x){const v=x.cloneNode(!1);"SLOT"===x.nodeName&&(x.setAttribute("data-assigning-slot-id",$),v.setAttribute("data-assigning-slot-id",$)),x.assignedSlot&&x instanceof Element&&x.assignedSlot.hasAttribute("data-assigning-slot-id")&&v.setAttribute("data-assigned-to",x.assignedSlot.getAttribute("data-assigning-slot-id")),$+=1,C.appendChild(v),x.shadowRoot&&(this.setSizesAndIdForAllElements(x.shadowRoot),x.shadowRoot&&x.shadowRoot.firstChild.setAttribute&&V.SetFullSizeToElement(x.shadowRoot.firstChild),D(x.shadowRoot.firstChild,v)),this.setSizesAndIdForAllElements(x),x&&x.setAttribute&&V.SetFullSizeToElement(x),D(x.firstChild,v)}},C=document.createElement("div");return v(x,C),this.replaceElementsToRightSlots(C.firstElementChild),C.firstElementChild}replaceElementsToRightSlots(x){const $=x.querySelectorAll("*[data-assigned-to]"),v=x.querySelectorAll("*[data-assigning-slot-id]");for(let x of $){const $=x.getAttribute("data-assigned-to");for(let C of v){if($===C.getAttribute("data-assigning-slot-id")){C.appendChild(x);break}}}}buildBannerHtml(x,$){let v=this.commentPageContainer;this.setWrapperClass(v);let C=this.headCopyWithStyles;const D=document.createElement("html"),V=this.bodyCopyWithStyles,p=document.createElement("div"),K=v.cloneNode();return p.appendChild(K),this.setWrapperStyles(v,p),C.appendChild(this.getClassNameForStyles(x)),D.appendChild(C),K.appendChild(x),V.appendChild(p),D.appendChild(V),D}setWrapperClass(x){let $=x.parentElement,v=!1;if($)for(let D=0;D<50&&!v&&$;D++)if($.nextSibling&&-1!==$.nextSibling.nodeName.search(/style/i)&&$.previousSibling&&-1!==$.previousSibling.nodeName.search(/style/i)){var C=$.getAttribute("class");x.className+=x.className.length?" "+C:C,v=!0}else $=$.parentElement}get headCopyWithStyles(){const x=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach(($=>{const v=$.KEY,C=$.ALL_STYLES_FROM,D=$.COMMENT_PAGE;for(let $ of Array.from(x.children))if(-1!==$.nodeName.search(/^(style|link)$/gi)){if($.dataset[v]){let x=C.some((x=>$.dataset[v].includes(x)));!x&&this.isCommentPage&&(x=D.some((x=>$.dataset[v].includes(x)))),x||$.remove()}}else $.remove()})),this.neccesaryStyleRules){const $=document.createElement("style");$.innerHTML=this.neccesaryStyleRules,x.appendChild($)}return this.getStylesByTagName(x),x}get neccesaryStyleRules(){let x=null;const $=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((x=>{const $=new RegExp(x,"gi"),v=document.querySelector("head").outerHTML.match($);let C;return v&&v.length&&(C=v.join("")),C})).filter((x=>x));return $&&$.length&&(x=$.join("")),x}getClassNameForStyles(x){let $=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((v=>{const C=x.querySelector(v.CLASS_NAME_CHILD);let D=C&&C.parentElement?C.parentElement:null,V="";for(let x=1;x<v.DEEP_LEVEL;x++)D&&(D=D.parentElement);D&&(V=D.classList[0],$.innerHTML+="."+V+v.STYLES)})),$}getStylesByTagName(x){let $=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map(($=>{const v=new RegExp($.ATTRIBUTE_REGEX_VALUE);return Array.from(x.querySelectorAll($.TAG_NAME)).filter((x=>{if(x&&x[$.ATTRIBUTE_NAME]&&-1!==x[$.ATTRIBUTE_NAME].search(v))return x;x.remove()}))})).filter((x=>x)).forEach((x=>{$=$.concat(x)})),$.forEach(($=>{x.appendChild($)}))}get bodyCopyWithStyles(){const x=document.createElement("body"),$=document.querySelector("body style")?.cloneNode(!0);return $&&x.appendChild($),x}isPromoted(x){if(!x)return!1;let $=x,v=null;1===$.childElementCount&&$.firstElementChild.shadowRoot&&$.firstElementChild.shadowRoot.firstElementChild?v=$.firstElementChild.shadowRoot.firstElementChild:$.shadowRoot&&(v=$.shadowRoot.firstElementChild);let C=[];v&&(C=Array.from(v.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)));let D=Array.from($.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)).concat(C);return D.length?D.some((x=>{let $=x.textContent.trim().toLowerCase();return $?this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0)):x.dataset.beforeContent?($=x.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0))):void 0})):void 0}IsPostContentRendered(x,$){let v=!1;if(x){let C=x.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(C&&0===C.length){let C=V.GetFullElementSize(x);if(C.w>0){V.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,x,C).some((x=>x>=$))&&(v=!0)}}x.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(v=!0)}return v}lookingTargetUrl(x){let $="";let v=Array.from(x.querySelectorAll('a[target="_blank"]')).filter((x=>!(!x||!x.href||x.href.includes("reddit.com/user/"))));return v.length&&($=v[0].href),$}isAvatarImgReady(x){if(!x)return!1;let $=[x],v=null;1===x.childElementCount&&x.firstElementChild.shadowRoot&&(v=x.firstElementChild.shadowRoot.firstElementChild),x.shadowRoot&&(v=x.shadowRoot.firstElementChild),v&&$.push(v);let C=!1;for(let x of $){let $=x.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if($){if(!$.shadowRoot)return!0;if(C=!!$.shadowRoot&&!!$.shadowRoot.querySelector("img"),C)break}}return C}isVideoPost(x){let $=!1;if(x){$=Array.from(x.querySelectorAll("*")).some((x=>{let $=!!x.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!$&&x.shadowRoot&&($=!!x.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),$}))}return $}lookingForVideoDataInContent(x){const $=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let v=x.querySelector($);if(v){let x=v.getAttribute("src");v.getAttribute("poster");if(x&&!x.includes("blob:")){const $=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let v=x.match($),C=null;if(v?.groups?.videoId)return C=v.groups.videoId,{videoId:C,url:x}}}return{}}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+`max-width: ${this.maxWidthContainer(x)}`}get isCommentPage(){return-1!==window.location.href.indexOf(this.redditConfig.COMMENT_PAGE.TEXT_FROM_HREF)}get isCommentPopup(){return!!document.querySelector(this.redditConfig.COMMENT_PAGE.QUERY_IS_POPUP)}}},9431:(x,$,v)=>{const C=v(655),D=v(1568),V=v(2880);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.id=x,this.feedObserver=null,this.redditConfig=C,this.feedContainer=null,this.AdBlockerAgent=v,this.lastTopPosition=null,this.adPlacementType=D.REDDIT_AD_PLACEMENT_TYPE_FEED}isCarousel(){}HideElement(){}setSizesAndIdForAllElements(x){}getAdRedditObject(x,$,v,C){}doesElementExists(x){}ActualizeDetector(){return!!this.isValidUrl&&(this.feedContainer=this.getFeedContainer,!!this.feedContainer)}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.lastTopPosition=parseInt(this.feedContainer.getBoundingClientRect().top),this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processFeedAds(),this.isCommentPage||this.isCommentPopup||(this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processFeedAds())}processFeedAds(){this.extractOccurrences()}allCellsAndMinImgSpace(){let x=[],$=0;if(this.feedContainer){let v=Array.from(this.feedContainer.children),C=Array.from(document.querySelectorAll(this.redditConfig.FEED.QUERY_POSTS));x=v,C&&C.length&&(x=v.concat(C)),$=this.redditConfig.FEED.IMG_SPACE_PERCENTAGE}return x=x.filter((x=>this.isPromoted(x)&&x.offsetHeight<this.redditConfig.FEED.MAX_CHILD_HEIGHT)),{allCells:x,minImgSquarePercentage:$}}extractOccurrences(){let{allCells:x,minImgSquarePercentage:$}=this.allCellsAndMinImgSpace();if(x.length)for(let v of x)if(!v.hasAttribute(D.ATTRIBUTE_BIS_ID)&&!v.hasAttribute(D.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(v,$)&&this.isAvatarImgReady(v)){this.isCarousel(v)&&this.redditConfig.IS_ACTIVE_GET_SLIDES_SRC&&this.getSlidesSrc(v);let x=V.GenerateAndSetBisIdToRedditAds(v),$=this.isVideoPost(v);if(this.isShadowRootExist(v)){const C=this.deepClone(v);let D=this.buildBannerHtml(C,this.adPlacementType),V=this.getAdRedditObject(v,D,"",this.adPlacementType);$&&(V.videoData=this.lookingForVideoDataInContent(v)),this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(v)&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),C.remove(),setTimeout(this.ExtractAd.bind(this,x,V,$),100)}else{this.setSizesAndIdForAllElements(v);const C=v.cloneNode(!0);let D=this.buildBannerHtml(C,this.adPlacementType),p=this.getAdRedditObject(v,D,"",this.adPlacementType);p.size.h<300&&(p.size=V.SetFullSizeToElement(v)),$&&(p.videoData=this.lookingForVideoDataInContent(v)),this.AdBlockerAgent.IsEnabledForReddit()&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),C.remove(),setTimeout(this.ExtractAd.bind(this,x,p,$),100)}}}isShadowRootExist(x){if(x.shadowRoot)return!0;return Array.from(x.querySelectorAll("*")).some((x=>x.shadowRoot))}deepClone(x){let $=1;const v=(x,C)=>{const D=(x,$)=>{for(;x;)v(x,$),x=x.nextSibling};if(x){const v=x.cloneNode(!1);"SLOT"===x.nodeName&&(x.setAttribute("data-assigning-slot-id",$),v.setAttribute("data-assigning-slot-id",$)),x.assignedSlot&&x instanceof Element&&x.assignedSlot.hasAttribute("data-assigning-slot-id")&&v.setAttribute("data-assigned-to",x.assignedSlot.getAttribute("data-assigning-slot-id")),$+=1,C.appendChild(v),x.shadowRoot&&(this.setSizesAndIdForAllElements(x.shadowRoot),x.shadowRoot&&x.shadowRoot.firstChild.setAttribute&&V.SetFullSizeToElement(x.shadowRoot.firstChild),D(x.shadowRoot.firstChild,v)),this.setSizesAndIdForAllElements(x),x&&x.setAttribute&&V.SetFullSizeToElement(x),D(x.firstChild,v)}},C=document.createElement("div");return v(x,C),this.replaceElementsToRightSlots(C.firstElementChild),C.firstElementChild}replaceElementsToRightSlots(x){const $=x.querySelectorAll("*[data-assigned-to]"),v=x.querySelectorAll("*[data-assigning-slot-id]");for(let x of $){const $=x.getAttribute("data-assigned-to");for(let C of v){if($===C.getAttribute("data-assigning-slot-id")){C.appendChild(x);break}}}}getSlidesSrc(x){var $=x.querySelector("ul").parentElement,v=$.querySelector(this.redditConfig.CAROUSEL_BUTTON_NEXT),C=$.querySelector(this.redditConfig.CAROUSEL_BUTTON_PREVIUOS);v&&C&&(v.click(),C.click())}buildBannerHtml(x,$){let v=this.feedContainer;this.setWrapperClass(v);let C=this.headCopyWithStyles;const D=document.createElement("html"),V=this.bodyCopyWithStyles,p=document.createElement("div"),K=v.cloneNode();return p.appendChild(K),this.setWrapperStyles(v,p),C.appendChild(this.getClassNameForStyles(x)),D.appendChild(C),K.appendChild(x),V.appendChild(p),D.appendChild(V),D}setWrapperClass(x){let $=x.parentElement,v=!1;if($)for(let D=0;D<50&&!v&&$;D++)if($.nextSibling&&-1!==$.nextSibling.nodeName.search(/style/i)&&$.previousSibling&&-1!==$.previousSibling.nodeName.search(/style/i)){var C=$.getAttribute("class");x.className+=x.className.length?" "+C:C,v=!0}else $=$.parentElement}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+`max-width: ${this.maxWidthContainer(x)}`}get getFeedContainer(){let x=this.redditConfig.FEED.QUERIES,$=window.innerWidth,v=this.redditConfig.FEED.SECONDARY_CHECK_QUERY,C=this.redditConfig.FEED.QUERY_TO_EXCLUDE;for(let D of x){const x=Array.from(document.querySelectorAll(D));for(let D of x){const x=getComputedStyle(D),V=($-parseInt(x.width))/$*100;if(parseInt(x.height)>1e3&&V>2&&!D.querySelector(C))return D.querySelector(v)?D.querySelector(v):D}}return null}get headCopyWithStyles(){const x=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach(($=>{const v=$.KEY,C=$.ALL_STYLES_FROM,D=$.FEED_PAGE;for(let $ of Array.from(x.children))if(-1!==$.nodeName.search(/^(style|link)$/gi)){if($.dataset[v]){let x=C.some((x=>$.dataset[v].includes(x)));x||this.isCommentPage||(x=D.some((x=>$.dataset[v].includes(x)))),x||$.remove()}}else $.remove()})),this.neccesaryStyleRules){const $=document.createElement("style");$.innerHTML=this.neccesaryStyleRules,x.appendChild($)}return this.getStylesByTagName(x),x}get neccesaryStyleRules(){let x=null;const $=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((x=>{const $=new RegExp(x,"gi"),v=document.querySelector("head").outerHTML.match($);let C;return v&&v.length&&(C=v.join("")),C})).filter((x=>x));return $&&$.length&&(x=$.join("")),x}getClassNameForStyles(x){let $=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((v=>{const C=x.querySelector(v.CLASS_NAME_CHILD);let D=C&&C.parentElement?C.parentElement:null,V="";for(let x=1;x<v.DEEP_LEVEL;x++)D&&(D=D.parentElement);D&&(V=D.classList[0],$.innerHTML+="."+V+v.STYLES)})),$}getStylesByTagName(x){let $=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map(($=>{const v=new RegExp($.ATTRIBUTE_REGEX_VALUE);return Array.from(x.querySelectorAll($.TAG_NAME)).filter((x=>{if(x&&x[$.ATTRIBUTE_NAME]&&-1!==x[$.ATTRIBUTE_NAME].search(v))return x;x.remove()}))})).filter((x=>x)).forEach((x=>{$=$.concat(x)})),$.forEach(($=>{x.appendChild($)}))}get bodyCopyWithStyles(){const x=document.createElement("body"),$=Array.from(document.querySelectorAll("body style")).map((x=>{if(x)return x.cloneNode(!0)}));return $&&$.forEach(($=>{x.appendChild($)})),x}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}isVideoPost(x){let $=!1;if(x){$=Array.from(x.querySelectorAll("*")).some((x=>{let $=!!x.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length;return!$&&x.shadowRoot&&($=!!x.shadowRoot.querySelectorAll(this.redditConfig.TAGS_FOR_VIDEO_CHECK).length),$}))}return $}lookingForVideoDataInContent(x){const $=this.redditConfig.VIDEO_TRAFFIC_DETECTOR.QUERY_VIDEO_DATA_FROM_CONTENT;let v=x.querySelector($);if(v){let x=v.getAttribute("src");v.getAttribute("poster");if(x&&!x.includes("blob:")){const $=new RegExp(this.redditConfig.VIDEO_TRAFFIC_DETECTOR.VIDEO_ID_REGEX);let v=x.match($),C=null;if(v?.groups?.videoId)return C=v.groups.videoId,{videoId:C,url:x}}}return{}}isPromoted(x){if(x){let $=x;1===$.childElementCount&&$.firstElementChild.shadowRoot&&$.firstElementChild.shadowRoot.firstElementChild&&($=$.firstElementChild.shadowRoot.firstElementChild);let v=Array.from($.querySelectorAll(this.redditConfig.FEED.PROMOTED_SELECTOR)),C=Array.from($.querySelectorAll(this.redditConfig.COMMENT_PAGE.PROMOTED_SELECTOR)),D=Array.from(x.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR)),V=v.concat(D).concat(C);if(V.length)return V.some((x=>{let $=x.textContent.trim().toLowerCase();return $?this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0)):x.dataset.beforeContent?($=x.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0))):void 0}))}return!1}IsPostContentRendered(x,$){let v=!1;if(x){let C=x.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(C&&0===C.length){let C=V.GetFullElementSize(x);if(C.w>0){V.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,x,C).some((x=>x>=$))&&(v=!0)}}x.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(v=!0)}return v}isAvatarImgReady(x){if(!x)return!1;let $=[x],v=null;1===x.childElementCount&&x.firstElementChild.shadowRoot&&(v=x.firstElementChild.shadowRoot.firstElementChild),x.shadowRoot&&(v=x.shadowRoot.firstElementChild),v&&$.push(v);let C=!1;for(let x of $){let $=x.querySelector(this.redditConfig.QUERY_CHECK_READY_AD_CELLS);if($){if(!$.shadowRoot)return!0;if(C=!!$.shadowRoot&&!!$.shadowRoot.querySelector("img"),C)break}}return C}get isValidUrl(){return!this.redditConfig.FEED.INVALID_URL_PATHS.some((x=>window.location.href.includes(x)))}}},9955:(x,$,v)=>{const C=v(655),D=v(1568),V=v(2880);x.exports=class extends C{constructor(x,$,v,C){super(x,$,v),this.id=x,this.rightColumnObserver=null,this.redditConfig=C,this.rightColumnContainer=null,this.AdBlockerAgent=v,this.lastTopPosition=null,this.adPlacementType=D.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN}HideElement(){}setSizesAndIdForAllElements(x){}getAdRedditObject(x,$,v,C){}doesElementExists(x){}ActualizeDetector(){return this.rightColumnContainer=this.getRightColumnContainer,!!this.rightColumnContainer}ActivateMutationObserver(){this.rightColumnContainer?(this.rightColumnObserver||(this.rightColumnObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.rightColumnObserver.observe(this.rightColumnContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.rightColumnObserver&&(this.rightColumnObserver.disconnect(),this.rightColumnObserver=null,this.isObserverAlreadySet=!1)}Detector(){this.AdBlockerAgent.IsEnabledForReddit()&&this.processRightColumnAds(),this.rightColumnContainer=this.doesElementExists(this.rightColumnContainer)?this.rightColumnContainer:this.getRightColumnContainer,this.rightColumnContainer&&this.processRightColumnAds()}processRightColumnAds(){this.extractOccurrences(D.REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN)}allCellsAndMinImgSpace(){let x=[],$=0;return this.rightColumnContainer&&this.rightColumnContainer.children&&(x=Array.from(this.rightColumnContainer.children).map((x=>x.querySelector("div ~ div > button")?x.querySelector("div:nth-child(1)"):"HR"===x.nodeName||0===x.getBoundingClientRect().height?null:x)).filter((x=>x)),$=this.redditConfig.RIGHT_COLUMN.IMG_SPACE_PERCENTAGE),x=x.filter((x=>this.isPromoted(x))),{allCells:x,minImgSquarePercentage:$}}extractOccurrences(){let{allCells:x,minImgSquarePercentage:$}=this.allCellsAndMinImgSpace();if(x.length)for(let v of x)if(!v.hasAttribute(D.ATTRIBUTE_BIS_ID)&&!v.hasAttribute(D.ATTRIBUTE_BIS_SIZE)&&this.IsPostContentRendered(v,$)){let x=V.GenerateAndSetBisIdToRedditAds(v);if(this.isShadowRootExist(v)){const $=this.deepClone(v);let C=this.buildBannerHtml($),D=this.lookingTargetUrl(C),V=this.getAdRedditObject(v,C,D,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(v)&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),$.remove(),setTimeout(this.ExtractAd.bind(this,x,V),100)}else{this.setSizesAndIdForAllElements(v);const $=v.cloneNode(!0);let C=this.buildBannerHtml($),D=this.lookingTargetUrl(C),V=this.getAdRedditObject(v,C,D,this.adPlacementType);this.AdBlockerAgent.IsEnabledForReddit()&&!this.AdBlockerAgent.IsElementHidden(v)&&(this.HideElement(v),this.AdBlockerAgent.SetHiddenAmount(1)),$.remove(),setTimeout(this.ExtractAd.bind(this,x,V),100)}}}isShadowRootExist(x){if(x.shadowRoot)return!0;return Array.from(x.querySelectorAll("*")).some((x=>x.shadowRoot))}deepClone(x){let $=1;const v=(x,C)=>{const D=(x,$)=>{for(;x;)v(x,$),x=x.nextSibling};if(x){const v=x.cloneNode(!1);"SLOT"===x.nodeName&&(x.setAttribute("data-assigning-slot-id",$),v.setAttribute("data-assigning-slot-id",$)),x.assignedSlot&&x instanceof Element&&x.assignedSlot.hasAttribute("data-assigning-slot-id")&&v.setAttribute("data-assigned-to",x.assignedSlot.getAttribute("data-assigning-slot-id")),$+=1,C.appendChild(v),x.shadowRoot&&(this.setSizesAndIdForAllElements(x.shadowRoot),x.shadowRoot&&x.shadowRoot.firstChild.setAttribute&&V.SetFullSizeToElement(x.shadowRoot.firstChild),D(x.shadowRoot.firstChild,v)),this.setSizesAndIdForAllElements(x),x&&x.setAttribute&&V.SetFullSizeToElement(x),D(x.firstChild,v)}},C=document.createElement("div");return v(x,C),this.replaceElementsToRightSlots(C.firstElementChild),C.firstElementChild}buildBannerHtml(x){let $=this.rightColumnContainer;this.setWrapperClass($);let v=this.headCopyWithStyles;const C=document.createElement("html"),D=this.bodyCopyWithStyles,V=document.createElement("div"),p=$.cloneNode();return V.appendChild(p),this.setWrapperStyles($,V),v.appendChild(this.getClassNameForStyles(x)),C.appendChild(v),p.appendChild(x),D.appendChild(V),C.appendChild(D),C}setWrapperClass(x){let $=x.parentElement,v=!1;if($)for(let D=0;D<50&&!v&&$;D++)if($.nextSibling&&-1!==$.nextSibling.nodeName.search(/style/i)&&$.previousSibling&&-1!==$.previousSibling.nodeName.search(/style/i)){var C=$.getAttribute("class");x.className+=x.className.length?" "+C:C,v=!0}else $=$.parentElement}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+`max-width: ${this.maxWidthContainer(x)}`}replaceElementsToRightSlots(x){const $=x.querySelectorAll("*[data-assigned-to]"),v=x.querySelectorAll("*[data-assigning-slot-id]");for(let x of $){const $=x.getAttribute("data-assigned-to");for(let C of v){if($===C.getAttribute("data-assigning-slot-id")){C.appendChild(x);break}}}}isPromoted(x){if(x){let $=x,v=Array.from($.querySelectorAll(this.redditConfig.RIGHT_COLUMN.PROMOTED_SELECTOR));if(v.length)return v.some((x=>{let $=x.textContent.trim().toLowerCase();return $?this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0)):x.dataset.beforeContent?($=x.dataset.beforeContent,this.redditConfig.PROMOTED_ALIASES.some((x=>$.indexOf(x)>=0))):void 0}))}return!1}IsPostContentRendered(x,$){let v=!1;if(x){let C=x.querySelectorAll(this.redditConfig.PROGRESS_SELECTOR);if(0===C?.length){let C=V.GetFullElementSize(x);if(C.w>0&&C.h>0){V.GetImagesSpacePercentage(this.redditConfig.TAGS_FOR_LOADING_CHECK,x,C).some((x=>x>=$))&&(v=!0)}}x.querySelector(this.redditConfig.TAGS_FOR_TEXT_AD_CHECK)&&(v=!0)}return v}lookingTargetUrl(x){let $="";let v=Array.from(x.querySelectorAll('a[target="_blank"]')).filter((x=>!(!x||!x.href||x.href.includes("reddit.com/user/"))));return v.length&&($=v[0].href),$}get headCopyWithStyles(){const x=document.querySelector("head").cloneNode(!0);if(this.redditConfig.NECESSARY_STYLES.BY_DATA_ATTRIBUTE.forEach(($=>{const v=$.KEY,C=$.ALL_STYLES_FROM,D=$.FEED_PAGE;for(let $ of Array.from(x.children))if(-1!==$.nodeName.search(/^(style|link)$/gi)){if($.innerHTML=$.innerHTML.replace(/}.[^}]*{visibility:hidden}/,"}"),$.dataset[v]){let x=C.some((x=>$.dataset[v].includes(x)));x||this.isCommentPage||(x=D.some((x=>$.dataset[v].includes(x)))),x||$.remove()}}else $.remove()})),this.neccesaryStyleRules){const $=document.createElement("style");$.innerHTML=this.neccesaryStyleRules,x.appendChild($)}return this.getStylesByTagName(x),x}get neccesaryStyleRules(){let x=null;const $=this.redditConfig.NECESSARY_STYLES.BY_QUERIES_RULES.map((x=>{const $=new RegExp(x,"gi"),v=document.querySelector("head").outerHTML.match($);let C;return v&&v.length&&(C=v.join("")),C})).filter((x=>x));return $&&$.length&&(x=$.join("")),x}getClassNameForStyles(x){let $=document.createElement("style");return this.redditConfig.NECESSARY_STYLES.BY_CLASS_NAME.forEach((v=>{const C=x.querySelector(v.CLASS_NAME_CHILD);let D=C&&C.parentElement?C.parentElement:null,V="";for(let x=1;x<v.DEEP_LEVEL;x++)D&&(D=D.parentElement);D&&(V=D.classList[0],$.innerHTML+="."+V+v.STYLES)})),$}getStylesByTagName(x){let $=[];this.redditConfig.NECESSARY_STYLES.BY_TAG_NAME.map(($=>{const v=new RegExp($.ATTRIBUTE_REGEX_VALUE);return Array.from(x.querySelectorAll($.TAG_NAME)).filter((x=>{if(x&&x[$.ATTRIBUTE_NAME]&&-1!==x[$.ATTRIBUTE_NAME].search(v))return x;x.remove()}))})).filter((x=>x)).forEach((x=>{$=$.concat(x)})),$.forEach(($=>{x.appendChild($)}))}get bodyCopyWithStyles(){const x=document.createElement("body"),$=document.querySelector("body style")?.cloneNode(!0);return $&&x.appendChild($),x}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}get getRightColumnContainer(){const x=this.redditConfig.RIGHT_COLUMN.QUERIES;let $=null;for(let v of x){let x=Array.from(document.querySelectorAll(v));if(!x.length)continue;let C=x.filter((x=>x.children.length>2));if(C&&C.length){$=C[0];break}}return $}}},9105:(x,$,v)=>{const C=v(2880);v(1568);x.exports=class{constructor(x){this.id=x}setAttributes(x){const $=C.getURL("../executors/reddit.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}InjectDetector(){if(document.head){var x=document.createElement("script"),$=function(){document.head.appendChild(x),window.removeEventListener("DOMContentLoaded",$)};this.setAttributes(x),window.addEventListener("DOMContentLoaded",$)}}}},5849:(x,$,v)=>{const C=v(9346),D=v(1568),V=v(8384),p=v(5364),K=v(1687),Z=v(8838),O=v(2880),U=v(9358);x.exports=class extends C{constructor(x,$,v){super(x),this.id=x,this.VideoTrafficDetector=null,this.onPageRefreshed=this.onPageUrlChanged,this.AdBlockerAgent=v,this.tiktokConfig=$.TiktokConfig,this.tiktokDetectorFeed=null,this.ActivateTrafficDetector()}onPageUrlChanged(){this.available&&setTimeout((()=>{this.DeactivateDetectors(D.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateDetectors(){this.tiktokDetectorFeed.ActivateDetector()}DeactivateDetectors(x){this.tiktokDetectorFeed.DeactivateDetector(x)}ActivateDetector(x){x===D.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.tiktokDetectorFeed=new K(this.id,this.tiktokConfig.FEED.DETECTOR_OPTIONS,this.AdBlockerAgent,this.tiktokConfig),this.AddNecessaryMethods(),this.ActivateDetectors()}AddNecessaryMethods(){this.tiktokDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.tiktokDetectorFeed.getTiktokAdObject=this.getTiktokAdObject.bind(this),this.tiktokDetectorFeed.ExtractAd=this.processAndSendTiktokAd.bind(this),this.tiktokDetectorFeed.removePostCopy=this.removePostCopy.bind(this),this.tiktokDetectorFeed.HideElement=this.HideElement.bind(this)}ActivateTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new Z(this.id,this.AdBlockerAgent),this.VideoTrafficDetector.InjectDetector(this.id+"_t",JSON.stringify(this.tiktokConfig)))}processAndSendTiktokAd(x,$,v=document){let C=v.querySelector(`[${D.ATTRIBUTE_BIS_ID}=${x}]`);C&&(p.SendAdCandidates(this.id,[$],D.MESSAGE_TYPE_TIKTOK_FEED_DATA,null),V.t&&V.W&&(C.children[0].children[0].style.cssText+=D.STYLES_OUTLINE_VIDEO_AD))}getTiktokAdObject(x,$,v,C){const D=O.SetFullSizeToElement(x);return{content:U.encode($.outerHTML),size:D,adPlacementType:C,videoId:v}}removePostCopy(x){x.remove()}}},1687:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(655);x.exports=class extends V{constructor(x,$,v,C){super(x,$,v),this.tiktokConfig=C,this.id=x,this.adBlockerAgent=v,this.feedContainer=null,this.feedObserver=null}HideElement(x){}setSizesAndIdForAllElements(x){}getTiktokAdObject(x,$,v,C){}removePostCopy(x){}ActualizeDetector(){return this.feedContainer=this.#G(),!!this.feedContainer}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.DetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.#w()}CheckIfAdRendered(x){for(let $ of this.tiktokConfig.FEED.PREVIEW_QUERIES){const v=x.querySelector($);if(v?.src)return new RegExp(/^https:\/\//).test(v.src)}return!1}#G(){const x=this.tiktokConfig.FEED.CONTAINER_QUERIES,$=this.tiktokConfig.FEED.CONTAINER_MIN_HEIGHT;for(let v of x){let x=document.querySelector(v);if(x){if(x.offsetHeight>=$)return x}}}#w(){let x=this.#M();if(x?.length)for(let $ of x)if(this.CheckIfAdRendered($)&&!$.hasAttribute(D.ATTRIBUTE_BIS_ID)){this.setSizesAndIdForAllElements($);const x=C.GenerateAndSetBisIdToInstagramAds($),v=this.#_($),V=this.#e($),p=this.getTiktokAdObject($,v,V,D.TIKTOK_AD_PLACEMENT_TYPE_FEED);this.removePostCopy(v);let K=setTimeout((()=>{this.ExtractAd.call(this,x,p),clearTimeout(K)}),100)}}#M(){if(!this.feedContainer)return[];let x=Array.from(this.feedContainer.children),$=[];for(let v of x){if(this.tiktokConfig.FEED.PROMOTED_QUERIES.find((x=>v.querySelector(x)))){$.push(v);break}}return $}#_(x){const $=this.feedContainer.cloneNode(),v=document.createElement("html"),C=this.#u(),D=this.#z(),V=x.cloneNode(!0);return $.appendChild(V),C.appendChild($),v.appendChild(D),v.appendChild(C),v}#u(){const x=document.createElement("body"),$=document.querySelectorAll('body style, body link[rel="stylesheet"]');return $&&$.forEach(($=>{const v=$.cloneNode(!0);x.appendChild(v)})),x}#z(){const x=document.createElement("head"),$=document.querySelectorAll("style"),v=document.querySelectorAll('head link[rel="stylesheet"], head link[rel="preload"], head');return $&&$.forEach(($=>{let v="";for(let x of $.sheet.cssRules)v+=x.cssText;const C=$.cloneNode(!0);C.innerHTML=v,x.appendChild(C)})),v&&v.forEach(($=>{let v=$.cloneNode(!0);x.appendChild(v)})),x}#e(x){const $=this.tiktokConfig.FEED.VIDEO_CONTAINER_QUERIES.find(($=>x.querySelector($))),v=x.querySelector($);if(v){const x=new RegExp(/\d{5,}/).exec(v.id);return x?x[0]:null}return null}}},8838:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x,$){this.id=x,this.AdBlockerAgent=$}InjectDetector(x){if(document.head){let x=document.createElement("script");this.setAttributes(x),document.head.appendChild(x)}}setAttributes(x){const $=C.getURL("../executors/tiktok.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$,this.AdBlockerAgent.IsEnabledForTiktok()&&x.setAttribute("adblock_use","")}}},9203:(x,$,v)=>{const C=v(1568),D=v(4736);x.exports=class{constructor(x,$,v,C){this.id=x,this.videoTrafficDetector=null,this.ioManager=v,this.adBlockerAgent=C,this.config=$.twitchConfig,this.videoTrafficDetector=new D(this.id,this.config,this.ioManager),this.videoTrafficDetector.InjectDetector()}ActivateDetector(x){x===C.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0)}}},4736:(x,$,v)=>{const C=v(2880),D=v(9358),V=v(855);x.exports=class extends V{constructor(x,$,v){super(x,$,v,!0),this.id=x,this.IOManager.onGotTwitchVideoInstreamDataCallback=this.processTwitchInstreamData.bind(this),this.signature=null,this.token=null,this.config=$}InjectDetector(){if(document.head){let x=document.createElement("script");this.setAttributes(x),document.head.appendChild(x)}}setAttributes(x){const $=C.getURL("../executors/twitch.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}processTwitchInstreamData(x){this.findAndSaveSignatureAndToken(x.content);const $=this.parsePostBodyData(x);let v=this.buildInstreamAdURL($);const C=this.prepareObjectToSend(v);this.sendCandidateToBackground(C)}findAndSaveSignatureAndToken(x){x?.includes("streamPlaybackAccessToken")&&(this.signature=x.match(/signature":(| )["'](?<sig>.[^"]*)",/)?.groups?.sig,this.token=encodeURIComponent(x.match(/value":(| )["'](?<token>.*)/).groups.token.replace(/","signature":.*/,"").replace(/\\/g,"")))}parsePostBodyData(x){if(!new RegExp("video-edge.*.ts$").test(x.url)&&"application/x-www-form-urlencoded; charset=utf-8"!==x.type)return;if(!x.encodedPostBody||0!==x.encodedPostBody.search(/^data=/))return;let $=D.decode(x.encodedPostBody.replace(/data=/,""),!1);return JSON.parse($)}buildInstreamAdURL(x){if(!this.signature)return;const $={};if($.channel=document.location.pathname.match(/\//g)?.length>1?"":document.location.pathname.replace(/\//g,""),!$.channel)return;$.browserFamily=C.IsChrome()?"chrome":"firefox",$.browserVersion=navigator.userAgent.match(new RegExp("(chrome|firefox)/(?<browserVersion>\\d{3}.\\d)","i")).groups.browserVersion;const{osName:v,osVersion:D}=navigator.userAgent.match(/\((?<osName>.[^ ]*)\s(?<osVersion>.[^;]*);\)?/)?.groups;$.osName=v,$.osVersion=D,$.signature=this.signature,$.token=this.token,$.p=Math.floor(1e7*Math.random())+1;for(let v of x)if(v?.properties.hasOwnProperty("play_session_id")){$.playSessionId=v.properties.play_session_id;break}return $.playSessionId?this.replaceMacrosesInUrl($):void 0}getMacrosArray(){return this.config.URL_PATTERN_TO_GET_HLS.match(/\$\{(.[^}]*)}/g).map((x=>x.replace(/[${}]/g,"")))}replaceMacrosesInUrl(x){let $=this.config.URL_PATTERN_TO_GET_HLS;for(let[v,C]of Object.entries(x))$=$.replace(`\${${v}}`,C);return $}prepareObjectToSend(x){return{requestMethod:"GET",urlToGetInstreamData:x,url:"",contentType:"",mediaType:"",alias:"TWITCH_HLS"}}sendCandidateToBackground(x){this.IOManager.SendTwitchInstreamData(this.id,x)}}},4919:(x,$,v)=>{const C=v(8384),D=v(2880),V=v(1568),p=v(9346),K=v(5364),Z=v(1402),O=v(9473);v(5473);x.exports=class extends p{constructor(x,$,v){super(x),this.id=x,this.onPageRefreshed=this.onPageUrlChanged,this.twConfig=$.TwitterConfig,this.TwitterDetectorFeed=null,this.TwitterDetectorRightColumn=null,this.VideoTrafficDetector=null,this.AdBlockerAgent=v,this.ActivateVideoTrafficDetector()}onPageUrlChanged(x,$){this.available&&setTimeout((()=>{this.DeactivateDetectors(V.AD_DETECTOR_INITIATOR_URL),this.ActivateDetectors()}),50)}ActivateVideoTrafficDetector(){this.VideoTrafficDetector||(this.VideoTrafficDetector=new Z(this.id),this.VideoTrafficDetector.InjectDetector())}ActivateDetector(x){x===V.ACTIVATION_BY_ADS_MANAGER&&(this.available=!0),this.TwitterDetectorFeed=new O(this.id,this.twConfig.FEED.DETECTOR_OPTIONS,this.twConfig,this.AdBlockerAgent),this.AddNecessaryMethods(),this.ActivateDetectors()}ActivateDetectors(){this.TwitterDetectorFeed.ActivateDetector()}AddNecessaryMethods(){this.TwitterDetectorFeed.ExtractAd=this.processAndSendTwitterAd.bind(this),this.TwitterDetectorFeed.isVideo=this.isVideo.bind(this),this.TwitterDetectorFeed.HideElement=this.HideElement.bind(this),this.TwitterDetectorFeed.IsAdContentRendered=this.IsAdContentRendered.bind(this),this.TwitterDetectorFeed.doesElementExists=this.doesElementExists.bind(this),this.TwitterDetectorFeed.setSizesAndIdForAllElements=this.setSizesAndIdForAllElements.bind(this),this.TwitterDetectorFeed.getAdTwitterObject=this.getAdTwitterObject.bind(this)}DeactivateDetectors(x){this.TwitterDetectorFeed.DeactivateDetector(x)}IsAdContentRendered(x,$){let v=!1;if(x){let C=x.querySelectorAll(this.twConfig.PROGRESS_SELECTOR);if(C&&0===C.length){let C=D.GetFullElementSize(x);if(C.w>0){D.GetImagesSpacePercentage(this.twConfig.TAGS_FOR_LOADING_CHECK,x,C).some((x=>x>=$))&&(v=!0)}}}return v}processAndSendTwitterAd(x,$,v=!1,D=document){let p=D.querySelector(`[${V.ATTRIBUTE_BIS_ID}=${x}]`);p&&(K.SendCandidatePlacementsCount(this.id,1,V.MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER,null),K.SendAdCandidates(this.id,[$],V.MESSAGE_TYPE_CANDIDATES_DATA_TWITTER,null),C.t&&C.W&&(p.style.cssText+=v?V.STYLES_OUTLINE_VIDEO_AD:V.STYLES_OUTLINE_SUCCESS_DETECT))}}},9473:(x,$,v)=>{const C=v(2880),D=v(1568),V=v(655);x.exports=class extends V{constructor(x,$,v,D){super(x,$,D),this.available=!1,this.twConfig=v,this.AdBlockerAgent=D,this.feedObserver=null,this.activated=!1,this.observerNodesListenerInterval=null,this.observerNodesChecksAmount=0,this.lastFeedPostAdsCheckTime=C.GetCurrentTimestampMs(),this.lastFeedWhoToFollowAdsCheckTime=C.GetCurrentTimestampMs(),this.feedContainer=null}isVideo(x,$){}HideElement(){}IsAdContentRendered(x,$){}doesElementExists(x){}setSizesAndIdForAllElements(x){}getAdTwitterObject(x,$,v){}ActualizeDetector(){return this.feedContainer=this.getFeedContainer,!!this.feedContainer}get getFeedContainer(){const x=this.twConfig.FEED.CONTAINER;let $=Array.from(document.querySelectorAll(x)).filter((x=>x&&x.children.length>2));return $&&$.length?$[0]:null}ActivateMutationObserver(){this.feedContainer?(this.feedObserver||(this.feedObserver=new MutationObserver(this.startIntervalDetectCandidates.bind(this,D.AD_DETECTOR_INITIATOR_MUTATION)),this.feedObserver.observe(this.feedContainer,{childList:!0,subtree:!0}),window.addEventListener("beforeunload",(()=>{this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.isObserverAlreadySet=!1)}))),this.isObserverAlreadySet=!0):this.isObserverAlreadySet=!1}DeactivateMutationObserver(){this.feedObserver&&(this.feedObserver.disconnect(),this.feedObserver=null,this.feedContainer=null,this.isObserverAlreadySet=!1)}Detector(){this.feedContainer=this.doesElementExists(this.feedContainer)?this.feedContainer:this.getFeedContainer,this.feedContainer&&this.processAdsFromFeed()}processAdsFromFeed(){this.processFeedAds(),this.processFeedWhoToFollowAds()}processFeedAds(){this.extractOccurrences(D.TWITTER_AD_PLACEMENT_TYPE_FEED)}processFeedWhoToFollowAds(){this.extractOccurrences(D.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW)}allCellsAndMinImgSpace(x){let $=[],v=0;return x===D.TWITTER_AD_PLACEMENT_TYPE_FEED?(this.feedContainer&&($=Array.from(this.feedContainer.children)),v=this.twConfig.FEED.MIN_IMGS_SPACE_PERCENTAGE):x===D.TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW&&($=Array.from(document.querySelectorAll(this.twConfig.FEED.WHO_TO_FOLLOW_SELECTOR)),v=this.twConfig.FEED.WHO_TO_FOLLOW_MIN_IMGS_SPACE_PERCENTAGE),$=$.filter((x=>this.isPromoted(x))),{allCells:$,minImgSquarePercentage:v}}extractOccurrences(x){let{allCells:$,minImgSquarePercentage:v}=this.allCellsAndMinImgSpace(x);if($.length)for(const V of $)if(!V.hasAttribute(D.ATTRIBUTE_BIS_ID)&&!V.hasAttribute(D.ATTRIBUTE_BIS_SIZE)&&this.IsAdContentRendered(V,v)){let $,v=C.GenerateAndSetBisIdToTwitterAds(V);this.setSizesAndIdForAllElements(V);let p=this.isVideo(V,this.twConfig.FEED.TAGS_FOR_VIDEO_TWEET_CHECK);const K=V.cloneNode(!0);let Z=this.buildBannerHtml(K,x),O=this.chooseContent(V,Z);$=this.getAdTwitterObject(O,V,x,this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT),x===D.TWITTER_AD_PLACEMENT_TYPE_FEED&&(p&&!this.isCarouselCandidate(V)?$.videoData={}:!p&&this.isCarouselCandidate(V)&&this.twConfig.COLLECT_CAROUSEL_DATA&&($.carouselData={})),this.AdBlockerAgent.IsEnabledForTwitter()&&!this.AdBlockerAgent.IsElementHidden(V)&&(this.HideElement(V),this.AdBlockerAgent.SetHiddenAmount(1)),setTimeout(this.ExtractAd.bind(this,v,$,p),100)}}chooseContent(x,$){return this.twConfig.COLLECT_ALTERNATIVE_HTML_CONTENT?$:x.querySelector(this.twConfig.FEED.TWEETS_SELECTOR)?x.querySelector(this.twConfig.FEED.TWEETS_SELECTOR):x}buildBannerHtml(x,$){let v=this.feedContainer;this.setWrapperClass(v),x.style.transform="none",x.style.position="relative";let C=this.headCopyWithStyles;const D=document.createElement("html"),V=this.bodyCopyWithStyles,p=document.createElement("div"),K=v.cloneNode();return K.style.minHeight="auto",p.appendChild(K),this.setWrapperStyles(v,p),D.appendChild(C),K.appendChild(x),V.appendChild(p),D.appendChild(V),D}setWrapperClass(x){let $=x.parentElement,v=!1;if($)for(let C=0;C<50&&!v&&$;C++)if($.nextSibling&&-1!==$.nextSibling.nodeName.search(/style/i)&&$.previousSibling&&-1!==$.previousSibling.nodeName.search(/style/i)){let C=$.getAttribute("class");x.className+=x.className.length?" "+C:C,v=!0}else $=$.parentElement}setWrapperStyles(x,$){$.style.cssText=$.style.cssText+`max-width: ${this.maxWidthContainer(x)}`}maxWidthContainer(x){return x?x.offsetWidth+"px":"auto"}get bodyCopyWithStyles(){const x=document.createElement("body"),$=Array.from(document.querySelectorAll("body style")).map((x=>{if(x)return x.cloneNode(!0)}));return $&&$.forEach(($=>{x.appendChild($)})),x}get headCopyWithStyles(){const x=document.createElement("head"),$=Array.from(document.querySelectorAll("head style, head meta")).map((x=>{if(x)return x.cloneNode(!0)}));return $&&$.forEach(($=>{x.appendChild($)})),x}isPromoted(x){if(x){let $=Array.from(x.querySelectorAll(this.twConfig.PROMOTED_SELECTOR));if($.length)return $.some((x=>{let $=x.textContent;return!(!$||"string"!=typeof $)&&this.twConfig.PROMOTED_ALIASES.some((x=>{let v=$.toLowerCase().trim().split(" ");return v.length<6&&v.includes(x.toLowerCase().trim())}))}))}return!1}isCarouselCandidate(x){if(x){if(x.querySelector(this.twConfig.FEED.CHECK_IF_CAROUSEL_QUERY))return!0}return!1}}},5473:()=>{},1402:(x,$,v)=>{const C=v(2880);x.exports=class{constructor(x){this.id=x}InjectDetector(){if(document.head){let x=document.createElement("script"),$=function(){document.head.appendChild(x),window.removeEventListener("DOMContentLoaded",$)};this.setAttributes(x),window.addEventListener("DOMContentLoaded",$)}}setAttributes(x){const $=C.getURL("../executors/twitter.js");x.setAttribute("bis_use","true"),x.type="text/javascript",x.setAttribute("charset","utf-8"),x.setAttribute("nonce",""),x.src=$}}},2880:(x,$,v)=>{const C=v(1568);class D{static QuerySelectorAll(x,$){return document.__proto__.querySelectorAll.call(x,$)}static QuerySelector(x,$){return document.__proto__.querySelector.call(x,$)}static Escape(x){return x.replace(/\"/g,"&quot;")}static ToJSON(x){return"function"==typeof x.toJSON?x.toJSON():JSON.stringify(x)}static GetBaseHref(){let x=D.QuerySelector(document,"base");return x&&x.href?x.href:""}static GetTabIdKey(x){return"tb_"+x}static GetMainPageId(x){return"mp_"+x}static IsOnChromeRuntime(){let x=!0;if(chrome){if(chrome.runtime){try{chrome.runtime.getManifest()}catch($){x=!1}if(x)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(chrome.app)return chrome.app?void 0!==chrome.app.isInstalled:!!chrome.runtime}else if(self.navigator.userAgent.toLowerCase().includes("firefox"))return!!chrome.runtime;return!1}static GetElementSize(x){let $={x:0,y:0,w:0,h:0};if(x&&x.getBoundingClientRect){let v=x.getBoundingClientRect();$={x:~~(v.left+window.scrollX),y:~~(v.top+window.scrollY),w:~~v.width,h:~~v.height}}return $}static IsCoordinatesValid(x){return!!(x&&x.hasOwnProperty("x")&&"number"==typeof x.x&&x.hasOwnProperty("y")&&"number"==typeof x.y)}static GetFullElementSize(x,$,v){let C=D.GetElementSize(x);return D.IsCoordinatesValid(v)&&(C.x=C.x+v.x,C.y=C.y+v.y),D.IsCoordinatesValid($)?(C.abs_x=C.x+$.x,C.abs_y=C.y+$.y):(C.abs_x=C.x,C.abs_y=C.y),C}static SetFullSizeToElement(x,$,v){let C={x:0,y:0,w:0,h:0};return D.IsCoordinatesValid(v)&&(C.x=C.x+v.x,C.y=C.y+v.y),x&&x.setAttribute&&(C=D.GetFullElementSize(x,$,v),x.setAttribute("bis_size",D.ToJSON(C))),C}static GenerateAndSetBisId(x,$){let v=$+D.GenerateQuickId();return x&&x.setAttribute&&x.setAttribute(C.ATTRIBUTE_BIS_ID,v),v}static GenerateAndSetBisIdToFrame(x){return D.GenerateAndSetBisId(x,"fr_")}static GenerateAndSetBisIdToBanner(x){return D.GenerateAndSetBisId(x,"bn_")}static GenerateAndSetBisIdToPinterestAds(x){return D.GenerateAndSetBisId(x,"pt_")}static GenerateAndSetBisIdToInstagramAds(x){return D.GenerateAndSetBisId(x,"ig_")}static GenerateAndSetBisIdToLinkedinAds(x){return D.GenerateAndSetBisId(x,"ln_")}static GenerateAndSetBisIdToFBAds(x){return D.GenerateAndSetBisId(x,"fb_")}static GenerateAndSetBisIdToTwitterAds(x){return D.GenerateAndSetBisId(x,"tw_")}static GenerateAndSetBisIdToRedditAds(x){return D.GenerateAndSetBisId(x,"rd_")}static SetBisDepth(x,$){x&&x.setAttribute&&x.setAttribute("bis_depth",$)}static SetBisChainId(x,$){x&&x.setAttribute&&x.setAttribute("bis_chainid",$)}static SetBannerId(x,$){x&&x.setAttribute&&x.setAttribute("bis_bannerid",$)}static UpdateCandidateStatusBorderColor(x,$){if(x&&x.style&&x.style.cssText&&$){let v="";$.filteredOut?v=C.STYLES_BORDER_BANNER_FILTERED:$.sentToBackend?v=C.STYLES_BORDER_BANNER_SENT:$.targetUrlExtracted?v=C.STYLES_BORDER_BANNER_URL_EXTRACTED:$.fullContentExtracted&&(v=C.STYLES_BORDER_BANNER_CONTENT_EXTRACTED);let D=x.style.cssText;D.includes(v)||(D=D.replace(/((border|outline): .{3,20} solid 6px !important;)|((border|outline): 6px solid .{3,20} !important;)/,v),x.style.cssText=D)}}static GetMainDomainFromHost(x){if(x&&x.split){let $=x.split(".");if($.length>=2){let x=$[$.length-2],v=$[$.length-1];return $.length>=3&&2===v.length&&3===x.length?`${$[$.length-3]}.${x}.${v}`:x+"."+v}}return null}static GetMainDomainFromUrl(x){return D.GetMainDomainFromHost(D.GetHostNameFromUrl(x))}static GetHostNameFromUrl(x){let $=x.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);return null!=$&&$.length>2&&"string"==typeof $[2]&&$[2].length>0?$[2]:null}static IsUrlFromHost(x,$){return-1!==x.indexOf(D.GetMainDomainFromUrl($))}static IsPublisherInBlacklist(x,$){let v=!1,C=D.GetHostNameFromUrl(x);return $&&$.length&&C&&$.includes(C)&&(v=!0),v}static GetUrlFromStyleStr(x){let $=x.replace(/"/g,"'"),v=$.indexOf("http");-1===v&&(v=$.indexOf("//"));let C=$.indexOf("'",v),D="";return v>0&&C>0&&v<C&&(D=$.substr(v,C-v)),D}static GetCurrentDataTimeStr(){function x(x){return x<10?"0"+x:""+x}let $=new Date;return`${$.getFullYear()}-${x($.getMonth()+1)}-${x($.getDate())} ${x($.getHours())}:${x($.getMinutes())}:${x($.getSeconds())}`}static GetCurrentDataTimeStrWithGMT(){function x(x){return x<10?"0"+x:""+x}let $=new Date;return`${$.getFullYear()}-${x($.getMonth()+1)}-${x($.getDate())} ${x($.getHours())}:${x($.getMinutes())}:${x($.getSeconds())} ${$.toTimeString().match(/GMT.\S*/)[0]}`}static GetWindowSize(){return{w:document.documentElement.clientWidth,h:document.documentElement.clientHeight}}static IsIframeHasContentScript(x){try{if(x&&!D.IsIframeSecure(x)&&"ok"!==x.contentDocument.body.getAttribute("bis_status"))return!1}catch(x){}return!0}static IsIframeSecure(x){return!x||0!==x.src.length&&"about:blank"!==x.src&&"about:srcdoc"!==x.src&&0!==x.src.indexOf("javascript:")}static isValidUrl(x){return"string"==typeof x&&x.length>0&&(-1!==x.indexOf("http")||-1!==x.indexOf("//"))}static IsValidBisId(x){return!!(x.startsWith("mp_")||x.startsWith("bg_")||x.startsWith("fr_"))}static IsYouTubeUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("youtube.com")}static IsFacebookUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("facebook.com")}static IsTwitterUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.search(/twitter|x\.com/)}static IsRedditUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("reddit.com")}static IsPinterestUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.search(/pinterest\.(com|ca|at|ch|cl|co\.kr|com\.au|com\.mx|co\.uk|de|dk|es|fr|ie|it|jp|nz|ph|pt|se)/)}static IsInstagramUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("instagram.com")}static IsLinkedinUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("linkedin.com")}static IsTiktokUrl(x){return!!~D.GetHostNameFromUrl(x).indexOf("tiktok.com")}static IsTwitchUrl(x){let $=D.GetHostNameFromUrl(x);return!!$&&-1!==$.indexOf("twitch.tv")}static isClaudeUrl(x,$){const v=$?.u?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isChatgptUrl(x,$){const v=$?.F?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isDeepseekUrl(x,$){const v=$?.I?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isCopilotUrl(x,$){const v=$?.k?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isPerplexityUrl(x,$){const v=$?.m?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isMetaUrl(x,$){const v=$?.X?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isGeminiUrl(x,$){const v=$?.l?.URL_PATTERN,C=D.GetHostNameFromUrl(x);return!!v&&D.getRegExpFromString(v).test(C)}static isAI(x,$){return[D.isClaudeUrl,D.isChatgptUrl,D.isCopilotUrl,D.isDeepseekUrl,D.isPerplexityUrl,D.isMetaUrl,D.isGeminiUrl].some((v=>v(x,$)))}static GetFullIdStr(x,$,v){return`ext:${chrome.runtime.id}-chainId:${x}-frameId:${$}-bisId:${v}`}static GetRandomIntInRange(x,$){return parseInt((Math.random()*($-x)+x).toFixed(0))}static GetCurrentTimestamp(){return Date.now()/1e3|0}static GetCurrentTimestampMs(){return Date.now()}static GenerateQuickId(){return(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22)}static GenerateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(x){let $=16*Math.random()|0;return("x"==x?$:3&$|8).toString(16)}))}static IsInFilterList(x,$){let v=!1;if(x)for(let C=0;C<x.length&&!v;C++)-1!==$.indexOf(x[C])&&(v=!0);return v}static IsChrome(){return-1!==navigator.userAgent.indexOf("Chrome")}static IsFirefox(){return-1!==navigator.userAgent.indexOf("Firefox")}static IsFBVideoDataValid(x){let $=!1;if(x)try{"number"==typeof x.detectionTime&&"string"==typeof x.videoId&&"string"==typeof x.videoUrl&&x.videoId.length&&x.videoUrl.length&&($=!0)}catch(x){}return $}static GetDefaultAdblockerStatus(){return{[C.ADBLOCKER_FOR_DISPLAY]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_FACEBOOK]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_TWITTER]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_REDDIT]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_PINTEREST]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_INSTAGRAM]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_TIKTOK]:C.ADBLOCKER_STATUS_DISABLED,[C.ADBLOCKER_FOR_LINKEDIN]:C.ADBLOCKER_STATUS_DISABLED,[C.USE_LOCAL_CONFIG]:C.ADBLOCKER_STATUS_DISABLED}}static GetImagesSpacePercentage(x,$,v){let C=[];if(!$)return C;const V=v.w*v.h;let p=[],K=Array.from($.querySelectorAll("*")).map(($=>$.shadowRoot?$.shadowRoot.querySelectorAll(x):"IMG"===$.nodeName||"IFRAME"===$.nodeName?$:$.querySelectorAll(x))).filter((x=>x)).reduce(((x,$)=>($&&$.length&&$.forEach(($=>{x.includes($)||x.push($)})),"IMG"!==$.nodeName&&"IFRAME"!==$.nodeName||x.push($),x)),[]);if(!K?.length||0===V)return C;for(let $ of K){let v=$;v&&v.shadowRoot&&(v=v.shadowRoot.firstElementChild.querySelector(x));let C=D.GetElementSize(v);p.push(C.w*C.h/V*100)}return p}static CheckDocumentReadyState(x){return document.readyState===x}static getURL(x){return chrome.runtime.getURL(x)}static getDataFromStorageLocal(x){return chrome.storage.local.get([x]).then(($=>$[x]?$[x]:$))}static getDataFromStorageSync(x){return new Promise((($,v)=>{try{chrome.storage.sync.get([x]).then((v=>{v[x]?$(v[x]):$(v)}))}catch(x){v(x)}}))}static GetCookie(x){let $=x+"=",v=decodeURIComponent(document.cookie).split(";");for(let x=0;x<v.length;x++){let C=v[x];for(;" "==C.charAt(0);)C=C.substring(1);if(0==C.indexOf($))return C.substring($.length,C.length)}return""}static GetOriginFromHref(x){x&&x.search(/^http/)}static GetLocaleDateString(){try{return(new Date).toJSON().replace("T",", ")}catch(x){return(new Date).toTimeString()}}static GetAllCookies(){return document.cookie}static async waitForElement(x,$=1e4){return new Promise(((v,C)=>{const D=document.querySelector(x);if(D)return v(D);const V=new MutationObserver((()=>{const $=document.querySelector(x);$&&(V.disconnect(),v($))}));V.observe(document.body,{childList:!0,subtree:!0}),$&&setTimeout((()=>{V.disconnect(),C(new Error(`Element ${x} not found within timeout`))}),$)}))}static getRegExpFromString(x){let $=x.replace(/.*\/([gimy]*)$/,"$1"),v=x.replace(new RegExp("^/(.*?)/"+$+"$"),"$1");return new RegExp(v,$)}}x.exports=D},1568:(x,$,v)=>{const C=v(9358);x.exports=class{static get DOCUMENT_READYSTATE_LOADING(){return"loading"}static get DOCUMENT_READYSTATE_INTERACTIVE(){return"interactive"}static get DOCUMENT_READYSTATE_COMPLETE(){return"complete"}static get ATTRIBUTE_BIS_ID(){return"bis_id"}static get ATTRIBUTE_BIS_SIZE(){return"bis_size"}static get ATTRIBUTE_BIS_STYLE(){return"bis_style"}static get ATTRIBUTE_BIS_STATUS(){return"bis_status"}static get ATTRIBUTE_BIS_LABEL(){return"bis_label"}static get ATTRIBUTE_BIS_ELEMENT_ID(){return"bis_element_id"}static get ATTRIBUTE_BIS_HIDE_HEIGHT(){return"bis_hide_height"}static get ATTRIBUTE_BIS_HIDE_WIDTH(){return"bis_hide_width"}static get ATTRIBUTE_BIS_HIDE_STATUS(){return"bis_hide_status"}static get ATTRIBUTE_BIS_HIDE_LEFT_OFFSET(){return"bis_hide_left_offset"}static get ATTRIBUTE_BIS_PRECISE_AD(){return"bis_precise_ad"}static get ACTIVATION_BY_ADS_MANAGER(){return"ACTIVATION_BY_ADS_MANAGER"}static get ACTIVATION_BY_ADS_SELF(){return"ACTIVATION_BY_ADS_SELF"}static get MESSAGE_ID(){return"PANELOS_MESSAGE"}static get MESSAGE_TYPE_TEST(){return"TEST"}static get MESSAGE_TYPE_IFRAME_CONTENT(){return"IFRAME_CONTENT"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME"}static get MESSAGE_TYPE_GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE(){return"GET_HEADER_INFO_FOR_BLOCKED_IFRAME_RESPONSE"}static get MESSAGE_TYPE_IFRAME_INVALID_CHAIN_SEGMENT_CONTENT(){return"IFRAME_INVALID_CHAIN_SEGMENT_CONTENT"}static get MESSAGE_TYPE_TAB_INITIALIZATION(){return"TAB_INITIALIZATION"}static get MESSAGE_TYPE_TAB_SINGLE_PAGE_REINITIALIZATION(){return"TAB_SINGLE_PAGE_REINITIALIZATION"}static get MESSAGE_TYPE_TAB_URL_CHANGED(){return"TAB_URL_CHANGED"}static get MESSAGE_TYPE_TAB_ADBLOCKER_STATUS_CHANGED(){return"TAB_ADBLOCKER_STATUS_CHANGED"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION(){return"IFRAME_INITIALIZATION"}static get MESSAGE_TYPE_IFRAME_INITIALIZATION_RESPONSE(){return"IFRAME_INITIALIZATION_RESPONSE"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_INPUTS(){return"IFRAME_CONTENT_INFO_DETECTED_INPUTS"}static get MESSAGE_TYPE_IFRAME_CONTENT_INFO_DETECTED_REDIRECTS(){return"IFRAME_CONTENT_INFO_DETECTED_REDIRECTS"}static get MESSAGE_TYPE_HIDDEN_AD_CANDIDATES_AMOUNT(){return"HIDDEN_AD_CANDIDATES_AMOUNT"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL(){return"GET_WINDOW_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_TARGET_URL_RESPOND(){return"GET_WINDOW_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL(){return"GET_WINDOW_CLICK_TARGET_URL"}static get MESSAGE_TYPE_GET_WINDOW_CLICK_TARGET_URL_RESPOND(){return"GET_WINDOW_CLICK_TARGET_URL_RESPOND"}static get MESSAGE_TYPE_GET_FRAME_CONTENT(){return"GET_FRAME_CONTENT"}static get MESSAGE_TYPE_TARGET_URL_DETECTION_BY_CLICK(){return"TARGET_URL_DETECTION_BY_CLICK"}static get MESSAGE_TYPE_NEW_PAGE_CREATED_TICKET(){return"NEW_PAGE_CREATED_TICKET"}static get MESSAGE_TYPE_PANEL_REGULATOR_RESULT(){return"PANEL_REGULATOR_RESULT"}static get MESSAGE_TYPE_OUT_TICKET(){return"OUT_TICKET"}static get MESSAGE_TYPE_CHAIN_ACTIVATION(){return"CHAIN_ACTIVATION"}static get MESSAGE_TYPE_HEADER_INFO_TO_STORAGE(){return"HEADER_INFO_TO_STORAGE"}static get MESSAGE_TYPE_LINKEDIN_FRAME_CONTENT_TO_STORAGE(){return"LINKEDIN_FRAME_CONTENT_TO_STORAGE"}static get MESSAGE_TYPE_CANDIDATES_DATA_SKINADS(){return"CANDIDATES_DATA_SKINADS"}static get MESSAGE_TYPE_CANDIDATES_DATA_BANNERS(){return"CANDIDATES_DATA_BANNERS"}static get MESSAGE_TYPE_CANDIDATES_DATA_FACEBOOK(){return"CANDIDATES_DATA_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATES_VIDEO_DATA_TWITCH(){return"CANDIDATES_VIDEO_DATA_TWITCH"}static get MESSAGE_TYPE_CANDIDATES_DATA_TWITTER(){return"CANDIDATES_DATA_TWITTER"}static get MESSAGE_TYPE_CANDIDATES_DATA_REDDIT(){return"CANDIDATES_DATA_REDDIT"}static get MESSAGE_TYPE_CANDIDATES_DATA_PINTEREST(){return"CANDIDATES_DATA_PINTEREST"}static get MESSAGE_TYPE_CANDIDATES_DATA_INSTAGRAM(){return"CANDIDATES_DATA_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATES_DATA_LINKEDIN(){return"CANDIDATES_DATA_LINKEDIN"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_FACEBOOK(){return"CANDIDATE_PLACEMENTS_FACEBOOK"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_TWITTER(){return"CANDIDATE_PLACEMENTS_TWITTER"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_REDDIT(){return"CANDIDATE_PLACEMENTS_REDDIT"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_PINTEREST(){return"CANDIDATE_PLACEMENTS_PINTEREST"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_HTML5(){return"CANDIDATE_PLACEMENTS_HTML5"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_INSTAGRAM(){return"CANDIDATE_PLACEMENTS_INSTAGRAM"}static get MESSAGE_TYPE_CANDIDATE_PLACEMENTS_LINKEDIN(){return"CANDIDATE_PLACEMENTS_LINKEDIN"}static get MESSAGE_TYPE_HTML5_CANDIDATES_EXTRACTION_STATUSES(){return"HTML5_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_BANNER_CANDIDATES_EXTRACTION_STATUSES(){return"BANNER_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_SKIN_AD_CANDIDATES_EXTRACTION_STATUSES(){return"SKIN_AD_CANDIDATES_EXTRACTION_STATUSES"}static get MESSAGE_TYPE_VIDEO_XHR_CANDIDATE(){return"VIDEO_XHR_CANDIDATE"}static get MESSAGE_TYPE_VIDEO_HAR(){return"VIDEO_HAR"}static get MESSAGE_TYPE_FACEBOOK_VIDEO_DATA(){return"FACEBOOK_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_INSTREAM_DATA(){return"FACEBOOK_INSTREAM_DATA"}static get MESSAGE_TYPE_FACEBOOK_MARKETPLACE_VIDEO_DATA(){return"FACEBOOK_MARKETPLACE_VIDEO_DATA"}static get MESSAGE_TYPE_FACEBOOK_CANVAS_TEXT(){return"FACEBOOK_CANVAS_TEXT"}static get MESSAGE_TYPE_PINTEREST_VIDEO_DATA(){return"PINTEREST_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_VIDEO_DATA(){return"TWITTER_VIDEO_DATA"}static get MESSAGE_TYPE_TWITTER_CAROUSEL_DATA(){return"TWITTER_CAROUSEL_DATA"}static get MESSAGE_TYPE_REDDIT_VIDEO_DATA(){return"REDDIT_VIDEO_DATA"}static get MESSAGE_TYPE_REDDIT_RIGHT_COLUMN_DATA(){return"REDDIT_RIGHT_COLUMN_DATA"}static get MESSAGE_TYPE_INSTAGRAM_VIDEO_DATA(){return"INSTAGRAM_VIDEO_DATA"}static get MESSAGE_TYPE_INSTAGRAM_STORY_DATA(){return"INSTAGRAM_STORY_DATA"}static get MESSAGE_TYPE_INSTAGRAM_FULL_TEXT_DATA(){return"INSTAGRAM_FULL_TEXT_DATA"}static get MESSAGE_TYPE_INSTAGRAM_CAROUSEL_SLIDES_SOURCES(){return"INSTAGRAM_CAROUSEL_SLIDES_SOURCES"}static get MESSAGE_TYPE_LINKEDIN_VIDEO_DATA(){return"LINKEDIN_VIDEO_DATA"}static get MESSAGE_TYPE_LINKEDIN_SLIDES_DATA(){return"LINKEDIN_SLIDES_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_INSTREAM_DATA(){return"VIDEO_TWITCH_INSTREAM_DATA"}static get MESSAGE_TYPE_VIDEO_TWITCH_ACCESS_TOKEN_DATA(){return"VIDEO_XHR_ACCESS_TOKEN_DATA"}static get MESSAGE_TYPE_TIKTOK_FEED_DATA(){return"TIKTOK_FEED_DATA"}static get MESSAGE_TYPE_TIKTOK_VIDEO_CANDIDATES(){return"TIKTOK_VIDEO_CANDIDATES"}static get MESSAGE_TYPE_CLAUDE_DATA(){return"CLAUDE_DATA"}static get MESSAGE_TYPE_CHATGPT_DATA(){return"CHATGPT_DATA"}static get MESSAGE_TYPE_GEMINI_DATA(){return"GEMINI_DATA"}static get MESSAGE_TYPE_COPILOT_DATA(){return"COPILOT_DATA"}static get MESSAGE_TYPE_PERPLEXITY_DATA(){return"PERPLEXITY_DATA"}static get MESSAGE_TYPE_META_AI_DATA(){return"META_AI_DATA"}static get MESSAGE_TYPE_DEEPSEEK_DATA(){return"DEEPSEEK_DATA"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANALYTICS_ID(){return"GET_PANALYTICS_ID"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_PANELOS_VERSION(){return"GET_PANELOS_VERSION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_STATUS(){return"GET_ADBLOCKER_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_ADBLOCKER_COUNTERS(){return"GET_ADBLOCKER_COUNTERS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_ADBLOCKER(){return"ENABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_ADBLOCKER(){return"DISABLE_ADBLOCKER"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_GET_DATA_COLLECTION_STATUS(){return"GET_DATA_COLLECTION_STATUS"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_ENABLE_DATA_COLLECTION(){return"ENABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_PANELOS_CLIENT_REQUESTS_DISABLE_DATA_COLLECTION(){return"DISABLE_DATA_COLLECTION"}static get MESSAGE_TYPE_ADBLOCK_INSPECTOR_AGENT_REPORT(){return"ADBLOCK_INSPECTOR_AGENT_REPORT"}static get MESSAGE_TYPE_GET_EXCLUDE_LIST(){return"GET_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_INTO_EXCLUDE_LIST(){return"ADD_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_REMOVE_FROM_EXCLUDE_LIST(){return"REMOVE_FROM_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_DOMAIN_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST(){return"ADD_CURRENT_PAGE_INTO_EXCLUDE_LIST"}static get MESSAGE_TYPE_GET_CURRENT_DOMAIN(){return"GET_CURRENT_DOMAIN"}static get MESSAGE_TYPE_GET_CURRENT_PAGE_URL(){return"GET_CURRENT_PAGE_URL"}static get MESSAGE_TYPE_USE_LOCAL_CONFIG(){return"USE_LOCAL_CONFIG"}static get MESSAGE_TYPE_GET_LOCAL_CONFIG_STATUS(){return"GET_LOCAL_CONFIG_STATUS"}static get ADBLOCKER_STATUS_ENABLED(){return"enabled"}static get ADBLOCKER_STATUS_DISABLED(){return"disabled"}static get VIDEO_TRAFFIC_SOURCE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_SOURCE_JS(){return"JS"}static get VIDEO_TRAFFIC_SOURCE_XHR(){return"XHR"}static get VIDEO_TRAFFIC_MEDIA_TYPE_HTML(){return"HTML"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_TYPE_JSON(){return"JSON"}static get VIDEO_TRAFFIC_FACEBOOK_MEDIA_ALIAS_JSON(){return"JSON_FB"}static get VIDEO_TRAFFIC_ALIAS_YT_JSON_NEXTPAGE(){return"YT_JSON_NEXTPAGE"}static get VIDEO_TRAFFIC_ALIAS_YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE(){return"YT_HTML_DESKTOP_INSCRIPT_PLAYER_RESPONSE"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get FACEBOOK_AD_PLACEMENT_TYPE_FEED_WATCH(){return"feedWatch"}static get FACEBOOK_AD_PLACEMENT_TYPE_MARKETPLACE(){return"marketplace"}static get FACEBOOK_AD_PLACEMENT_TYPE_RIGHT_COLOMN(){return"rightColumn"}static get FACEBOOK_AD_PLACEMENT_TYPE_STORIES(){return"stories"}static get FACEBOOK_AD_PLACEMENT_TYPE_VIDEO_PAGE(){return"videoPage"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_NAME(){return"[ADVERTISER_NAME]"}static get FACEBOOK_AD_VIDEO_URL_REPLACE_VIDEO_ID(){return"[VIDEO_ID]"}static get TWITTER_AD_PLACEMENT_TYPE_FEED(){return"feedPost"}static get TWITTER_AD_PLACEMENT_TYPE_FEED_WHO_TO_FOLLOW(){return"feedWhoToFollow"}static get TWITTER_AD_PLACEMENT_TYPE_RIGHT_COLUMN_WHO_TO_FOLLOW(){return"rightColumnWhoToFollow"}static get REDDIT_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get REDDIT_AD_PLACEMENT_TYPE_COMMENT_PAGE(){return"commentPage"}static get REDDIT_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get LINKEDIN_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get LINKEDIN_AD_PLACEMENT_TYPE_RIGHT_COLUMN(){return"rightColumn"}static get PINTEREST_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get PINTEREST_AD_PLACEMENT_TYPE_SEARCH(){return"searchPage"}static get PINTEREST_AD_PLACEMENT_TYPE_PIN(){return"pinPage"}static get PINTEREST_LOADER_TYPE_PIN_PAGE(){return"pinPage"}static get PINTEREST_LOADER_TYPE_USER_INFO(){return"userInfo"}static get INSTAGRAM_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get INSTAGRAM_AD_PLACEMENT_TYPE_STORY(){return"story"}static get TIKTOK_AD_PLACEMENT_TYPE_FEED(){return"feed"}static get KNOWN_CSS_NAMES(){return["align-content","align-items","align-self","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","backface-visibility","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","block-size","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start-color","border-block-start-style","border-block-start-width","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-end-end-radius","border-end-start-radius","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-spacing","border-start-end-radius","border-start-start-radius","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","clip-path","clip-rule","color","color-adjust","color-interpolation","color-interpolation-filters","column-count","column-fill","column-gap","column-rule-color","column-rule-style","column-rule-width","column-width","contain","content","counter-increment","counter-reset","counter-set","cursor","cx","cy","direction","display","dominant-baseline","empty-cells","fill","fill-opacity","fill-rule","filter","flex-basis","flex-direction","flex-grow","flex-shrink","flex-wrap","float","flood-color","flood-opacity","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column-end","grid-column-start","grid-row-end","grid-row-start","grid-template-areas","grid-template-columns","grid-template-rows","height","hyphens","image-orientation","image-rendering","ime-mode","inline-size","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","lighting-color","line-break","line-height","list-style-image","list-style-position","list-style-type","margin-block-end","margin-block-start","margin-bottom","margin-inline-end","margin-inline-start","margin-left","margin-right","margin-top","marker-end","marker-mid","marker-start","mask","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-position-x","mask-position-y","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","object-fit","object-position","opacity","order","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-anchor","overflow-block","overflow-inline","overflow-wrap","overflow-x","overflow-y","overscroll-behavior-x","overscroll-behavior-y","padding-block-end","padding-block-start","padding-bottom","padding-inline-end","padding-inline-start","padding-left","padding-right","padding-top","page-break-after","page-break-before","paint-order","perspective","perspective-origin","pointer-events","position","quotes","r","resize","right","row-gap","ruby-align","ruby-position","rx","ry","scroll-behavior","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","scrollbar-color","scrollbar-width","shape-image-threshold","shape-margin","shape-outside","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","table-layout","text-align","text-align-last","text-anchor","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip-ink","text-decoration-style","text-decoration-thickness","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-indent","text-justify","text-orientation","text-overflow","text-rendering","text-shadow","text-transform","text-underline-offset","top","touch-action","transform","transform-box","transform-origin","transform-style","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","user-select","vector-effect","vertical-align","visibility","white-space","width","will-change","word-break","word-spacing","writing-mode","x","y","z-index","-moz-appearance","-moz-box-align","-moz-box-direction","-moz-box-flex","-moz-box-ordinal-group","-moz-box-orient","-moz-box-pack","-moz-float-edge","-moz-force-broken-image-icon","-moz-image-region","-moz-orient","-moz-outline-radius-bottomleft","-moz-outline-radius-bottomright","-moz-outline-radius-topleft","-moz-outline-radius-topright","-moz-stack-sizing","-moz-tab-size","-moz-text-size-adjust","-moz-user-focus","-moz-user-input","-moz-user-modify","-moz-window-dragging","-webkit-line-clamp","-webkit-text-fill-color","-webkit-text-stroke-color","-webkit-text-stroke-width","offset-distance","offset-path","offset-rotate","orphans","speak","tab-size","text-underline-position","text-size-adjust","widows","zoom","-webkit-appearance","-webkit-border-horizontal-spacing","-webkit-border-image","-webkit-border-vertical-spacing","-webkit-box-align","-webkit-box-decoration-break","-webkit-box-direction","-webkit-box-flex","-webkit-box-ordinal-group","-webkit-box-orient","-webkit-box-pack","-webkit-box-reflect","column-span","backdrop-filter","-webkit-font-smoothing","-webkit-highlight","-webkit-hyphenate-character","-webkit-line-break","-webkit-locale","-webkit-margin-before-collapse","-webkit-margin-after-collapse","-webkit-mask-box-image","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat","-webkit-mask-box-image-slice","-webkit-mask-box-image-source","-webkit-mask-box-image-width","-webkit-mask-clip","-webkit-mask-composite","-webkit-mask-image","-webkit-mask-origin","-webkit-mask-position","-webkit-mask-repeat","-webkit-mask-size","-webkit-print-color-adjust","-webkit-rtl-ordering","-webkit-tap-highlight-color","-webkit-text-combine","-webkit-text-decorations-in-effect","-webkit-text-emphasis-color","-webkit-text-emphasis-position","-webkit-text-emphasis-style","-webkit-text-orientation","-webkit-text-security","-webkit-user-drag","-webkit-user-modify","-webkit-writing-mode","-webkit-app-region","buffered-rendering","color-rendering","alignment-baseline","baseline-shift","d"]}static get FACEBOOK_DESIGN_VERSION_OLD(){return 1}static get FACEBOOK_DESIGN_VERSION_NEW(){return 2}static get OUT_TICKET_TYPE_SINGLE(){return"SINGLE"}static get OUT_TICKET_TYPE_MULTI(){return"MULTI"}static get ADBLOCKER_FOR_DISPLAY(){return"DISPLAY"}static get ADBLOCKER_FOR_FACEBOOK(){return"FACEBOOK"}static get ADBLOCKER_FOR_TWITTER(){return"TWITTER"}static get ADBLOCKER_FOR_REDDIT(){return"REDDIT"}static get ADBLOCKER_FOR_PINTEREST(){return"PINTEREST"}static get ADBLOCKER_FOR_INSTAGRAM(){return"INSTAGRAM"}static get ADBLOCKER_FOR_TIKTOK(){return"TIKTOK"}static get ADBLOCKER_FOR_LINKEDIN(){return"LINKEDIN"}static get USE_LOCAL_CONFIG(){return"CONFIG"}static get AD_DETECTOR_INITIATOR_TIMER(){return"timer"}static get AD_DETECTOR_INITIATOR_MUTATION(){return"mutation"}static get AD_DETECTOR_INITIATOR_PAGECHANGE(){return"pagechange"}static get AD_DETECTOR_INITIATOR_ACTIVATION(){return"activation"}static get AD_DETECTOR_INITIATOR_URL(){return"url"}static get AD_DETECTOR_INITIATOR_SCROLL_EVENT(){return"scroll"}static get IFRAMES_CHAIN_BUILDING_STATUS_NONE(){return 0}static get IFRAMES_CHAIN_BUILDING_STATUS_INITED(){return 1}static get IFRAMES_CHAIN_BUILDING_STATUS_STARTED(){return 2}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_STARTED(){return 3}static get IFRAMES_CHAIN_BUILDING_STATUS_TARGET_URL_DETECTION_FINISHED(){return 4}static get IFRAMES_CHAIN_BUILDING_STATUS_FINISHED(){return 5}static get IFRAMES_TRAFFIC_FILENAME_TO_INJECT(){return"fr-co.js"}static get CANDIDATE_PROCESS_STATUS_DETECTED(){return 1}static get CANDIDATE_PROCESS_STATUS_START_PROCESSING(){return 2}static get CANDIDATE_PROCESS_STATUS_PROCESSING_ACTIVATED(){return 3}static get CANDIDATE_PROCESS_STATUS_PREBUILD_INFO_SENT(){return 4}static get TICKET_BUILDING_STATUS_INIT(){return 0}static get TICKET_BUILDING_STATUS_STARTED(){return 1}static get TICKET_BUILDING_STATUS_GETTING_WEBNAVIGATION_IFRAMES(){return 2}static get TICKET_BUILDING_STATUS_GOT_WEBNAVIGATION_IFRAMES(){return 3}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_ACTIVE(){return 4}static get TICKET_BUILDING_STATUS_CONSTRUCT_IFRAME_CHAINS_DONE(){return 5}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_ACTIVE(){return 6}static get TICKET_BUILDING_STATUS_DEEP_TARGET_URL_DETECTION_DONE(){return 7}static get TICKET_BUILDING_STATUS_DONE(){return 8}static get MESSAGE_TYPE_CONFIG_NOT_FOUND(){return"CONFIG_NOT_FOUND"}static get MESSAGE_TYPE_CONFIG_UPDATED_IN_STORAGE(){return"CONFIG_UPDATED_IN_STORAGE"}static get TICKET_ALIAS_PANALYTICSID(){return C.decode("cGFuZWxpc3RJZA==")}static get TICKET_ALIAS_PINSTANCEID(){return C.decode("cGFuZWxJZA==")}static get MAX_OUT_TICKETS_QUEUE_LENGTH(){return 20}static EXCLUDE_DOMAINS_LIST(){return"EXCLUDE_DOMAINS_LIST"}static EXCLUDE_PAGES_LIST(){return"EXCLUDE_PAGES_LIST"}static get STYLES_BORDER_BANNER_CONTENT_EXTRACTED(){return"border: 6px solid blue !important;"}static get STYLES_BORDER_BANNER_URL_EXTRACTED(){return"border: 6px solid blueviolet !important;"}static get STYLES_BORDER_BANNER_FILTERED(){return"border: 6px solid orange !important;"}static get STYLES_BORDER_BANNER_SENT(){return"border: 6px solid green !important;"}static get STYLES_OUTLINE_SUCCESS_DETECT(){return"outline: green solid 6px !important;"}static get STYLES_OUTLINE_VIDEO_AD(){return"outline: rgba(42, 213, 255, 1) solid 6px !important;"}static get STYLES_OUTLINE_TEXT_AD(){return"outline: rgba(243, 143, 20, 1) solid 6px !important;"}static get STYLES_CONSOLE_LOGS_INFO(){return"background-color: rgba(108, 101, 224, 0.2); color: rgba(58, 191, 224, 1)"}static get STYLES_CONSOLE_LOGS_ERROR(){return"background-color: rgba(241, 0, 43, 0.4); color: rgba(58, 191, 224, 1)"}static get STYLES_HIDE_INSTAGRAM_FEED_AD(){return["position: absolute !important; height: 0px !important; margin: 0px !important; padding: 0px !important; overflow: hidden !important;","height: 0px !important; visibility: hidden !important;"]}static get STYLES_HIDE_ELEMENT(){return"left: -10000px !important; position: absolute !important; height: 0;"}}},6882:(x,$,v)=>{const C=v(1568),D=v(2880);x.exports=class{static get EmptyMessage(){return{posdMessageId:C.MESSAGE_ID,posdHash:D.GenerateQuickId(),from:"",to:"",multiTo:[],type:"",content:""}}static IsValid(x){try{if(void 0!==x&&void 0!==x.posdMessageId&&void 0!==x.type&&void 0!==x.content)return x.posdMessageId===C.MESSAGE_ID}catch(x){throw x}return!1}static IsStrictValid(x){try{if(void 0!==x&&void 0!==x.posdMessageId&&void 0!==x.from&&void 0!==x.to&&void 0!==x.type&&void 0!==x.content)return x.posdMessageId===C.MESSAGE_ID}catch(x){throw x}return!1}}},533:(x,$,v)=>{const C=v(1568);x.exports=class{constructor(){}getStylesByElementsBisId(x){let $={};return this.addStylesForNode(x,$),x.querySelectorAll("*").forEach((x=>{this.addStylesForNode(x,$)})),$}addStylesForNode(x,$){let v=this.getStyles(x);$[x.getAttribute(C.ATTRIBUTE_BIS_ELEMENT_ID)]=v}getStyles(x){let $=window.getComputedStyle(x,null);return this.minimiseComputedStyles($)}minimiseComputedStyles(x){let $={};for(let v=0;v<x.length;v++){let D=x.item(v),V=x.getPropertyValue(D);$[V]||($[V]=[]);let p=C.KNOWN_CSS_NAMES.indexOf(D);p>=0?$[V].push(p):$[V].push(D)}return $}}},9358:x=>{var $={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(x,v=!0){if(TextEncoder&&atob&&btoa&&v)return $.bytesToBase64((new TextEncoder).encode(x));let C,D,V,p,K,Z,O,U="",G=0;for(x=$._utf8_encode(x);G<x.length;)C=x.charCodeAt(G++),D=x.charCodeAt(G++),V=x.charCodeAt(G++),p=C>>2,K=(3&C)<<4|D>>4,Z=(15&D)<<2|V>>6,O=63&V,isNaN(D)?Z=O=64:isNaN(V)&&(O=64),U=U+this._keyStr.charAt(p)+this._keyStr.charAt(K)+this._keyStr.charAt(Z)+this._keyStr.charAt(O);return U},decode:function(x,v=!0){if("{"===x[0])return x;if(TextDecoder&&atob&&btoa&&v)return(new TextDecoder).decode($.base64ToBytes(x));let C,D,V,p,K,Z,O,U="",G=0;for(x=x.replace(/[^A-Za-z0-9\+\/\=]/g,"");G<x.length;)p=this._keyStr.indexOf(x.charAt(G++)),K=this._keyStr.indexOf(x.charAt(G++)),Z=this._keyStr.indexOf(x.charAt(G++)),O=this._keyStr.indexOf(x.charAt(G++)),C=p<<2|K>>4,D=(15&K)<<4|Z>>2,V=(3&Z)<<6|O,U+=String.fromCharCode(C),64!=Z&&(U+=String.fromCharCode(D)),64!=O&&(U+=String.fromCharCode(V));return U=$._utf8_decode(U),U},_utf8_encode:function(x){x=x.replace(/\r\n/g,"\n");let $="";for(let v=0;v<x.length;v++){let C=x.charCodeAt(v);C<128?$+=String.fromCharCode(C):C>127&&C<2048?($+=String.fromCharCode(C>>6|192),$+=String.fromCharCode(63&C|128)):($+=String.fromCharCode(C>>12|224),$+=String.fromCharCode(C>>6&63|128),$+=String.fromCharCode(63&C|128))}return $},_utf8_decode:function(x){let $="",v=0,C=0,D=0,V=0;for(;v<x.length;)C=x.charCodeAt(v),C<128?($+=String.fromCharCode(C),v++):C>191&&C<224?(D=x.charCodeAt(v+1),$+=String.fromCharCode((31&C)<<6|63&D),v+=2):(D=x.charCodeAt(v+1),V=x.charCodeAt(v+2),$+=String.fromCharCode((15&C)<<12|(63&D)<<6|63&V),v+=3);return $},base64ToBytes:function(x){const $=atob(x);return Uint8Array.from($,(x=>x.codePointAt(0)))},bytesToBase64:function(x){const $=Array.from(x,(x=>String.fromCodePoint(x))).join("");return btoa($)}};x.exports=$}},$={};function v(C){var D=$[C];if(void 0!==D)return D.exports;var V=$[C]={exports:{}};return x[C](V,V.exports,v),V.exports}v.n=x=>{var $=x&&x.__esModule?()=>x.default:()=>x;return v.d($,{a:$}),$},v.d=(x,$)=>{for(var C in $)v.o($,C)&&!v.o(x,C)&&Object.defineProperty(x,C,{enumerable:!0,get:$[C]})},v.o=(x,$)=>Object.prototype.hasOwnProperty.call(x,$),(()=>{"use strict";v(7452);const x=v(1568),$=v(3129),C=v(3870),D=v(2880);if(self===top){(new $).Init()}else if(D.CheckDocumentReadyState(x.DOCUMENT_READYSTATE_LOADING))document.addEventListener("DOMContentLoaded",(()=>{(new C).Init()}));else if(D.CheckDocumentReadyState(x.DOCUMENT_READYSTATE_INTERACTIVE)||D.CheckDocumentReadyState(x.DOCUMENT_READYSTATE_COMPLETE)){(new C).Init()}})()})();