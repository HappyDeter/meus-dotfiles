(()=>{const x=function(){let x=sessionStorage.getItem("bis_data");return null!==x?JSON.parse(x):null}(),$=x?x.config.pinterestConfig.VIDEO_TRAFFIC_CONFIG.PARSERS:[],v=x?x.config.pinterestConfig.VIDEO_TRAFFIC_CONFIG.PROPERTIES_FOR_VIDEO_DATA:[],C=x?`${x.id}_p`:null;const D=function(x,$){let C=null;for(let D of v){const v=D.NAME,p=D.PATH_NAME;C||(C={}),"detectionTime"!==v?"videoId"===v&&C.videoUrl?C[v]=K(C.videoUrl,$[p]):C[v]=V(x,$[p]):C[v]=Date.now()/1e3|0}return C},V=function(x,$){let v=x;for(let x of $)if(v[x])v=v[x];else if(!v[x]){v=null;break}return v},p=function(x,$){return function(){!function(x,$,v){try{let C={posdMessageId:"PANELOS_MESSAGE",posdHash:(Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)).substring(0,22),type:v,from:x,to:x.substring(0,x.length-2),content:$};window.postMessage(C)}catch(x){}}(C,x,$)}},K=function(x,$){if(!x)return"";const v=new RegExp($);let C=x.match(v);return C&&C[1]?C[1]:""},Z=function(x,$){let v=null;const C=Object.keys(x);for(let V of C){const C=x[V];$.CHECK_PROPERTIES.every((x=>C[x]))&&(v=D(C,$.PATHS_GET_PROPERTIES),v&&setTimeout(p(v,"PINTEREST_VIDEO_DATA"),0))}},O={script:function(x){const $=Array.from(document.querySelectorAll(x.QUERY));if($.length)for(let v of $)try{if(!v.text||v.text&&"{"!==v.text[0])return;v.setAttribute("data-bis-activated","");let $=JSON.parse(v.text),C={};for(let v of x.PATH_TO_PINS){let x=!1;C=$;for(let $ of v){const D=v.indexOf($);if(!C[$])break;C=C[$],D===v.length-1&&(x=!0)}if(x)break}setTimeout((()=>Z(C,x)),0)}catch(x){}},XMLHttpRequest:function(x){let $=XMLHttpRequest.prototype.open,v=XMLHttpRequest.prototype.setRequestHeader;XMLHttpRequest.prototype.setRequestHeader=function(){const x=arguments[0].toLowerCase(),$=arguments[1];this.requestHeaders||(this.requestHeaders={}),this.requestHeaders[x]=$,v.apply(this,arguments)},XMLHttpRequest.prototype.open=function(){this.requestMethod=arguments[0],$.apply(this,arguments)};let C=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){let $=this.onreadystatechange;return this.onreadystatechange=function(){const v=new RegExp(x.QUERY);if(4===this.readyState&&v.test(this.responseURL)){let $=this.response.length&&"{"===this.response[0]?JSON.parse(this.response):this.response,v=[];for(let C of x.PATH_TO_PINS){let x=!1;v=$;for(let $ of C){const D=C.indexOf($);if(!v[$])break;v=v[$],D===C.length-1&&(x=!0)}if(x)break}!function(x,$){let v=null;if(x.length)for(let C of x)$.CHECK_PROPERTIES.every((x=>C[x]))&&(v=D(C,$.PATHS_GET_PROPERTIES),v&&setTimeout(p(v,"PINTEREST_VIDEO_DATA"),0))}(v,x)}if($)return $.apply(this,arguments)},C.apply(this,arguments)}}};for(let x of $){if(!x.USE)continue;if("XMLHttpRequest"===x.TYPE){O[x.TYPE](x);continue}let $=x?.MAX_REPEATS_ACTIVATE||5,v=setInterval((()=>{$--,O[x.TYPE](x),$<=0&&clearInterval(v)}),1e3)}})();